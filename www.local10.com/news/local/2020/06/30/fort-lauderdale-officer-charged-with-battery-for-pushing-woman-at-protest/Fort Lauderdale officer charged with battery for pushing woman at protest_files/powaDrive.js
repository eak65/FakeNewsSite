!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=206)}([function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"u",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"i",function(){return v}),n.d(e,"l",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return y}),n.d(e,"m",function(){return w}),n.d(e,"v",function(){return k}),n.d(e,"s",function(){return S}),n.d(e,"n",function(){return E}),n.d(e,"o",function(){return j}),n.d(e,"p",function(){return A}),n.d(e,"q",function(){return T}),n.d(e,"r",function(){return _}),n.d(e,"k",function(){return P}),n.d(e,"t",function(){return C});var i=n(1),o=n(3),r=1e3,a=60*r,s=60*a,c=24*s,u={LEFT:37,RIGHT:39,SPACEBAR:32},l=Object.freeze({red:153,green:50,blue:204}),d=Object.freeze({red:0,green:0,blue:0}),f=Object.freeze({red:240,green:248,blue:255});function h(){return Object.freeze({accent:Object(i.get)(window,"PoWaSettings.colors.accent",l),background:Object(i.get)(window,"PoWaSettings.colors.background",d),primary:Object(i.get)(window,"PoWaSettings.colors.primary",f)})}var p={POWA_BAR_SHOW:"powaBarShow",POWA_BAR_HIDE:"powaBarHide"},g={POWA_CLICK:"powaClick",POWA_CUSTOM:"powaCustom",POWA_HOVER:"powaHover",POWA_TOUCH:"powaTouch"},v={powaClick:"powa-click",powaHover:"powa-hover",powaTouch:"powa-touch"},m={ADDED_TO_DOM:"addedToDOM",RESIZE:"resize",VIEWABLE:"viewable",NOT_VIEWABLE:"notViewable"},b=Object.freeze({1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}),y=Object.freeze(["abort","canplay","canplaythrough","click","contextmenu","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"]),w=Object.freeze({BUFFERING:"powaBuffering",COMPLETE:"powaComplete",END:"powaEnd",ERROR:"powaError",FIRST_FRAME:"powaFirstFrame",LOADED:"powaLoaded",LOOP:"powaLoop",MEDIA_CLICK:"powaMediaClick",MEDIA_HOVER:"powaMediaHover",MEDIA_RIGHT_CLICK:"powaMediaRightClick",MEDIA_START:"powaMediaStart",META:"powaMeta",MUTED:"powaMuted",PAUSE:"powaPause",PLAY:"powaPlay",PROGRESS:"powaProgress",READY:"powaReady",SEEK:"powaSeek",SEEKED:"powaSeeked",SKIP:"powaSkip",START:"powaStart",TIME:"powaTime",UNLOADED:"powaUnloaded",VOLUME:"powaVolume"}),O=/^powa/;function k(t){var e=t.replace(O,"");return e=e[0].toLowerCase()+e.slice(1)}var S=Object(o.mapObj)(w,k),E={AD_BAR_DISABLE_SKIP:"adBarDisableSkip",AD_BAR_ENABLE_SKIP:"adBarEnableSkip",AD_BAR_HIDE:"adBarHide",AD_BAR_MUTE:"adBarMute",AD_BAR_PAUSE:"adBarPause",AD_BAR_PLAY:"adBarPlay",AD_BAR_SHOW:"adBarShow",AD_BAR_SHOW_SKIP:"adBarShowSkip",AD_BAR_SKIP:"adBarSkip"},j=Object.assign({AD_CLICK:"adClick",AD_COMPANIONS:"adCompanions",AD_COMPLETE:"adComplete",AD_CONTENT_PAUSE_REQUESTED:"adContentPauseRequested",AD_CONTENT_RESUME_REQUESTED:"adContentResumeRequested",AD_DESTROYED:"adDestroyed",AD_DURATION_CHANGE:"adDurationChange",AD_END:"adEnd",AD_ERROR:"adError",AD_FIRST_FRAME:"adFirstFrame",AD_FIRST_QUARTILE:"adFirstQuartile",AD_IMPRESSION:"adImpression",AD_LOADED:"adLoaded",AD_MIDPOINT:"adMidpoint",AD_MUTE:"adMute",AD_NULL:"adNull",AD_OVERRUN:"adOverrun",AD_PAUSE:"adPause",AD_PLAY:"adPlay",AD_PLAYLIST_COMPLETE:"adPlaylistComplete",AD_READY:"adReady",AD_REQUEST:"adRequest",AD_REWIND:"adRewind",AD_SETUP_ERROR:"adSetupError",AD_SKIP:"adSkip",AD_START:"adStart",AD_START_REQUEST:"adStartRequest",AD_START_TIMEOUT:"adStartTimeout",AD_START_UNREPORTED:"adStartUnreported",AD_THIRD_QUARTILE:"adThirdQuartile",AD_TIME:"adTime",AD_TRUNCATED:"adTruncated",AD_WAITING:"adWaiting"},E),A={POWA_RENDER:"powaRender",PROMO_CLICK:"promoClick",PROMO_HIDE:"promoHide",PROMO_HOVER:"promoHover",PROMO_PLAY:"promoPlay",PROMO_SHOW:"promoShow",PROMO_TOUCH:"promoTouch"},T={SUBS_AVAILABLE:"subsAvailable",SUBS_UNAVAILABLE:"subsUnavailable",SUBS_ENABLED:"subsEnabled",SUBS_DISABLED:"subsDisabled",SUBTITLES_CUSTOMIZE_CLICK:"subtitlesCustomizeClick",SUBTITLES_CUSTOMIZE_OPENED:"subtitlesCustomizeOpened",SUBTITLES_CUSTOMIZE_CLOSED:"subtitlesCustomizeClosed"},_={PLAYBACK_0:"playback0",PLAYBACK_25:"playback25",PLAYBACK_50:"playback50",PLAYBACK_75:"playback75",PLAYBACK_100:"playback100"},P={PLAYLIST:"playlist",PLAYLIST_LOADED:"playlistLoaded",PLAYLIST_COMPLETE:"playlistComplete"},C=Object.assign({ALL:"*",AUTOPLAY:"autoplay",DESTROYED:"destroyed",FULLSCREEN:"fullscreen",HOVER:"hover",MOUSE:"mouse",TAP:"tap",HLS_TAGS:"hlsTags",HLS_INITIAL_LEVEL:"hlsInitialLevel",HLS_LEVEL_SWITCH:"hlsLevelSwitch",POWA_ERROR:"powaError",POWA_READY:"powaReady",POWA_RENDER:"powaRender"},S,p,m,P,j,A,T,_)},function(t,e,n){"use strict";n.r(e);var i=n(27),o=n(0),r=n(5),a=/^2\d\d$/;function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.g,s=new XMLHttpRequest;return s.onreadystatechange=function(){s.readyState>3&&(a.test(s.status)?e(s.responseText):n(s))},s.onerror=function(){return n(s)},s.open("GET",t),s.timeout=i,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.send(),s}var c=/^2\d\d$/;function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.a,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.g,s=new XMLHttpRequest;return s.onreadystatechange=function(){s.readyState>3&&(c.test(s.status)?n(s.responseText):i(s))},s.onerror=function(){return i(s)},s.open("POST",t),s.timeout=a,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(e)),s}var l=n(29);function d(t){Object.keys(t).forEach(function(e){var n=t[e];document[e]=function(t){t=t||window.event;var e=n[t.keyCode];e&&e()}})}var f=n(14),h=n(23);function p(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(e,n){var i=function(){document.body.removeChild(o),o.src="",o.load()},o=document.createElement("video");t&&(o.muted="muted"),o.src=Object(h.j)("tiny.mp4"),o.setAttribute("playsinline",""),document.body.appendChild(o);var r=o.play();r?r.then(function(){i(),e()}).catch(function(){i(),n()}):(i(),e())})}function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie="".concat(t,"=").concat(e,";path=/;expires=").concat(i.toGMTString())}function v(t){g(t,"",-1)}var m=n(36),b=n(6);function y(t){Object(b.a)(t,"webkitExitFullscreen")?t.webkitExitFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}var w=n(12);function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;try{var i=localStorage.getItem(t);if(null!==i)return n?i:Object(w.a)(i);throw i}catch(t){return e}}function k(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.join(" ");return'<i class="'.concat(n?"".concat(n," "):"","fa fa-").concat(e,'" aria-hidden="true"></i>')}var S=n(39),E=n(28),j=n(30);function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.match(e);return i&&i.length>n?i[n]:""}function T(t,e){var n=t.red,i=t.green,o=t.blue;return null!=e?"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(e,")"):"rgb(".concat(n,", ").concat(i,", ").concat(o,")")}function _(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=new Image;i.onload=e,i.onerror=n,i.src=t}var C=n(40),x=n(34),D=n(13);function L(t,e){return null==e&&(e=t,t=0),Math.floor(Math.random()*(e-t+1))+t}function R(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(t){return(t.textTracks?R(t.textTracks):[]).filter(function(t){return t.label&&t.language})}var I=n(21),W=n(37);function N(t){if(t instanceof HTMLElement){var e=t.offsetHeight,n=window.innerHeight||document.documentElement.clientHeight,i=t.getBoundingClientRect();return i.top+e>=0&&i.bottom-e<=n?i.top>=0&&i.bottom<=n?1:i.top<0&&i.bottom>n?(e+i.top-(i.bottom-n))/e:i.top<0?(e+i.top)/e:(e-(i.bottom-n))/e:0}return null}var $=n(35),B=n(20),U=n(8);function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&e&&"string"==typeof t&&"string"==typeof e?(e=e.toLowerCase(),(t=t.toLowerCase().split("?")[0]).endsWith(e)):null}function V(){if(!document||!document.body)return!1;var t=document.createElement("span");t.className="fa",t.style.display="none",document.body.insertBefore(t,document.body.firstChild);var e="FontAwesome"===getComputedStyle(t).fontFamily;return document.body.removeChild(t),e}function F(t){return(t="string"==typeof t?t:JSON.stringify(t)).split("").reduce(function(t,e){return(t=31*t+e.charCodeAt(0))&t},0)}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof HTMLElement){var i=t.getBoundingClientRect();return i.top+t.offsetHeight*e>=0&&i.bottom-t.offsetHeight*e<=(window.innerHeight||document.documentElement.clientHeight)&&(!n||i.left>=0)&&(!n||i.right<=(window.innerWidth||document.documentElement.clientWidth))}return null}function q(t){return!t||0===Object.keys(t).length}function G(t){return!!(Object(b.a)(t,"webkitDisplayingFullscreen")||document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreen||document.msFullscreenElement)}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){if(!t)return!1;if(t instanceof HTMLElement)return!0;if("object"===Y(t)){var e=(t+"").replace("[object ","").replace("]","");return e.startsWith("HTML")&&e.endsWith("Element")}return!1}var Q=n(22);function Z(t){return"function"==typeof Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function J(){var t="powatest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function X(t,e,n){return t>=e&&t<=n}var tt=n(4),et=/^(http:|https:)?\/\//i;function nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof t&&et.test(t)}function it(t){return t instanceof HTMLElement?t.offsetWidth||t.offsetHeight||t.getClientRects().length:null}var ot=/^[A-Z]/,rt=/(\S+?)([A-Z]+)/g;function at(t){return t.replace(ot,function(t){return t.toLowerCase()}).replace(rt,function(t,e,n){return"".concat(e,"-").concat(n.toLowerCase())})}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=document.createElement("link");document.getElementsByTagName("head")[0].appendChild(i),i.onerror=n,i.onload=e,i.type="text/css",i.rel="stylesheet",i.href=t}var ct=n(19),ut=n(18);function lt(t){return Object(tt.a)(t)&&Object.keys(t).length}function dt(t){if("hidden"===document.visibilityState){document.addEventListener("visibilitychange",function e(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",e),t())})}else t()}var ft=n(38),ht=n(31);function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width=550, height=450, top=".concat(screen.height/2-225,", left=").concat(screen.width/2-275);try{window.open(t,"_blank",e)}catch(t){console.error(t)}}var gt=n(32);function vt(t){return new Promise(function(e,n){return st(t,e,n)})}function mt(t){return new Promise(function(e,n){fetch(t).then(function(t){return t.text()}).then(e).catch(n)})}var bt=/<body .*?>(.*)<\/body>/,yt=/<script>.*<\/script>/g;function wt(t){return new Promise(function(e,n){mt(t).then(function(t){return e(A(t,bt).replace(yt,""))}).catch(n)})}function Ot(t){return new Promise(function(e,n){return P(t,e,n)})}function kt(t){return new Promise(function(e,n){return Object(ct.a)(t,e,n)})}var St=/^http:/;function Et(t){return t.replace(St,"")}var jt=n(15);function At(t){t instanceof HTMLElement&&(t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())}var Tt=n(17),_t=n(3);function Pt(t){var e=t.streams,n=t.live,i=t.maxBitrate,o=t.streamPreference;e=Array.isArray(e)?e:[];var r=Object(_t.groupBy)(e,function(t){return o.find(function(e){return H(t.url,e)})});return n?e.map(function(t){return t.url}):Object(_t.chain)(o).map(function(t){return(e=r[t])?Object(_t.chain)(e).reject(function(t){return t.bitrate>i}).map(function(t){return Object(_t.extend)(t,{bitrate:isNaN(t.bitrate)?0:t.bitrate,height:isNaN(t.height)?0:t.height,width:isNaN(t.width)?0:t.width})}).max(function(t){return t.bitrate||t.height+t.width}).value():{};var e}).compact().map(function(t){return lt(t)?t.url:null}).compact().value()}var Ct=n(33);function xt(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t instanceof HTMLElement&&(!i&&t.hasAttribute(e)||t.setAttribute(e,n))}function Dt(t){var e=Object(f.a)(t);return e[0].toUpperCase()+e.slice(1)}var Lt={};function Rt(t){if(!t&&lt(Lt))return Lt;if(t=t||(window.navigator&&navigator.userAgent?navigator.userAgent:"")){var e=/ipod|iphone|ipad/i.test(t),n=/android/i.test(t),i=/silk/i.test(t),o=/CrOS/i.test(t),r=/windows phone/i.test(t),a=!r&&/windows/i.test(t),s=!e&&!i&&/macintosh/i.test(t),c=!n&&/linux/i.test(t),u=A(t,/edge\/(\d+(\.\d+)?)/i),l=A(t,/version\/(\d+(\.\d+)?)/i),d=/tablet|ipad/i.test(t),f=!d&&/[^-]mobi/i.test(t),h=!(f||d),p=document.documentElement.ontouchstart,g=f?"mobile":d?"tablet":"desktop";Object.assign(Lt,{version:l,isAndroid:n,isIOS:e,isKindle:!1,isLinux:c,isMac:s,isChromeOs:o,isWindows:a,isWindowsPhone:r,isAndroidBrowser:!1,isChrome:!1,isFirefox:!1,isIE:!1,isSafari:!1,isSamsungBrowser:!1,isSilk:i,isDesktop:h,isMobile:f,isTablet:d,isTouch:p,isWebView:!1,clientType:g}),r?Object.assign(Lt,{browserName:"explorer",version:u||A(t,/iemobile\/(\d+(\.\d+)?)/i),isIE:!0}):/msie|trident/i.test(t)?Object.assign(Lt,{browserName:"explorer",version:A(t,/(?:msie |rv:)(\d+(\.\d+)?)/i),isIE:!0}):/chrome.+? edge/i.test(t)?Object.assign(Lt,{browserName:"edge",version:u,isIE:!0}):/firefox/i.test(t)?Object.assign(Lt,{browserName:"firefox",version:A(t,/firefox[ /](\d+(\.\d+)?)/i),isFirefox:!0}):i?Object.assign(Lt,{browserName:"silk",version:A(t,/silk\/(\d+(\.\d+)?)/i),isKindle:!0}):/samsungbrowser/i.test(t)?Object.assign(Lt,{browserName:"samsung",version:A(t,/samsungbrowser\/(\d+(\.\d+)?)/i),isSamsungBrowser:!0,isWebView:/\swv\)/i.test(t)}):/chrome/i.test(t)?Object.assign(Lt,{browserName:"chrome",version:A(t,/chrome\/(\d+(\.\d+)?)/i),isChrome:!0,isWebView:/\swv\)/i.test(t)}):n?Object.assign(Lt,{browserName:"android",version:l,isAndroidBrowser:!0}):/CriOS/i.test(t)?Object.assign(Lt,{browserName:"chrome-ios",version:l||A(t,/ OS (\d+)/i),isChrome:!0,isWebView:!l}):/safari|applewebkit/i.test(t)?Object.assign(Lt,{browserName:"safari",version:l||A(t,/ OS (\d+)/i),isSafari:!0,isWebView:!l}):e&&Object.assign(Lt,{browserName:"safari",version:l||A(t,/ OS (\d+)/i),isSafari:!0,isWebView:!l}),Lt.version=Number(Lt.version)}return Lt}var Mt=n(2);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!t)return null;if("object"===It(t))Object(Mt.a)(t,function(t,e){return Wt(e,t)});else try{return localStorage.setItem(t,e),!0}catch(t){return!1}}var Nt={playIcon:function(t){return'\n        <svg class="'.concat(t,'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n        viewBox="0 0 438.533 438.533" xml:space="preserve">\n            <g>\n                <path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0\n                    c-39.781,0-76.47,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267\n                    c0,39.78,9.804,76.463,29.407,110.062c19.607,33.592,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407\n                    s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.596,29.403-70.284,29.403-110.062\n                    C438.533,179.485,428.732,142.795,409.133,109.203z M353.742,297.208c-13.894,23.791-32.736,42.64-56.527,56.534\n                    c-23.791,13.894-49.771,20.834-77.945,20.834c-28.167,0-54.149-6.94-77.943-20.834c-23.791-13.895-42.633-32.743-56.527-56.534\n                    c-13.897-23.791-20.843-49.772-20.843-77.941c0-28.171,6.949-54.152,20.843-77.943c13.891-23.791,32.738-42.637,56.527-56.53\n                    c23.791-13.895,49.772-20.84,77.943-20.84c28.173,0,54.154,6.945,77.945,20.84c23.791,13.894,42.634,32.739,56.527,56.53\n                    c13.895,23.791,20.838,49.772,20.838,77.943C374.58,247.436,367.637,273.417,353.742,297.208z"/>\n                <path d="M328.911,203.561l-155.32-91.36c-5.896-3.617-11.991-3.711-18.271-0.284c-6.09,3.615-9.136,8.942-9.136,15.984v182.725\n                    c0,7.04,3.046,12.371,9.136,15.985c3.046,1.522,6.09,2.286,9.135,2.286c3.234,0,6.283-0.856,9.136-2.567l155.32-91.361\n                    c6.088-3.426,9.134-8.661,9.134-15.699C338.045,212.23,334.992,206.988,328.911,203.561z"/>\n            </g>\n        </svg>').trim()},circleNotch:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" focusable="false" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1728 1728">\n            <path d="M1728 864q0 176-68.5 336t-184 275.5t-275.5 184t-336 68.5t-336-68.5t-275.5-184t-184-275.5T0 864q0-213 97-398.5T362 160T736 9v228q-221 45-366.5 221T224 864q0 130 51 248.5t136.5 204t204 136.5t248.5 51t248.5-51t204-136.5t136.5-204t51-248.5q0-230-145.5-406T992 237V9q206 31 374 151t265 305.5t97 398.5z"/>\n        </svg>\n    ').trim()},backward:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="backward" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"></path>\n        </svg>\n    ').trim()},forward:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="forward" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"></path>\n        </svg>\n    ').trim()},undo:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="undo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"></path>\n        </svg>\n    ').trim()},play:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104 104">\n            <polygon fill="currentColor" points="23 13 89.183 50.82 23 91"/>\n        </svg>\n    ').trim()},pause:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104 104">\n            <path fill="currentColor" d="M12,91 L12,13 L42,13 L42,91 L12,91 Z M62,91 L62,13 L92,13 L92,91 L62,91 Z"/>\n        </svg>\n    ').trim()},pauseCircle:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="pause-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-16 328c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160zm112 0c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160z"></path>\n        </svg>\n    ').trim()},playCircle:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="play-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n            <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"></path>\n        </svg>\n    ').trim()},envelope:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M4.248 6H28a1 1 0 0 1 .27.037L16.208 16.932 4.249 6zM29 8.072V25a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7.463L15.588 18.97c.38.348.951.36 1.319.027L29 8.072z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},facebookSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fab" data-icon="facebook-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path>\n        </svg>\n    ').trim()},twitterSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fab" data-icon="twitter-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path>\n        </svg>\n    ').trim()},shareSquare:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="share-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\n            <path fill="currentColor" d="M568.482 177.448L424.479 313.433C409.3 327.768 384 317.14 384 295.985v-71.963c-144.575.97-205.566 35.113-164.775 171.353 4.483 14.973-12.846 26.567-25.006 17.33C155.252 383.105 120 326.488 120 269.339c0-143.937 117.599-172.5 264-173.312V24.012c0-21.174 25.317-31.768 40.479-17.448l144.003 135.988c10.02 9.463 10.028 25.425 0 34.896zM384 379.128V448H64V128h50.916a11.99 11.99 0 0 0 8.648-3.693c14.953-15.568 32.237-27.89 51.014-37.676C185.708 80.83 181.584 64 169.033 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-88.806c0-8.288-8.197-14.066-16.011-11.302a71.83 71.83 0 0 1-34.189 3.377c-7.27-1.046-13.8 4.514-13.8 11.859z"></path>\n        </svg>\n    ').trim()},cc:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n            <path fill="currentColor" d="M3,26 C2.44771525,26 2,25.5522847 2,25 L2,7 C2,6.44771525 2.44771525,6 3,6 L29,6 C29.5522847,6 30,6.44771525 30,7 L30,25 C30,25.5522847 29.5522847,26 29,26 L3,26 Z M4,24 L28,24 L28,8 L4,8 L4,24 Z M12.1245136,20 C9.89883268,20 8.34241245,18.5214008 8.34241245,15.9844358 C8.34241245,13.7898833 9.82101167,12 12.155642,12 C14.0233463,12 15.2684825,12.9961089 15.5797665,14.8949416 L13.4319066,15.0972763 C13.3229572,14.2101167 12.9961089,13.6031128 12.233463,13.6031128 C11.3618677,13.6031128 10.9105058,14.4280156 10.9105058,16 C10.9105058,17.7120623 11.4241245,18.459144 12.2645914,18.459144 C13.0272374,18.459144 13.3696498,17.9455253 13.5097276,17.07393 L15.5953307,17.2607004 C15.3618677,19.0194553 14.1322957,20 12.1245136,20 Z M20.1867704,20 C17.9610895,20 16.4046693,18.5214008 16.4046693,15.9844358 C16.4046693,13.7898833 17.8832685,12 20.2178988,12 C22.0856031,12 23.3307393,12.9961089 23.6420233,14.8949416 L21.4941634,15.0972763 C21.385214,14.2101167 21.0583658,13.6031128 20.2957198,13.6031128 C19.4241245,13.6031128 18.9727626,14.4280156 18.9727626,16 C18.9727626,17.7120623 19.4863813,18.459144 20.3268482,18.459144 C21.0894942,18.459144 21.4319066,17.9455253 21.5719844,17.07393 L23.6575875,17.2607004 C23.4241245,19.0194553 22.1945525,20 20.1867704,20 Z"/>\n        </svg>\n    ').trim()},cog:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M17.54 5.04l1.295-2.243a1 1 0 0 1 1.366-.366l5.004 2.89a1 1 0 0 1 .366 1.365l-1.295 2.242a11.1 11.1 0 0 1 1.836 3.183h2.59a1 1 0 0 1 1 1v5.778a1 1 0 0 1-1 1h-2.589a11.18 11.18 0 0 1-1.837 3.182l1.295 2.243a1 1 0 0 1-.366 1.366L20.2 29.569a1 1 0 0 1-1.366-.366l-1.296-2.244a11.1 11.1 0 0 1-3.674.002l-1.294 2.242a1 1 0 0 1-1.366.366L6.2 26.679a1 1 0 0 1-.366-1.365l1.294-2.242a11.1 11.1 0 0 1-1.835-3.183H2.703a1 1 0 0 1-1-1V13.11a1 1 0 0 1 1-1h2.59A11.18 11.18 0 0 1 7.13 8.93L5.835 6.686a1 1 0 0 1 .366-1.366l5.004-2.889a1 1 0 0 1 1.366.366l1.295 2.244a11.1 11.1 0 0 1 3.675-.002zm-3.837 14.424a4 4 0 1 0 4-6.928 4 4 0 0 0-4 6.928z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},compress:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="compress-alt" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M4.686 427.314L104 328l-32.922-31.029C55.958 281.851 66.666 256 88.048 256h112C213.303 256 224 266.745 224 280v112c0 21.382-25.803 32.09-40.922 16.971L152 376l-99.314 99.314c-6.248 6.248-16.379 6.248-22.627 0L4.686 449.941c-6.248-6.248-6.248-16.379 0-22.627zM443.314 84.686L344 184l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C234.697 256 224 245.255 224 232V120c0-21.382 25.803-32.09 40.922-16.971L296 136l99.314-99.314c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.248 6.248 6.248 16.379 0 22.627z"></path>\n        </svg>\n    ').trim()},expand:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="expand-alt" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n            <path fill="currentColor" d="M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"></path>\n        </svg>\n    ').trim()},repeat:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M12 2.75a9.236 9.236 0 0 1 6.542 2.71L21 3v7h-7l2.774-2.773a6.75 6.75 0 1 0-.445 9.952l1.605 1.917A9.25 9.25 0 1 1 12 2.75z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},volumeOff:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="volume-off" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">\n            <path fill="currentColor" d="M215 71l-89 89H24a24 24 0 0 0-24 24v144a24 24 0 0 0 24 24h102.06L215 441c15 15 41 4.47 41-17V88c0-21.47-26-32-41-17z"></path>\n        </svg>\n    ').trim()},volumeUp:function(t){return'\n        <svg class="'.concat(t,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n            <path fill="currentColor" d="M9.66666667,12.6665333 L19,4.66653333 L19,28.6665333 L9.66666667,20.6665333 L3,20.6665333 L3,12.6665333 L9.66666667,12.6665333 Z M23.1116126,25.6465709 L22.7139874,23.6864958 C26.0253765,23.0147399 28.4434667,20.0889234 28.4434667,16.6665333 C28.4434667,13.2441432 26.0253765,10.3183267 22.7139874,9.64657085 L23.1116126,7.68649581 C27.3509537,8.54649811 30.4434667,12.288346 30.4434667,16.6665333 C30.4434667,21.0447207 27.3509537,24.7865686 23.1116126,25.6465709 Z M22.5866938,13.4119998 L23.2389062,11.5213335 C25.3455952,12.248066 26.8205888,14.1832132 26.9132641,16.4409811 C27.0142304,18.8609659 25.5017774,21.0228258 23.238619,21.8027655 L22.586981,19.9119012 C24.0231843,19.4169504 24.9787037,18.0511566 24.9149747,16.5236795 C24.8564099,15.0969204 23.9236857,13.8732143 22.5866938,13.4119998 Z"/>\n        </svg>  \n    ').trim()},arrowLeft:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M17.366 1.183l1.768 1.768-11.8 11.798L29 14.75v2.5H7.2l11.934 11.933-1.768 1.768-14-14a1.25 1.25 0 010-1.768l14-14z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},arrowRight:function(t){return'\n        <svg class="'.concat(t,'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n            <path fill="currentColor" d="M14.568.933l14 14a1.25 1.25 0 010 1.768l-14 14-1.768-1.768L24.483 17.25 3 17.25v-2.5h21.849L12.8 2.7 14.568.934z" fill="#000" fill-rule="nonzero"/>\n        </svg>\n    ').trim()},spinner:function(t){return'\n        <svg class="'.concat(t,'" focusable="false" data-prefix="fas" data-icon="spinner" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" >\n            <path fill="currentColor" d="M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"/>\n        </svg>\n    ').trim()}};function $t(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.join(" "),i=Nt[e];return i?i(n):""}function Bt(t){var e,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,s=0;function c(){s=!1===r.leading?0:Date.now(),a=null,i=t.apply(e,n),a||(e=n=null)}return function(){var u=Date.now();s||!1!==r.leading||(s=u);var l=o-(u-s);return e=this,n=arguments,l<=0||l>o?(a&&(clearTimeout(a),a=null),s=u,i=t.apply(e,n),a||(e=n=null)):a||!1===r.trailing||(a=setTimeout(c,l)),i}}function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;return"number"!=typeof t||isNaN(t)?n:Number(t.toFixed(e))}function Ht(t,e){return t.slice(0,-e.length)}function Vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.endsWith(e)?n?Vt(Ht(t,e),e,n):Ht(t,e):t}var Ft=n(7);function zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zt(t.split("?"),2),i=n[0],o=n[1];return o=Object(D.a)(o||""),o=Object(Ft.a)(o,e),(o=Object(jt.a)(o))&&(o="?".concat(o)),"".concat(i).concat(o)}n.d(e,"addCSS",function(){return i.a}),n.d(e,"ajaxGET",function(){return s}),n.d(e,"ajaxPOST",function(){return u}),n.d(e,"bindAll",function(){return l.a}),n.d(e,"bindKeyboardListeners",function(){return d}),n.d(e,"camelCase",function(){return f.a}),n.d(e,"canAutoplay",function(){return p}),n.d(e,"deleteCookie",function(){return v}),n.d(e,"ensureDataset",function(){return m.a}),n.d(e,"exitFullscreen",function(){return y}),n.d(e,"fetchLocal",function(){return O}),n.d(e,"fontAwesomeIcon",function(){return k}),n.d(e,"formatTime",function(){return S.a}),n.d(e,"freeze",function(){return E.a}),n.d(e,"fuzzyTime",function(){return j.a}),n.d(e,"get",function(){return b.a}),n.d(e,"getCapturingGroup",function(){return A}),n.d(e,"getColor",function(){return T}),n.d(e,"getCookie",function(){return _}),n.d(e,"getImage",function(){return P}),n.d(e,"getJSONP",function(){return C.a}),n.d(e,"getQueryStringObj",function(){return x.a}),n.d(e,"getQueryStringParameters",function(){return D.a}),n.d(e,"getRandomNumber",function(){return L}),n.d(e,"getTextTracks",function(){return M}),n.d(e,"getURL",function(){return I.a}),n.d(e,"getVideoSupport",function(){return W.a}),n.d(e,"getViewableFraction",function(){return N}),n.d(e,"globalError",function(){return $.a}),n.d(e,"globalEvent",function(){return B.a}),n.d(e,"has",function(){return U.a}),n.d(e,"hasExtension",function(){return H}),n.d(e,"hasFontAwesome",function(){return V}),n.d(e,"hash",function(){return F}),n.d(e,"isElementInViewport",function(){return z}),n.d(e,"isEmpty",function(){return q}),n.d(e,"isFullscreen",function(){return G}),n.d(e,"isHTMLElement",function(){return K}),n.d(e,"isIframe",function(){return Q.a}),n.d(e,"isInteger",function(){return Z}),n.d(e,"isLocalStorageSupported",function(){return J}),n.d(e,"isNumWithin",function(){return X}),n.d(e,"isObject",function(){return tt.a}),n.d(e,"isURL",function(){return nt}),n.d(e,"isVisible",function(){return it}),n.d(e,"kabobCase",function(){return at}),n.d(e,"loadCSS",function(){return st}),n.d(e,"loadScript",function(){return ct.a}),n.d(e,"nextTick",function(){return ut.a}),n.d(e,"noop",function(){return r.a}),n.d(e,"notEmpty",function(){return lt}),n.d(e,"onceVisible",function(){return dt}),n.d(e,"onReady",function(){return ft.a}),n.d(e,"openInNewTab",function(){return ht.a}),n.d(e,"openInPopup",function(){return pt}),n.d(e,"parseString",function(){return w.a}),n.d(e,"parseURL",function(){return gt.a}),n.d(e,"promiseCSS",function(){return vt}),n.d(e,"promiseHTML",function(){return wt}),n.d(e,"promiseImage",function(){return Ot}),n.d(e,"promiseScript",function(){return kt}),n.d(e,"promiseText",function(){return mt}),n.d(e,"protocolAgnosticURL",function(){return Et}),n.d(e,"querystringify",function(){return jt.a}),n.d(e,"requestFullscreen",function(){return At}),n.d(e,"scriptURL",function(){return Tt.a}),n.d(e,"selectStreams",function(){return Pt}),n.d(e,"set",function(){return Ct.a}),n.d(e,"setAttribute",function(){return xt}),n.d(e,"setCookie",function(){return g}),n.d(e,"snakeCase",function(){return Dt}),n.d(e,"sniffClient",function(){return Rt}),n.d(e,"stashLocal",function(){return Wt}),n.d(e,"svgIcon",function(){return $t}),n.d(e,"throttle",function(){return Bt}),n.d(e,"toFixed",function(){return Ut}),n.d(e,"trimTrailing",function(){return Vt}),n.d(e,"upgradeQueryString",function(){return qt})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(4);function o(t,e){if(Array.isArray(t))t.forEach(e);else if(Object(i.a)(t))for(var n in t)e(t[n],n,t);return t}},function(t,e,n){"use strict";n.r(e);var i=n(9);function o(t){return Object(i.a)(t,function(t){return!!t})}var r=n(4);function a(t,e){if(Array.isArray(t)){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return!0}else if(Object(r.a)(t))for(var o in t)if(t[o]===e)return!0;return!1}function s(t){return Object(i.a)(t,function(t){return void 0!==t})}var c=n(7);function u(t,e){if(Array.isArray(t))return t.find(e);if(Object(r.a)(t))for(var n in t)if(e(t[n],n,t))return t[n]}var l=n(11);function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return 0===e?t:Array.isArray(t)?t.reduce(function(t,n){return Array.isArray(n)&&e>1?t.concat.apply(t,d(f(n,e-1))):t.concat(n)},[]):Object(l.a)(t,function(t,n,i){return Object(r.a)(n)?Object(c.a)(t,f(n,e-1)):Object(c.a)(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},i,n))},{})}var h=n(2);function p(t,e){var n={};return Object(h.a)(t,function(t){var i="string"==typeof e?t[e]:e(t);n[i]=n[i]||[],n[i].push(t)}),n}var g=n(10),v=n(24),m=n(16);function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=-1/0;if(e){var i=-1/0;Object(h.a)(t,function(t,o,r){var a=e(t,o,r);(a>i||a===-1/0&&n===-1/0)&&(n=t,i=a)})}else Object(h.a)(t,function(t){return n=t>n?t:n});return n}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=1/0;if(e){var i=1/0;Object(h.a)(t,function(t,o,r){var a=e(t,o,r);(a<i||a===1/0&&n===1/0)&&(n=t,i=a)})}else Object(h.a)(t,function(t){return n=t<n?t:n});return n}function w(t,e){e=Array.isArray(e)?e:[e];var n={};return Object(h.a)(t,function(t,i){a(e,i)||(n[i]=t)}),n}var O=n(8);function k(t,e){e=Array.isArray(e)?e:[e];var n={};return e.forEach(function(e){Object(O.a)(t,e)&&(n[e]=t[e])}),n}function S(t,e){return(e=Array.isArray(e)?e:[e]).map(function(e){return t[e]})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return Array.from(Array(t),function(t,n){return e(n)})}function j(t,e){return Object(i.a)(t,function(t,n,i){return!e(t,n,i)})}function A(t,e){var n=Object(c.a)(t);return Object(h.a)(e,function(t,e){e in n&&(n[t]=n[e],delete n[e])}),n}function T(t){return!!u(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a)}function _(t){var e={log:function(){return console.debug(t),e},value:function(){return t}};return Object(h.a)(P,function(n,i){e[i]=function(){return t=n.apply(void 0,[t].concat(Array.prototype.slice.call(arguments))),e}}),e}n.d(e,"chain",function(){return _}),n.d(e,"_",function(){return P}),n.d(e,"compact",function(){return o}),n.d(e,"contains",function(){return a}),n.d(e,"defined",function(){return s}),n.d(e,"extend",function(){return c.a}),n.d(e,"filter",function(){return i.a}),n.d(e,"find",function(){return u}),n.d(e,"flatten",function(){return f}),n.d(e,"forEach",function(){return h.a}),n.d(e,"groupBy",function(){return p}),n.d(e,"identity",function(){return g.a}),n.d(e,"map",function(){return v.a}),n.d(e,"mapObj",function(){return m.a}),n.d(e,"max",function(){return b}),n.d(e,"min",function(){return y}),n.d(e,"omit",function(){return w}),n.d(e,"pick",function(){return k}),n.d(e,"pluck",function(){return S}),n.d(e,"range",function(){return E}),n.d(e,"reduce",function(){return l.a}),n.d(e,"reject",function(){return j}),n.d(e,"rename",function(){return A}),n.d(e,"some",function(){return T});var P={compact:o,contains:a,defined:s,extend:c.a,filter:i.a,find:u,flatten:f,forEach:h.a,groupBy:p,identity:g.a,map:v.a,mapObj:m.a,max:b,min:y,omit:w,pick:k,pluck:S,range:E,reduce:l.a,reject:j,rename:A,some:T}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return!(!t||"object"!==i(t)||Array.isArray(t))}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r});var o=/[[\]]/g;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if((e="string"==typeof e?e.replace(o,".").split(".").filter(function(t){return!!t}):i(e)).length){var a=e.shift();try{return null!==t&&a in t&&void 0!==t[a]?r(t[a],e,n):n}catch(t){return n}}return void 0!==t?t:n}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(8),o=n(4),r=n(2);function a(t){for(var e=Object.assign({},t),n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];return s.forEach(function(t){Object(r.a)(t,function(n,r){Object(i.a)(t,r)&&(Object(o.a)(n)&&Object(o.a)(e[r])&&n!==e[r]?e[r]=a(e[r],n):e[r]=n)})}),e}},function(t,e,n){"use strict";function i(t,e){return t&&e in t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2);function o(t,e){var n={};return Array.isArray(t)?t.filter(e):(Object(i.a)(t,function(t,i){e(t,i)&&(n[i]=t)}),n)}},function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=t[0]?t[0]:0;return Array.isArray(t)?t.reduce(e,n):(Object(i.a)(t,function(t,i,o){n=e(n,t,i,o)}),n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=/^{.*}$/,o=/^\[.*\]$/;function r(t){return"string"!=typeof t?t:""===t?"":"true"===t.toLowerCase()||"false"!==t.toLowerCase()&&("null"===t.toLowerCase()?null:"undefined"===t.toLowerCase()?void 0:isNaN(Number(t))?i.test(t)||o.test(t)?JSON.parse(decodeURIComponent(t)):t:Number(t))}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",i={};return t.replace(/(^\?)/,"").split(e).forEach(function(t){(t=t.split(n))[0]&&(i[t[0]]=t[1])}),i}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=/^[A-Z]/,o=/-([a-z]?)/g;function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(i,function(t){return t.toLowerCase()}).replace(o,function(t,e){return e.toUpperCase()})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(11),o=n(4);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(i.a)(t,function(t,i,r){return i=Object(o.a)(i)?JSON.stringify(i):i,"".concat(t).concat(t?e:"").concat(r).concat(n).concat(encodeURIComponent(i))},"")}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(2),o=n(8),r=n(4);function a(t,e){var n={};return Array.isArray(t)?Object(i.a)(t,function(i,a){var s=e(i,a,t);Object(r.a)(s)&&Object(o.a)(s,"key")&&Object(o.a)(s,"value")?n[s.key]=s.value:n[a]=s}):Object(i.a)(t,function(i,a){var s=e(i,a,t);Object(r.a)(s)&&Object(o.a)(s,"key")&&Object(o.a)(s,"value")?n[s.key]=s.value:n[a]=s}),n}},function(t,e,n){"use strict";function i(t){var e=document.querySelectorAll('script[src*="'.concat(t,'"]'));return e.length&&e[0].src?e[0].src:null}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){return setTimeout(t,0)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(5);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a,o=document.querySelector('script[src="'.concat(t,'"]'));if(o&&o.hasAttribute("data-powa-script"))o.hasAttribute("data-load")?e():o.hasAttribute("data-error")?n():(o.addEventListener("load",e),o.addEventListener("error",n));else{o=document.createElement("script");var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r),o.addEventListener("error",function(){o.setAttribute("data-error",!0),n()}),o.addEventListener("load",function(){o.setAttribute("data-load",!0),e()}),o.setAttribute("data-powa-script",!0),o.type="text/javascript",o.async=!0,o.src=t}}},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaUnspecified",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"powaUnspecified"===t&&console.error("[globalEvent] - unspecified type"),e.type=e.type||t,window.dispatchEvent(new CustomEvent(t,{detail:e}))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(22);function o(){return Object(i.a)()?document.referrer:window.location.href}},function(t,e,n){"use strict";function i(){try{return window.self!==window.top}catch(t){return!0}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"d",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"a",function(){return v}),n.d(e,"e",function(){return b}),n.d(e,"j",function(){return y}),n.d(e,"m",function(){return w}),n.d(e,"h",function(){return O}),n.d(e,"g",function(){return k}),n.d(e,"i",function(){return S}),n.d(e,"k",function(){return E}),n.d(e,"l",function(){return j});var i=n(6),o=n(17),r={DEFAULT:"https://d1bl11pgu3tw3h.cloudfront.net","refresh-demos":"https://duipxr364cdla.cloudfront.net",abccolor:"https://dkggbgsyvgsr6.cloudfront.net",ajc:"https://ajc.video-player.arcpublishing.com",adn:"https://d3hx2fmdmxvu47.cloudfront.net",advancelocal:"https://dm32zrtgin2a8.cloudfront.net",answers:"https://d3ed7e5yt5qhaw.cloudfront.net",appledaily:"https://d2bdaljplukmuj.cloudfront.net",arcbrands:"https://arcbrands.video-player.arcpublishing.com",bonnier:"https://dlbqnuhvjsfjk.cloudfront.net",bostonglobe:"https://d1zokzhal29fpg.cloudfront.net",bp:"https://dv925xhcutrrv.cloudfront.net",chosun:"https://chosun.video-player.arcpublishing.com",cmg:"https://cmg.video-player.arcpublishing.com",demo:"https://d328y0m0mtvzqc.cloudfront.net",dmn:"https://d2bvfdz3bljcfk.cloudfront.net",elcomercio:"https://d1tqo5nrys2b20.cloudfront.net",elespectador:"https://elespectador.video-player.arcpublishing.com",gmg:"https://d3t0x48b5v1we0.cloudfront.net",gray:"https://gray.video-player.arcpublishing.com",grupoclarin:"https://d2w9ap1xsny1x1.cloudfront.net",gruponacion:"https://d2d765ytpxgyaz.cloudfront.net",gruporepublica:"https://d1lmwiprz325su.cloudfront.net",guidepost:"https://d2f9kn2gap57b3.cloudfront.net",infobae:"https://d2uans147eyg5w.cloudfront.net",larazon:"https://d4rumjya1go0z.cloudfront.net",lanacionar:"https://d1zp4l5vb5htxp.cloudfront.net",leparisien:"https://d2hvlo0zc03amm.cloudfront.net",laprensa:"https://dfolklnl1rz69.cloudfront.net",madsack:"https://d292syca71gp6a.cloudfront.net",mentormedier:"https://dk7q64383ioq3.cloudfront.net",mco:"https://dv90bhm02uda6.cloudfront.net",nzme:"https://djlju39ioylga.cloudfront.net",obp:"https://d1ubiqy58ep1oo.cloudfront.net",pmn:"https://dzyf5jtgd0sxp.cloudfront.net",prisa:"https://dg4rmse8mb0lw.cloudfront.net",raycom:"https://d3mo2m0b34ee8e.cloudfront.net",semana:"https://d2pdh19wt88q5.cloudfront.net",spectator:"https://d2bnz05fk6ka6f.cloudfront.net",staging:"https://d20bvihs725teq.cloudfront.net",suitexchange:"https://d4i2py3aovxp9.cloudfront.net",tbt:"https://d3a8t11oyn5iv.cloudfront.net",tgam:"https://d6e4eccju4kk3.cloudfront.net",tronc:"https://diodxcszlbmwk.cloudfront.net",wapo:"https://d1pz6dax0t5mop.cloudfront.net",wweek:"https://d1d8qhh5luwkfj.cloudfront.net"},a={wapo:"https://d3loyummexm3dy.cloudfront.net"},s=/localhost|10\.0\.2\.2/,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";return r[t]||r.DEFAULT};function u(t){var e=t?t.split("/"):[];return(e=e.reverse()).shift(),e.shift(),"v"===e[0]&&e.shift(),e=e.reverse().join("/")}function l(t){var e=u(t),n=t.replace(e,"");return(n=n?n.split("/"):[]).shift(),n.pop(),n=n.join("/")}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaBoot.js",n=Object(o.a)(e);return(n?u(n):null)||r[t]||r.DEFAULT}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaBoot.js",e=Object(o.a)(t),n=e?l(e):null,i=location.pathname.split("/");return i.shift(),i.pop(),i=i.join("/"),s.test(location.origin)?"local":n||(i||"prod")}function h(){return Object(i.a)(window,"PoWaSettings.org","DEFAULT")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f(),n=arguments.length>2?arguments[2]:void 0,i=function(e){return"".concat(d(t),"/").concat(e,"/org/").concat(t,".js?org=").concat(t)};return n?i("v/".concat(n)):"local"===e?"/org/".concat(t,".js"):i(e)}var g="5.2.0";function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(window,"PoWaSettings.comscore.script","streamsense.min.js"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(window,"PoWaSettings.comscore.version",g);return Object(i.a)(window,"PoWaSettings.comscore.url","".concat(c(),"/vendor/comscore/").concat(n,"/").concat(e,"?org=").concat(t))}var m="0.12.4";function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(window,"PoWaSettings.hlsjs.script","hls.min.js"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(window,"PoWaSettings.hlsjs.version",m);return Object(i.a)(window,"PoWaSettings.hlsjs.url","".concat(c(),"/vendor/hls.js/").concat(n,"/").concat(e,"?org=").concat(t))}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();return"".concat(c(),"/asset/").concat(t,"?org=").concat(e)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powa.js",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f(),i=arguments.length>3?arguments[3]:void 0,o=function(n){return"".concat(d(e),"/").concat(n,"/").concat(t,"?org=").concat(e)};return i?o("v/".concat(i)):"local"===n?"/js/".concat(t):o(n)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/".concat(t,"Audio.js");default:return"".concat(a[t],"/").concat(e,"/").concat(t,"Audio.js")}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudioBoot.js";default:return"".concat(a[t],"/").concat(e,"/powAudioBoot.js")}}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f("powAudioBoot.js");switch(e){case"local":return"http://localhost:8080/js/powAudio.js";default:return"".concat(a[t],"/").concat(e,"/powAudio.js")}}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaEmbed.html";default:return"".concat(d(t),"/").concat(e,"/powaEmbed.html")}}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();arguments.length>2&&arguments[2];switch(e){case"local":return"/powaPlaylist.html";default:return"".concat(d(t),"/").concat(e,"/powaPlaylist.html")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2);function o(t,e){var n=[];return Array.isArray(t)?t.map(e):(Object(i.a)(t,function(i,o){n.push(e(i,o,t))}),n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"$",function(){return l}),n.d(e,"PoWaPack",function(){return S});var i=n(0),o=n(1),r=n(44);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t){return new S(t)}var d,f=new WeakMap,h=new WeakMap,p=new WeakMap,g=new Set;function v(){d=null,g.size&&(g.forEach(function(t){var e=h.get(t),n=p.get(t),i=t.width(),o=t.height();e===i&&n===o||(h.set(t,i),p.set(t,o),f.get(t).trigger("resize",{width:i,height:o,oldWidth:e,oldHeight:n}))}),d=requestAnimationFrame(v))}function m(t){var e=this;f.get(this).on("resize",t),g.add(this),h.set(this,this.width()),p.set(this,this.height()),window.ResizeObserver?(this.ro||(this.ro=new window.ResizeObserver(function(t){var e=this;t.forEach(function(t){var n=e;if(g.has(n)){var i=h.get(n),o=p.get(n),r=t.contentRect.width,a=t.contentRect.height?t.contentRect.height:t.target.offsetHeight;h.set(n,r),p.set(n,a),f.get(n).trigger("resize",{width:r,height:a,oldWidth:i,oldHeight:o})}})}.bind(this))),this.elements.forEach(function(t){return e.ro.observe(t)})):d||(d=requestAnimationFrame(v))}function b(){this._bodyObserver&&this._bodyObserver.disconnect(),this.addedToDOMRAF&&cancelAnimationFrame(this.addedToDOMRAF)}function y(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=function(t,n,i){return e.trigger(t,{isViewable:n,intersectionRatio:i})};this.intersectionObserver||this.throttledCheckViewable||function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=function(e){var n=e.isViewable?i.l.VIEWABLE:i.l.NOT_VIEWABLE;e.isViewable!==t.inFrame&&(t.inFrame=e.isViewable,t.trigger(n,e))};if(this.viewableThreshold=e,this.inFrame=Object(o.getViewableFraction)(this.elements[0])>=e,window.IntersectionObserver)this.intersectionObserver=new IntersectionObserver(function(t){n({isViewable:e?t[0].intersectionRatio>=e:t[0].isIntersecting,intersectionRatio:t[0].intersectionRatio})},{threshold:e}),this.intersectionObserver.observe(this.elements[0]);else{this.throttledCheckViewable=Object(o.throttle)(function(){var i=Object(o.getViewableFraction)(t.elements[0]);n({isViewable:e?i>=e:!!i,intersectionRatio:i})},100),window.addEventListener("scroll",this.throttledCheckViewable,!1)}}.call(this,n);var a=Object(o.getViewableFraction)(this.elements[0]);t===i.l.VIEWABLE&&(this.viewableThreshold?this.viewableThreshold<=a&&r(i.l.VIEWABLE,!0,a):a&&r(i.l.VIEWABLE,!0,a)),t===i.l.NOT_VIEWABLE&&(this.viewableThreshold?this.viewableThreshold>a&&r(i.l.NOT_VIEWABLE,!1,a):a||r(i.l.NOT_VIEWABLE,!1,a))}function w(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b".concat(e,"\\b")).test(t.getAttribute("class")||"")}function O(t,e){if(t instanceof Element&&!w(t,e))if(t.classList)t.classList.add(e);else if(!w(t,e)){var n=t.getAttribute("class")||"";t.setAttribute("class","".concat(n," ").concat(e))}}function k(t,e){if(t.classList)t.classList.remove(e);else{var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(new RegExp("\\b".concat(e,"\\b"),"g"),""))}}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.isPoWaPack=!0,f.set(this,new r.a),this.elements=[],e="string"==typeof e?e.trim():e,Object(o.isHTMLElement)(e))this.elements.push(e);else if(e instanceof NodeList)this.elements=s(e);else if(e.length&&"<"===e[0]){var i;(i=this.elements).push.apply(i,s(this.createDomNode(e)))}else if(e.length&&"#"===e[0])this.elements.push(this.getElement(e,n));else{var a;(a=this.elements).push.apply(a,s(this.getElements(e,n)))}}return u(t,null,[{key:"EVENTS",get:function(){return i.l}}]),u(t,[{key:"add",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(n=n.isPoWaPack?n:new t(n)).elements.forEach(function(t){return e.elements.push(t)})}},{key:"append",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?n.elements.forEach(function(t){return e.elements[e.elements.length-1].appendChild(t)}):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"after",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements.length?(n.elements.reverse(),n.elements.forEach(function(t){var n=e.elements[e.elements.length-1];n.parentNode.insertBefore(t,n.nextSibling)}),n.elements.reverse()):n.elements.forEach(function(t){return e.elements.push(t)})}},{key:"wrap",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.isPoWaPack?n:new t(n),this.elements[0]&&(n.parent().elements[0].insertBefore(this.elements[0],n.elements[0]),n.elements.forEach(function(t){return e.elements[0].appendChild(t)}))}},{key:"attr",value:function(t,e){if(void 0===e&&this.elements.length)return this.elements[0].getAttribute(t);!0===e&&this.elements.length?this.elements.forEach(function(e){return e.setAttribute(t,"")}):!1===e&&this.elements.length?this.elements.forEach(function(e){return e.removeAttribute(t)}):this.elements.forEach(function(n){return n.setAttribute(t,e)})}},{key:"removeAttr",value:function(t){this.elements.forEach(function(e){return e.removeAttribute(t)})}},{key:"createDomNode",value:function(t){if("string"==typeof t){var e=document.createElement("div");return e.innerHTML=t,s(e.childNodes).map(function(t){return t.parentNode.removeChild(t)})}}},{key:"detach",value:function(){this.elements.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},{key:"getElement",value:function(t,e){return(e||document).querySelector(t)}},{key:"getElements",value:function(t,e){if(!t)return[];var n=(e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}},{key:"hasClass",value:function(t){var e=this.elements.map(function(e){return w(e,t)});return 0===e.length?void 0:1===e.length?e[0]:e}},{key:"addClass",value:function(t){this.elements.forEach(function(e){return O(e,t)})}},{key:"removeClass",value:function(t){this.elements.forEach(function(e){return k(e,t)})}},{key:"toggleClass",value:function(t){this.elements.forEach(function(e){return function(t,e){w(t,e)?k(t,e):O(t,e)}(e,t)})}},{key:"getClasses",value:function(){var t=this;return this.elements.reduce(function(e,n){if(n.classList)return e.concat(Array.from(n.classList));var i=t.attr("class")||"";return e.concat(i.split(" "))},[])}},{key:"html",value:function(t){if(this.elements.length){if(!t)return this.elements[0].innerHTML;this.elements[0].innerHTML=t}}},{key:"css",value:function(t){var e=this,n=function(n){"object"===a(t[n])?e.find(n).css(t[n]):e.elements.forEach(function(e){return e.style[n]=t[n]})};for(var i in t)n(i)}},{key:"parent",value:function(){return this.elements.length?new t(this.elements[0].parentNode):null}},{key:"children",value:function(){return this.elements.length?new t(this.elements[0].childNodes):null}},{key:"width",value:function(){return this.elements.length?this.elements[0].offsetWidth:null}},{key:"height",value:function(){return this.elements.length?this.elements[0].offsetHeight:null}},{key:"offset",value:function(){if(!this.elements.length)return null;var t=this.elements[0].getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},{key:"position",value:function(){return this.elements.length?{top:this.elements[0].offsetTop,left:this.elements[0].offsetLeft}:null}},{key:"isInDOM",value:function(){return this.elements.length?this.reduce(function(t,e){return t&&document.body.contains(e)},!0):null}},{key:"find",value:function(e){e=e.replace(/\s/g,"");var n,i=[];return 1===this.elements.length?new t(e,this.elements[0]):(this.elements.forEach(function(n){return i.push(new t(e,n))}),i.length?(i.forEach(function(t){var e;n?(e=n.elements).push.apply(e,s(t.elements)):n=t}),n):void 0)}},{key:"show",value:function(){return this.elements.reduce(function(t,e){return(e instanceof HTMLElement||e instanceof SVGElement)&&"none"===e.style.display?(e.style.display=e.getAttribute("data-display")||"",!0):t},!1)}},{key:"hide",value:function(){return this.elements.reduce(function(t,e){if(e instanceof HTMLElement||e instanceof SVGElement){var n=Object(o.get)(e,"style.display"),i=Object(o.get)(e,"currentStyle.display"),r=getComputedStyle(e).display,a=n||i||r;return"none"!==a?(a&&e.setAttribute("data-display",a),e.style.display="none",!0):t}return t},!1)}},{key:"goInvisible",value:function(){this.elements.forEach(function(t){return t.style.visibility="hidden"})}},{key:"goVisible",value:function(){this.elements.forEach(function(t){return t.style.visibility="visible"})}},{key:"toggleShow",value:function(){this.displayed()?this.hide():this.show()}},{key:"displayed",value:function(){return this.elements.reduce(function(t,e){return e instanceof HTMLElement?t&&"none"!==e.style.display:t},!0)}},{key:"empty",value:function(){this.elements.forEach(function(t){return t.innerHTML=""})}},{key:"filter",value:function(t){return this.elements.filter(t)}},{key:"which",value:function(t){return this.elements.find(t)}},{key:"forEach",value:function(t){return this.elements.forEach(t),this}},{key:"map",value:function(t){return this.elements.map(t)}},{key:"reduce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!=this.elements[0]?this.elements[0]:0;return this.elements.reduce(t,e)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e)switch(t){case i.l.RESIZE:m.call(this,e);break;case i.l.ADDED_TO_DOM:(function t(e){var n=this;this.isInDOM()?(this.addedToDOMRAF&&delete this.addedToDOMRAF,e()):window.MutationObserver?(this._bodyObserver=new MutationObserver(function(t){n.isInDOM()&&(n._bodyObserver.disconnect(),delete n._bodyObserver,e())}),this._bodyObserver.observe(document.body,{childList:!0,subtree:!0})):this.addedToDOMRAF=requestAnimationFrame(function(){return t.call(n,e)})}).call(this,e);break;default:this.elements.forEach(function(n){return n.addEventListener(t,e)}),t!==i.l.VIEWABLE&&t!==i.l.NOT_VIEWABLE||y.call(this,t,n.threshold)}}},{key:"off",value:function(t,e){if(t&&e)switch(t){case i.l.RESIZE:(function(t){var e=f.get(this);e.off("resize",t),e.length("resize")||g.delete(this)}).call(this,e);break;case i.l.ADDED_TO_DOM:b.call(this);break;default:this.elements.forEach(function(n){return n.removeEventListener(t,e)})}}},{key:"once",value:function(t,e,n){var i=this,o=arguments;if(t&&e){this.on(t,function n(){i.off(t,n),e(o)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this,r=arguments;if(t&&n){this.on(t,function i(){e(r)&&(o.off(t,i),n(r))},i)}}},{key:"until",value:function(t,e,n,i){var o=this,r=arguments;if(t&&n){this.on(t,function i(){n(r),e(r)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){e=Object.assign({type:t},e);var n=new CustomEvent(t,{detail:e});this.elements.forEach(function(t){return t.dispatchEvent(n)})}}},{key:"destroy",value:function(){this.detach(),f.get(this).destroy(),f.set(this,null),g.delete(this),b.call(this),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.throttledCheckViewable&&window.removeEventListener("scroll",this.throttledCheckViewable,!1),this.empty()}}]),t}()},,function(t,e,n){"use strict";function i(t,e){var n=document.createElement("style");if(n.type="text/css",e){var i=document.querySelector("style#".concat(e));i&&i.parentNode.removeChild(i),n.id=e}t&&(n.appendChild(document.createTextNode(t)),document.head.appendChild(n))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return t&&"object"===o(t)&&(Object(i.a)(t,r),Object.freeze(t)),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=["constructor","__proto__"];function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){e=i.concat(e);for(var n=Object.getPrototypeOf(t);n!==Object.prototype;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).filter(function(t){return!e.includes(t)}).forEach(function(e){return t[e]=t[e].bind(t)})}else console.error("[PoWaTools][bindAll] Missing parameter")}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){var e=Math.floor(t/i.d),n=Math.floor(t/i.e),r=Math.floor(t%i.e/i.f);return e>1?"".concat(e," days"):n>3?"".concat(n," hours"):n?"".concat(n," ").concat(n>1?"hours":"hour").concat(r?" ".concat(o(r*i.f)):""):r?"".concat(r," ").concat(r>1?"minutes":"minute"):"less than a minute"}},function(t,e,n){"use strict";function i(t){window.open(t,"_blank").focus()}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(21);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)(),e=o(t.split("//"),2),n=e[0],r=e[1],a=r.indexOf("/"),s=a>-1?r.substr(0,a):r,c=a>-1?r.substr(a):"/";t=a>0?t:"".concat(t,"/");var u=o(s.split(":"),2),l=u[0],d=u[1],f=void 0===d?"":d,h=c.indexOf("?"),p=c.indexOf("#"),g=h>-1?c.substr(0,h):p>-1?c.substr(0,p):c,v=h>-1&&p>-1?c.substring(h,p):h>-1?c.substr(h):"";return{hash:p>-1?c.substr(p):"",host:s,hostname:l,href:t,origin:"".concat(n,"//").concat(s),pathname:g,port:f,protocol:n,search:v}}},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r});var o=/[[\]]/g;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=(e="string"==typeof e?e.replace(o,".").split(".").filter(function(t){return!!t}):i(e)).shift();return e.length?(t[s]=t[s]?t[s]:isNaN(e[0])?{}:[],r(t[s],e,n,a)):(t[s]=a||void 0===t[s]?"function"==typeof n?n():n:t[s],t[s])}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(16),o=n(13),r=n(12);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=";return Object(i.a)(Object(o.a)(t,e,n),r.a)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(20);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaError";console.error(t),Object(i.a)(e,t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2),o=n(14);function r(t){return t.dataset?t:(t.dataset=(e=t.attributes,n={},Object(i.a)(e,function(t,e){e.startsWith("data-")&&(e=e.substr(5),n[Object(o.a)(e)]=t)}),n),t);var e,n}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=/android/i.test(window.navigator.userAgent);function o(){var t,e,n,o,r=document.createElement("video");return!!!!r.canPlayType&&{ogg:r.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),h264:r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),webm:r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),vp9:r.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),hls:r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&!i,hlsJS:(t=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,n&&o)}}},function(t,e,n){"use strict";function i(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){if(t===1/0||isNaN(t))return"";var e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60),o=e?"".concat(e,":"):"",r=e&&n<10?"0".concat(n,":"):"".concat(n,":"),a=i<10?"0".concat(i):i;return"".concat(o).concat(r).concat(a)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(7),r=n(18),a=n(5),s=n(15);var c=0;function u(t){var e,n=t.id||++c,u=t.callbackParam||"cb",l=t.timeout||10,d="powaResolvees".concat(n),f="powaRejectees".concat(n),h="powaCallback".concat(n),p="powaScript".concat(n);window[d]=window[d]||[],"function"==typeof t.resolve&&window[d].push(t.resolve),window[f]=window[f]||[],"function"==typeof t.reject&&window[f].push(t.reject);var g,v,m,b=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];clearTimeout(e),i&&delete window[h];var o=document.getElementById(p);o&&(o.onerror=a.a,o.parentNode&&o.parentNode.removeChild(o)),Array.isArray(t)&&t.forEach(function(t){return t(n)}),delete window[d],delete window[f]};if(!window[h]){window[h]=function(t){return b(window[d],t,!0)};var y=document.createElement("script");document.body.appendChild(y),y.id=p,y.onerror=function(t){return b(window[f],t)},e=setTimeout(function(){return y.onerror(Error("Timeout ".concat(l," seconds.")))},l*i.g),y.onload=function(){Object(r.a)(function(){return b(window[f],Error("Not a JSONP response."))})};var w=Object(s.a)(Object(o.a)((m=h,(v=u)in(g={})?Object.defineProperty(g,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[v]=m,g),t.data));y.src="".concat(t.url).concat(t.url.includes("?")?"&":"?").concat(w)}}},,function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(3);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e,n){t&&e&&(n=n||e,this.events[t]=this.events[t]||new Map,this.events[t].set(e,e.bind(n)))}},{key:"off",value:function(t,e){this.events[t]&&this.events[t].delete(e)}},{key:"once",value:function(t,e,n){var i=this;if(n=n||e,t&&e){this.on(t,function n(){i.off(t,n),e.apply(void 0,arguments)},n)}}},{key:"onceIf",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){e.apply(void 0,arguments)&&(o.off(t,i),n.apply(void 0,arguments))},i)}}},{key:"until",value:function(t,e,n,i){var o=this;if(i=i||n,t&&e&&n){this.on(t,function i(){n.apply(void 0,arguments),e.apply(void 0,arguments)&&o.off(t,i)},i)}}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({type:t},e),this.events["*"]&&this.events["*"].forEach(function(n){return n(e,t)}),this.events[t]&&this.events[t].forEach(function(n){return n(e,t)})}},{key:"length",value:function(t){return this.events[t]?this.events[t].size:0}},{key:"destroy",value:function(){var t=this;Object(i.forEach)(this.events,function(e,n){e.forEach(function(t){return e.delete(t)}),delete t.events[n]})}}])&&o(e.prototype,n),r&&o(e,r),t}()},function(t,e,n){var i=n(43),o=n(42),r=n(55),a=n(56),s=n(54),c=function(t,e,n){var u,l,d,f,h=t&c.F,p=t&c.G,g=t&c.S,v=t&c.P,m=t&c.B,b=p?i:g?i[e]||(i[e]={}):(i[e]||{}).prototype,y=p?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(u in p&&(n=e),n)d=((l=!h&&b&&void 0!==b[u])?b:n)[u],f=m&&l?s(d,i):v&&"function"==typeof d?s(Function.call,d):d,b&&a(b,u,d,t&c.U),y[u]!=d&&r(y,u,f),v&&w[u]!=d&&(w[u]=d)};i.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},,function(t,e,n){var i=n(64)("wks"),o=n(59),r=n(43).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(53)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(48);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(50),o=n(88),r=n(75),a=Object.defineProperty;e.f=n(49)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(67);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(51),o=n(63);t.exports=n(49)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(43),o=n(55),r=n(52),a=n(59)("src"),s=n(100),c=(""+s).split("toString");n(42).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(r(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n(25),o=n(3),r=n(0),a=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p={debug:!1},g=Object(o.mapObj)(r.i,function(t){return".".concat(t)}),v={click:{query:"[class*=".concat(r.i.powaClick,"]"),customRE:/^powa-click-(.*)/,event:r.j.POWA_CLICK},mouseenter:{query:"[class*=".concat(r.i.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:r.j.POWA_HOVER},mousedown:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH},mouseup:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH},mousemove:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH},mouseleave:{query:"[class*=".concat(r.i.powaHover,"]"),customRE:/^powa-hover-(.*)/,event:r.j.POWA_HOVER},touchstart:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH},touchmove:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH},touchend:{query:"[class*=".concat(r.i.powaTouch,"]"),customRE:/^powa-touch-(.*)/,event:r.j.POWA_TOUCH}},m=function(t,e){return Object(o.reduce)(e,function(e,n){var i=Object(a.getCapturingGroup)(n,t.customRE);return i&&e.push(i),e},[])},b=function(t){function e(t){var n,i,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=l(e).call(this,t))||"object"!==s(r)&&"function"!=typeof r?c(i):r,Object(a.bindAll)(c(n)),n.settings=Object(o.extend)(p,u),n.listen(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["PoWaPack"]),f(e,null,[{key:"EVENTS",get:function(){return r.j}},{key:"CLASSES",get:function(){return r.i}},{key:"DOT_CLASSES",get:function(){return g}}]),f(e,[{key:"listen",value:function(){var t=this;this.events=Object(o.extend)(r.j),Object(o.forEach)(v,function(e,n){t.$interactables=t.find(e.query),t.$interactables.on(n,t.handle),m(e,t.$interactables.getClasses()).map(a.camelCase).forEach(function(e){return t.events[e]=e})}),this.events=Object(a.freeze)(this.events)}},{key:"handle",value:function(t){var e=this;if(!t.powaShotHandled){t.powaShotHandled=!0;var n=v[t.type],i=t.currentTarget&&t.currentTarget.classList?Array.from(t.currentTarget.classList):t.currentTarget&&t.currentTarget.className?t.currentTarget.className.split(" "):[],s=m(n,i);s.length?Object(o.forEach)(s,function(n){var i=Object(a.camelCase)(n);e.trigger(r.j.POWA_CUSTOM,{type:i,event:t}),e.trigger(i,{type:i,event:t})}):this.trigger(n.event,{type:n.event,event:t})}}},{key:"html",value:function(t){u(l(e.prototype),"html",this).call(this,t),this.listen()}}]),e}()},function(t,e,n){var i=n(71),o=n(66);t.exports=function(t){return i(o(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(69),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(89),o=n(78);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(42),o=n(43),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(65)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(66);t.exports=function(t){return Object(i(t))}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(60);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(3),o=n(57),r=n(1),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="PoWaShot",g=Object(i.extend)(a.i,{powaShot:"powa-shot",powaClickPlay:"".concat(a.i.powaClick,"-promo-play"),powaClickVideoToggle:"".concat(a.i.powaClick,"-promo-video-toggle")}),v=function(){return'<div class="'.concat(g.powaShot,'"></div>')},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t.powa-shot {\n\t\tposition: absolute;\n\t\tcolor: ".concat(Object(r.getColor)(t.colors.primary),";\n\t\tfill: ").concat(Object(r.getColor)(t.colors.primary),';\n\t\tfont-family: "HelveticaNeue", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n\t\tz-index: 1;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\t}\n\n\t.powa-shot-title {\n\t\tfont-size: x-large;\n\t\ttext-shadow: 2px 2px 3px ').concat(Object(r.getColor)(t.colors.background,.8),";\n\t\tposition: absolute;\n\t\ttop: 15px;\n\t\tleft: 15px;\n\t}\n\n\t.powa-shot-image {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t}\n\n\t.powa-shot-video {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa-shot-video-toggle svg {\n\t\tposition: absolute;\n\t\tbottom: 5px;\n\t\tright: 5px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\theight: 1.5em;\n\t\twidth: 1.5em;\n\t\tborder-radius: 1em;\n\n\t\tbackground-color: ").concat(Object(r.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 5px 1px ").concat(Object(r.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-video-toggle svg:hover {\n\t\tcolor: ").concat(Object(r.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-video-toggle-icon {\n\t\tcolor: rgb(240, 248, 255);\n\t\topacity: 0.5;\n\t}\n\n\t.powa-shot-play-btn svg {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\topacity: 0.85;\n\n\t\tborder-radius: 2em;\n\n\t\tbackground-color: ").concat(Object(r.getColor)(t.colors.background,.25),";\n\t\tbox-shadow: 0 0 10px 5px ").concat(Object(r.getColor)(t.colors.background,.25),";\n\n\t\tcursor: pointer;\n\t\ttransition: all 0.25s;\n\t\tz-index: 1;\n\t}\n\n\t.powa-shot-play-btn svg:hover {\n\t\tfill: ").concat(Object(r.getColor)(t.colors.accent),";\n\t}\n\n\t.powa-shot-play-icon,\n\t.powa-shot-loading-icon {\n\t\topacity: 0.85;\n\t}\n")};function b(t){var e=Object(r.get)(t,"videoData.bandito.image"),n=Object(r.get)(t,"videoData.bandito.title"),i=Object(r.get)(t,"videoData.bandito.video"),o=Object(r.get)(t,"videoData.additional_properties.gifAsThumbnail"),a=o?Object(r.get)(t,"videoData.streams",[]).filter(function(t){return"gif"===t.stream_type})[0]:null,s=o?Object(r.get)(t,"videoData.streams",[]).filter(function(t){return"gif-mp4"===t.stream_type})[0]:null;return t.image=e||(a?a.url:t.image),t.title=n||t.title,t.title=null,t.video=i||(s?s.url:t.video),'\n\t\t<div class="powa-shot-image '.concat(g.powaClickPlay,'"').concat(t.image?" style=\"background-image: url('".concat(t.image,"')\""):"",">\n\t\t\t").concat(t.video?'<video class="powa-shot-video" src="'.concat(t.video,'" playsinline muted autoplay loop></video>'):"","\n\t\t\t").concat(t.title?'<div class="powa-shot-title">'.concat(t.title,"</div>"):"",'\n\t\t\t<button aria-label="Play" title="Play" class="powa-button powa-shot-play-btn ').concat(g.powaClickPlay,'">\n\t\t\t\t').concat(Object(r.svgIcon)("playIcon","powa-shot-play-icon","powa-f-6"),"\n\t\t\t\t").concat(Object(r.svgIcon)("circleNotch","powa-shot-loading-icon","powa-f-6","powa-spin"),"\n\t\t\t</button>\n\n\t\t\t").concat(t.video?'<button aria-label="Play/Pause" title="Play/Pause" class="powa-button powa-shot-video-toggle '.concat(g.powaClickVideoToggle,'">\n\t\t\t\t').concat(Object(r.svgIcon)("pauseCircle","powa-shot-video-toggle-icon","powa-shot-video-pause-icon"),"\n\t\t\t\t").concat(Object(r.svgIcon)("playCircle","powa-shot-video-toggle-icon","powa-shot-video-play-icon"),"\n\t\t\t</button>"):"","\n\t\t</div>\n\t")}var y={debug:!1,style:m,template:b},w=function(t){function e(){var t,n,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=l(e).call(this,v(u)),t=!o||"object"!==s(o)&&"function"!=typeof o?c(n):o,Object(r.bindAll)(c(t));var d=u.data||{};if(delete u.data,t.settings=Object(i.extend)(y,Object(i.defined)(u)),t.on(a.l.ADDED_TO_DOM,function(){var e={id:t.settings.id,type:a.t.POWA_RENDER,visible:t.displayed()};Object.assign(e,{powa:t.settings.powa}),t.settings.powaTrack.trigger(a.t.POWA_RENDER,e)}),Object(i.forEach)(a.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(i.forEach)(a.j,function(e){t.on(e,function(e){e=e.detail?e.detail:e,t.settings.powaTrack.trigger(e.type,e)})}),!Object(r.isObject)(t.settings.style)){var f=Object(i.extend)({colors:Object(a.u)()},t.settings),h=t.settings.default?m(f):"function"==typeof t.settings.style?t.settings.style(f):t.settings.style;Object(r.addCSS)(h,p)}return t.update(d),t.settings.$container.append(c(t)),t.on("contextmenu",t.promoVideoToggle),Object(i.forEach)(t.events,function(e){t[e]&&t.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o["a"]),f(e,null,[{key:"EVENTS",get:function(){return a.p}}]),f(e,[{key:"show",value:function(){u(l(e.prototype),"show",this).call(this),this.settings.powaTrack.trigger(a.p.PROMO_SHOW)}},{key:"hide",value:function(){u(l(e.prototype),"hide",this).call(this),this.settings.powaTrack.trigger(a.p.PROMO_HIDE)}},{key:"showPlayButton",value:function(){this.$promoPlay.show(),this.$promoLoading.hide()}},{key:"showLoadingIcon",value:function(){this.$promoPlay.hide(),this.$promoLoading.show()}},{key:"start",value:function(){this.showLoadingIcon()}},{key:"firstFrame",value:function(){this.showPlayButton()}},{key:"promoVideoToggle",value:function(){this.$promoVideo.elements.length&&(this.$promoVideo.elements[0].paused?(this.$promoVideoPlay.hide(),this.$promoVideoPause.show(),this.$promoVideo.elements[0].play()):(this.$promoVideoPlay.show(),this.$promoVideoPause.hide(),this.$promoVideo.elements[0].pause()))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.powa=this.settings.powa,this.html(this.settings.default?b(t):this.settings.template(t)),Object(r.isObject)(this.settings.style)&&Object(r.notEmpty)(this.settings.style)&&this.css(this.settings.style);var e=this.find(".powa-shot-click-play");e.elements.length&&(e.addClass(g.powaClickPlay),this.listen()),this.$promoPlay=this.find(".powa-shot-play-icon"),this.$promoLoading=this.find(".powa-shot-loading-icon"),this.$promoLoading.hide(),this.$promoVideo=this.find(".powa-shot-video"),this.$promoVideoPlay=this.find(".powa-shot-video-play-icon"),this.$promoVideoPause=this.find(".powa-shot-video-pause-icon"),this.$promoVideoPlay.hide()}}]),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i=n(25),o=n(3),r=n(1),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h="PoWaPlayer",p="video",g=Object(r.freeze)({BUFFERING:"buffering",ENDED:"ended",ERROR:"error",IDLE:"idle",PAUSED:"paused",PLAYING:"playing",SKIPPED:"skipped"}),v=Object(r.freeze)([g.BUFFERING,g.PAUSED,g.PLAYING]),m=Object(r.freeze)(["controls","currentTime","duration","muted","src","videoHeight","videoWidth","volume"]),b=Object(r.freeze)({currentTime:"time"}),y=Object(r.freeze)(["duration","time","volume"]),w=Object(r.freeze)(["videoHeight","videoWidth"]),O=Object(r.freeze)({debug:!1,debugExclusions:["progress","suspend","timeupdate"],preload:"metadata",stashVolume:!0,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},ready:function(){console.debug("[".concat(h,"] ready"))},setupError:console.error});var k=function(t){function e(){var t,n,i,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1],arguments.length>2&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=c(e).call(this,(a=l.type,"<".concat(a,' class="powa-').concat(a,'"></').concat(a,">"))))||"object"!==s(i)&&"function"!=typeof i?u(n):i,Object(r.bindAll)(u(t)),t.media=t.elements[0],t.settings=Object(o.extend)(O,l),t.setDefaultStyle(),t.clearStarted(),t.state=g.IDLE,t.debug=t.settings.debug,t.debugExclusions=t.settings.debugExclusions,t._setupPlayerEvents(),t.attr("id",t.settings.id),t.attr("playsinline","true"),t.attr("preload",t.settings.preload),t.attr("controlslist","nodownload"),t.settings.type!==p||PoWaSettings.client.isAndroid&&PoWaSettings.client.isWebView||t.attr("crossorigin","anonymous"),t.setControls(t.settings.controls),t.settings.loop&&(t.attr("loop",!0),t.setControls(!1),t.loop={count:0}),t.settings.autoplay&&t.attr("autoplay",!0),t.settings.volume=Object(r.get)(u(t),"settings.volume",Object(r.parseString)(Object(r.fetchLocal)("powaVolume")))||1,t.settings.muted=Object(r.get)(u(t),"settings.muted",Object(r.parseString)(Object(r.fetchLocal)("powaMuted")))||!1,t.volume(t.settings.volume),t.mute(t.settings.muted),t.stream=t.settings.stream,t.stream&&t.load(t.stream),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["PoWaPack"]),d(e,null,[{key:"powaDown",value:function(t){return Object(a.v)(t)}},{key:"MODULE",get:function(){return h}},{key:"AUDIO",get:function(){return"audio"}},{key:"VIDEO",get:function(){return p}},{key:"EVENTS",get:function(){return a.m}},{key:"STATES",get:function(){return g}}]),d(e,[{key:"_setupPlayerEvents",value:function(){var t=this;a.c.map(function(e){return t.on(e,t._playerEventHandler)})}},{key:"setDefaultStyle",value:function(){this.css(this.settings.style)}},{key:"_playerEventHandler",value:function(t){this.debug&&!this.debugExclusions.includes(t.type)&&console.debug("[".concat(h,"] ").concat(t.type),t),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](t)}},{key:"_clickHandler",value:function(t){this.trigger(a.m.MEDIA_CLICK,Object(o.extend)(this.getStatus(),{type:a.s.MEDIA_CLICK,event:t}))}},{key:"_contextmenuHandler",value:function(t){t.preventDefault(),this.trigger(a.m.MEDIA_RIGHT_CLICK,Object(o.extend)(this.getStatus(),{type:a.s.MEDIA_RIGHT_CLICK,event:t}))}},{key:"_durationchangeHandler",value:function(t){this.trigger(a.m.META,Object(o.extend)(this.getStatus(),{type:a.s.META,event:t}))}},{key:"_endedHandler",value:function(t){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.mediaStarted&&(this.state=g.ENDED,this.trigger(a.m.COMPLETE,Object(o.extend)(this.getStatus(),{type:a.s.COMPLETE,event:t})),this._ended(a.s.COMPLETE)):this.trigger(a.m.COMPLETE,t)}},{key:"_errorHandler",value:function(t){if(this.attr("src")){this.state=g.ERROR;var e=Object(r.get)(t,"srcElement.error.code",null),n=Object(r.get)(t,"srcElement.src",null),i=Object(r.get)(t,"srcElement.error.message",null),s=Object(o.extend)(this.getStatus(),{code:e,stream:n,message:i,mediaError:e?a.b[e]:null,type:a.s.ERROR,event:t});null===e&&(s.nonBlocking=!0),console.error(a.m.ERROR,s),this.trigger(a.m.ERROR,s),this._ended(a.s.ERROR)}}},{key:"_loadstartHandler",value:function(t){var e=this.attr("src");switch(this.settings.type){case"audio":""===e?(this.state=g.IDLE,this.trigger(a.m.UNLOADED,Object(o.extend)(this.getStatus(),{type:a.s.UNLOADED,event:t}))):this.trigger(a.m.LOADED,Object(o.extend)(this.getStatus(),{type:a.s.LOADED,event:t}));break;case p:""===e?(this.state=g.IDLE,this.trigger(a.m.UNLOADED,Object(o.extend)(this.getStatus(),{type:a.s.UNLOADED,event:t}))):e.startsWith("blob:")||(this.state=g.IDLE,this.trigger(a.m.LOADED,Object(o.extend)(this.getStatus(),{type:a.s.LOADED,event:t})))}}},{key:"_pauseHandler",value:function(t){this.state=this.state===g.SKIPPED?g.SKIPPED:g.PAUSED,this.trigger(a.m.PAUSE,Object(o.extend)(this.getStatus(),{type:a.s.PAUSE,event:t}))}},{key:"_playHandler",value:function(t){this.started||this.mediaStarted?this.started&&this.mediaStarted&&this.state!==g.PLAYING&&(this.state=g.PLAYING,this.trigger(a.m.PLAY,Object(o.extend)(this.getStatus(),{type:a.s.PLAY,event:t}))):(this.started=!0,this.trigger(a.m.START,Object(o.extend)(this.getStatus(),{type:a.s.START})))}},{key:"_playingHandler",value:function(t){this._playHandler(t)}},{key:"_progressHandler",value:function(t){if(this.media.buffered&&this.media.buffered.length){var e=this.media.buffered.end(this.media.buffered.length-1)/this.media.duration;this.trigger(a.m.PROGRESS,Object(o.extend)(this.getStatus(),{type:a.s.PROGRESS,progress:e,event:t}))}}},{key:"_seekedHandler",value:function(t){this.trigger(a.m.SEEKED,Object(o.extend)(this.getStatus(),{type:a.s.SEEKED}))}},{key:"_timeupdateHandler",value:function(t){if(this.started&&this.mediaStarted){var e=this.getStatus();this.firstFrame&&(this.debug&&!this.debugExclusions.includes(a.m.FIRST_FRAME)&&console.debug("[".concat(h,"] ").concat(a.m.FIRST_FRAME)),this.firstFrame=!1,this.trigger(a.m.FIRST_FRAME,Object(o.extend)(e,{type:a.s.FIRST_FRAME}))),this.loop&&(this.loop.lastTime>e.time&&(this.debug&&!this.debugExclusions.includes(a.m.LOOP)&&console.debug("[".concat(h,"] ").concat(a.m.LOOP)),this._endedHandler(this.loop.lastEvent,!1),this.trigger(a.m.LOOP,Object(o.extend)(e,{loopCount:++this.loop.count,type:a.s.LOOP,event:t}))),this.loop.lastTime=e.time,this.loop.lastEvent=Object(o.extend)(e,{type:a.s.COMPLETE,event:t})),this.trigger(a.m.TIME,Object(o.extend)(e,{type:a.s.TIME,event:t}))}}},{key:"_volumechangeHandler",value:function(t){var e=this.getStatus();this.settings.stashVolume&&Object(r.stashLocal)({powaVolume:e.volume,powaMuted:e.muted});var n=this.settings.muted!==e.muted,i=this.settings.volume!==e.volume;n&&(this.settings.muted=e.muted,this.trigger(a.m.MUTED,Object(o.extend)(e,{type:a.s.MUTED,event:t}))),i&&(this.settings.volume=e.volume,this.trigger(a.m.VOLUME,Object(o.extend)(e,{type:a.s.VOLUME,event:t})))}},{key:"_waitingHandler",value:function(t){this.media.readyState===this.media.HAVE_CURRENT_DATA&&(this.state=g.BUFFERING,this.trigger(a.m.BUFFERING,Object(o.extend)(this.getStatus(),{type:a.s.BUFFERING,event:t})))}},{key:"_ended",value:function(t,e){this.debug&&!this.debugExclusions.includes(a.m.END)&&console.debug("[".concat(h,"] ").concat(a.m.END),t),this.clearStarted(),this.state=g.IDLE,this.trigger(a.m.END,Object(o.extend)(this.getStatus(),{status:t},e))}},{key:"clearStarted",value:function(){this.firstFrame=!0,this.mediaStarted=!1,this.started=!1}},{key:"close",value:function(){this.pause()}},{key:"getStatus",value:function(){var t=Object(o.chain)(this.media).pick(m).rename(b).filter(function(t,e){return!w.includes(e)||t}).filter(function(t,e){return!y.includes(e)||!isNaN(t)}).value();return Object(o.extend)({mediaStarted:this.mediaStarted,running:v.includes(this.state),started:this.started,state:this.state,stream:this.stream},t)}},{key:"jump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return isNaN(this.media.currentTime)?null:this.seek(this.media.currentTime+t)}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.noop;this.debug&&console.debug("[".concat(h,"][load]"),t),"audio"===this.settings.type&&(this.state=g.IDLE),t===this.stream||this.isAd||(this.clearStarted(),this.stream=t),this.once(a.m.LOADED,e),this.attr("src",t)}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.media.muted;this.debug&&console.debug("[".concat(h,"][mute]"),t),this.media.muted=t}},{key:"muted",value:function(){return this.debug&&console.debug("[".concat(h,"][muted]"),this.media.muted),this.media.muted}},{key:"pause",value:function(){this.debug&&console.debug("[".concat(h,"][pause]")),this.playPromise?this.playThenPause=!0:(this.playThenPause=!1,this.media.pause())}},{key:"_play",value:function(){var t=this;this.playPromise=this.playPromise||this.media.play(),void 0!==this.playPromise?this.playPromise.finally(function(){t.playPromise=null,t.playThenPause&&t.pause()}):this.playThenPause&&this.pause()}},{key:"play",value:function(){this.debug&&console.debug("[".concat(h,"][play]")),this.started?(this.playThenPause=!1,this.mediaStarted?this._play():(this.mediaStarted=!0,this.trigger(a.m.MEDIA_START,Object(o.extend)(this.getStatus(),{type:a.s.MEDIA_START})),this.stream?this.load(this.stream,this._play):this._play())):(this.started=!0,this.media.currentTime&&(this.media.currentTime=0),this.playThenPause=!0,this._play(),this.trigger(a.m.START,Object(o.extend)(this.getStatus(),{type:a.s.START})))}},{key:"togglePlay",value:function(){this.media.paused?this.play():this.pause()}},{key:"seek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.debug&&console.debug("[".concat(h,"][seek]")),this.media.currentTime=t,this.media.currentTime}},{key:"setControls",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.attr("controls"))?this.attr("controls",!0):this.removeAttr("controls")}},{key:"skip",value:function(){this.debug&&console.debug("[".concat(h,"][skip]")),this.pause(),this.state=g.SKIPPED;var t=this.getStatus();this.trigger(a.m.SKIP,Object(o.extend)(t,{type:a.s.SKIP})),this._ended(a.s.SKIP,Object(o.pick)(t,["time","duration"]))}},{key:"unload",value:function(t){this.debug&&console.debug("[".concat(h,"][unload]")),this.stream="",this.clearStarted(),this.once(a.m.UNLOADED,t),this.attr("src","")}},{key:"volume",value:function(t){return isNaN(t)||(this.media.volume=t),this.media.volume}}]),e}()},function(t,e,n){var i=n(48),o=n(43).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(48);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports={}},function(t,e,n){var i=n(64)("keys"),o=n(59);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(54),o=n(120),r=n(121),a=n(50),s=n(61),c=n(122),u={},l={};(e=t.exports=function(t,e,n,d,f){var h,p,g,v,m=f?function(){return t}:c(t),b=i(n,d,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(h=s(t.length);h>y;y++)if((v=e?b(a(p=t[y])[0],p[1]):b(t[y]))===u||v===l)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=o(g,b,p.value,e))===u||v===l)return v}).BREAK=u,e.RETURN=l},function(t,e,n){var i=n(51).f,o=n(52),r=n(47)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e){e.f=Object.getOwnPropertySymbols},,function(t,e,n){var i=n(48);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var i=n(92),o={};o[n(47)("toStringTag")]="z",o+""!="[object z]"&&n(56)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},,function(t,e,n){var i=n(59)("meta"),o=n(48),r=n(52),a=n(51).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(53)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return u&&d.NEED&&c(t)&&!r(t,i)&&l(t),t}}},,function(t,e,n){t.exports=!n(49)&&!n(53)(function(){return 7!=Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(52),o=n(58),r=n(91)(!1),a=n(77)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~r(u,n)||u.push(n));return u}},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(25),o=n(3),r=n(27),a=n(6),s=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={};var v={adContainerStyle:{position:"absolute",height:"100%",width:"100%",left:"0px",top:"0px"},className:"powa-sell",MODULE:"PoWaSell",ready:function(){console.debug("[".concat("PoWaSell","] ready"))},setupError:console.error,STATES:g,style:{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",background:"black"},template:function(t){return'<div class="'.concat(t.className,'"></div>')}},m=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=Object(o.extend)(v,n);return(t=u(this,d(e).call(this,a.template(a)))).settings=a,t.settings.$container=t.settings.$container||t.settings.powa.get$container(),Object(r.a)("function"==typeof t.settings.style?t.settings.style(t.settings):t.settings.style,t.settings.MODULE),t.hide(),Object.assign(g,i),t._setupPoWaSell(),t._setupListeners(),t._setupElements(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i["PoWaPack"]),h(e,null,[{key:"MODULE",get:function(){return"PoWaSell"}},{key:"EVENTS",get:function(){return s.o}},{key:"STATES",get:function(){return g}}]),h(e,[{key:"_setupPoWaSell",value:function(){if(!this.settings.$container){if(!this.settings.id)throw{error:"missing container",message:"Element ID of container or PoWaPack wrapped container element required"};this.settings.id=this.settings.id.replace(/(^#)/,""),this.settings.$container=Object(i.$)("#".concat(this.settings.id))}}},{key:"_setupListeners",value:function(){var t=this;this.settings.powa.on(s.t.RESIZE,this.resize),Object(o.forEach)(s.n,function(e){t[e]&&t.settings.powa.on(e,t[e])})}},{key:"_setupElements",value:function(){var t;this.settings.$container.append(this),this.$adContainer=Object(i.$)((t=this.settings,'<div id="powa-sell-ad-container-'.concat(t.id,'"></div>'))),this.$adContainer.css(this.settings.adContainerStyle),this.append(this.$adContainer)}},{key:"destroy",value:function(){var t=this;this.settings.powa.off(s.t.RESIZE,this.resize),Object(o.forEach)(s.n,function(e){t[e]&&t.settings.powa.off(e,t[e])}),this.detach(),this.trigger(s.o.AD_DESTROYED,{type:s.o.AD_DESTROYED}),l(d(e.prototype),"destroy",this).call(this)}},{key:"adBarMute",value:function(t){var e=this.getStatus();Object(a.a)(e,"running")&&(this.settings.powa.mute(),this.mute())}},{key:"adBarPause",value:function(t){this.pause()}},{key:"adBarPlay",value:function(t){this.play()}},{key:"adBarSkip",value:function(t){this.skip()}},{key:"adBarShow",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}},{key:"adBarHide",value:function(t){this.$adContainer.css(t.shrinkCSS),this.resize({fullscreen:this.settings.powa.isFullscreen(),height:t.shrinkBy.height,width:t.shrinkBy.width})}},{key:"resize",value:function(t){this.settings.debug&&console.debug("[".concat("PoWaSell","][resize]"),t),t.shrinkCSS&&this.$adContainer.css(t.shrinkCSS)}}]),e}()},function(t,e,n){var i=n(58),o=n(61),r=n(101);t.exports=function(t){return function(e,n,a){var s,c=i(e),u=o(c.length),l=r(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(60),o=n(47)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var i=n(139)(!0);n(105)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(47)("unscopables"),o=Array.prototype;null==o[i]&&n(55)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e,n){"use strict";var i=n(62),o=n(81),r=n(70),a=n(68),s=n(71),c=Object.assign;t.exports=!c||n(53)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=o.f,d=r.f;c>u;)for(var f,h=s(arguments[u++]),p=l?i(h).concat(l(h)):i(h),g=p.length,v=0;g>v;)d.call(h,f=p[v++])&&(n[f]=h[f]);return n}:c},function(t,e,n){for(var i=n(157),o=n(62),r=n(56),a=n(43),s=n(55),c=n(76),u=n(47),l=u("iterator"),d=u("toStringTag"),f=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),g=0;g<p.length;g++){var v,m=p[g],b=h[m],y=a[m],w=y&&y.prototype;if(w&&(w[l]||s(w,l,f),w[d]||s(w,d,m),c[m]=f,b))for(v in i)w[v]||r(w,v,i[v],!0)}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(56);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},,function(t,e,n){t.exports=n(64)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(69),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(54),o=n(71),r=n(68),a=n(61),s=n(170);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,h=e||s;return function(e,s,p){for(var g,v,m=r(e),b=o(m),y=i(s,p,3),w=a(b.length),O=0,k=n?h(e,w):c?h(e,0):void 0;w>O;O++)if((f||O in b)&&(v=y(g=b[O],O,m),t))if(n)k[O]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:k.push(g)}else if(l)return!1;return d?-1:u||l?l:k}}},function(t,e,n){var i=n(43),o=n(42),r=n(65),a=n(123),s=n(51).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";var i=n(67);function o(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var i=n(65),o=n(45),r=n(56),a=n(55),s=n(76),c=n(140),u=n(80),l=n(142),d=n(47)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,g,v,m){c(n,e,p);var b,y,w,O=function(t){if(!f&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",S="values"==g,E=!1,j=t.prototype,A=j[d]||j["@@iterator"]||g&&j[g],T=A||O(g),_=g?S?O("entries"):T:void 0,P="Array"==e&&j.entries||A;if(P&&(w=l(P.call(new t)))!==Object.prototype&&w.next&&(u(w,k,!0),i||"function"==typeof w[d]||a(w,d,h)),S&&A&&"values"!==A.name&&(E=!0,T=function(){return A.call(this)}),i&&!m||!f&&!E&&j[d]||a(j,d,T),s[e]=T,s[k]=h,g)if(b={values:S?T:O("values"),keys:v?T:O("keys"),entries:_},m)for(y in b)y in j||r(j,y,b[y]);else o(o.P+o.F*(f||E),e,b);return b}},function(t,e,n){var i=n(50),o=n(141),r=n(78),a=n(77)("IE_PROTO"),s=function(){},c=function(){var t,e=n(74)("iframe"),i=r.length;for(e.style.display="none",n(119).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[r[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(47)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){var i=n(147),o=n(66);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var i=n(47)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){n(111),t.exports=n(42).Object.assign},function(t,e,n){var i=n(45);i(i.S+i.F,"Object",{assign:n(95)})},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n(3),o=n(25),r=n(27),a=n(29),s=n(30),c=n(6),u=n(0);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v={powaOutage:"powa-outage"},m=Object(i.mapObj)(v,function(t){return".".concat(t)}),b=function(){return'<div class="'.concat(v.powaOutage,'"></div>')};var y={debug:!1,defaultMessage:"Error. Something went wrong.",style:"\n\t".concat(m.powaOutage," {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tbackground-color: #000;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\t\tcolor: #fff;\n\t\tfont-size: 20px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\tz-index: 2;\n\t}\n"),template:function(t){return Object(c.a)(t,"geo.until")?function(t){var e=Date.now(),n=Object(c.a)(t,"geo.until"),i=Object(c.a)(t,"geo.since");return n?'\n\t\t\t<div class="'.concat(v.powaOutage,'-flight-time">\n\t\t\t\tThis video will be available in ').concat(Object(s.a)(new Date(n)-e),".\n\t\t\t</div>"):i?'\n\t\t\t<div class="'.concat(v.powaOutage,'-flight-time">\n\t\t\t\tThis video ended ').concat(Object(s.a)(e-new Date(i))," ago.\n\t\t\t</div>"):t.message}(t):function(t){return"<p>".concat(t.message,"</p>")}(t)}},w=function(t){function e(){var t,n,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=d(e).call(this,b(r)),t=!o||"object"!==l(o)&&"function"!=typeof o?f(n):o,Object(a.a)(f(t)),t.settings=Object(i.extend)(y,Object(i.defined)(r)),Object(i.forEach)(u.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,o["PoWaPack"]),p(e,null,[{key:"EVENTS",get:function(){return u.l}}]),p(e,[{key:"showError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.message=t.message||this.settings.defaultMessage,Object(r.a)(this.settings.style,"PoWaOutage"),this.settings.$container.append(this),this.html(this.settings.template(t))}},{key:"error",value:function(t){this.showError(t)}},{key:"powaError",value:function(t){this.showError(t)}},{key:"start",value:function(){this.hide()}}]),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n(3),o=n(25),r=n(1),a=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f="PoWaContainer",h={powa:"powa",fullscreen:"powa-fullscreen",hover:"powa-hover",tap:"powa-tap",powaPane:"powa-pane",powaButton:"powa-button",powaSpin:"powa-spin",f2:"powa-f-2",f3:"powa-f-3",f4:"powa-f-4",f5:"powa-f-5",f6:"powa-f-6"},p=Object(r.freeze)(Object(i.mapObj)(h,function(t){return".".concat(t)})),g=function(){return'<div class="'.concat(h.powaPane,'"></div>')},v={aspectRatio:9/16,back:-15,interactionTimeout:3,interactions:[["fullscreenchange","mozfullscreenchange","msfullscreenchange","webkitfullscreenchange"],"keydown","mouseenter","mouseleave","resize","touchstart"],skip:15,style:function(t){return"\n\t".concat(p.powa," {\n\t\tposition: relative;\n\t\tbackground: black;\n\t\theight: 0;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(p.fullscreen," {\n\t\tposition: initial;\n\t}\n\n\t").concat(p.powaPane," {\n\t\theight: 100%;\n\t\tpointer-events: none;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tz-index: 2;\n\t}\n\n\t").concat(p.powaPane," > * {\n\t\tpointer-events: auto;\n\t}\n\n\t").concat(p.powaButton," {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tpadding: 0px;\n\t\tmargin: 0px;\n\t}\n\n\t@-moz-keyframes ").concat(h.powaSpin," { 100% { -moz-transform: rotate(360deg); } }\n\t@-webkit-keyframes ").concat(h.powaSpin," { 100% { -webkit-transform: rotate(360deg); } }\n\tkeyframes ").concat(h.powaSpin," { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }\n\n\t").concat(p.powaSpin," {\n\t\t-webkit-animation: ").concat(h.powaSpin," 2s infinite linear;\n\t\tanimation: ").concat(h.powaSpin," 2s infinite linear;\n\t}\n\n\t").concat(p.f2," {\n\t\twidth: 2em;\n\t\theight: 2em;\n\t}\n\n\t").concat(p.f3," {\n\t\twidth: 3em;\n\t\theight: 3em;\n\t}\n\n\t").concat(p.f4," {\n\t\twidth: 4em;\n\t\theight: 4em;\n\t}\n\n\t").concat(p.f5," {\n\t\twidth: 5em;\n\t\theight: 5em;\n\t}\n\n\t").concat(p.f6," {\n\t\twidth: 6em;\n\t\theight: 6em;\n\t}\n")}},m=function(t){function e(t){var n,o,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,c=u(e).call(this,t.element),(n=!c||"object"!==s(c)&&"function"!=typeof c?l(o):c).elements[0].tabIndex=0,n.addClass(h.powa),n.settings=Object(i.extend)(v,t),n.settings.interactionTimeout*=a.g,Object(r.bindAll)(l(n)),n.mousemove=Object(r.throttle)(n.mousemove,1e3).bind(l(n)),Object(r.has)(n.settings.client,"isDesktop")||(n.settings.client.isDesktop=!(n.settings.client.isMobile||n.settings.client.isTablet)),n.settings.interactions.filter(function(t){return n.settings.client.isDesktop||Array.isArray(t)||!t.startsWith("mouse")}).forEach(function(t){var e=Array.isArray(t)?t:[t];t=e[0];var i=n.settings[t]||n[t];i&&(n[t]||(n[t]=i.bind(l(n))),e.forEach(function(e){return n.on(e,n[t])}))});var d="function"==typeof n.settings.style?n.settings.style(n.settings):n.settings.style;Object(r.addCSS)(d,f);var p="".concat(100*n.settings.aspectRatio,"%");return n.css({paddingBottom:p}),n.append(g()),n}var n,p,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o["PoWaPack"]),n=e,(p=[{key:"_getFullscreenElement",value:function(){var t=this.settings.powa.get$video();return this.settings.client.isDesktop?this.elements[0]:t?t.elements[0]:null}},{key:"isFullscreen",value:function(){return Object(r.isFullscreen)(this._getFullscreenElement())}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isFullscreen();this.isFullscreen()?t||Object(r.exitFullscreen)():t&&Object(r.requestFullscreen)(this._getFullscreenElement())}},{key:"fullscreenchange",value:function(t){var e=this.isFullscreen();e?(this.addClass(h.fullscreen),this.on("mousemove",this.mousemove)):(this.removeClass(h.fullscreen),this.off("mousemove",this.mousemove)),this.settings.powa.trigger(a.t.FULLSCREEN,{fullscreen:e,event:t})}},{key:"keydown",value:function(t){switch(t.keyCode){case a.a.LEFT:t.preventDefault(),this.settings.powa.jump(this.settings.back);break;case a.a.RIGHT:t.preventDefault(),this.settings.powa.jump(this.settings.skip);break;case a.a.SPACEBAR:t.preventDefault(),this.settings.powa.togglePlay()}}},{key:"mouseenter",value:function(t){this.addClass(h.hover),this.settings.powa.trigger(a.t.HOVER,{type:a.t.HOVER,hover:!0,event:t})}},{key:"mouseleave",value:function(t){this.removeClass(h.hover),this.settings.powa.trigger(a.t.HOVER,{type:a.t.HOVER,hover:!1,event:t})}},{key:"mousemove",value:function(t){var e=this;clearTimeout(this.mouseTO),this.mouseTO=setTimeout(function(){e.settings.powa.trigger(a.t.MOUSE,{type:a.t.MOUSE,moving:!1,event:t})},this.settings.interactionTimeout),this.settings.powa.trigger(a.t.MOUSE,{type:a.t.MOUSE,moving:!0,event:t})}},{key:"resize",value:function(t){this.settings.powa.trigger(a.t.RESIZE,t)}},{key:"touchstart",value:function(t){var e=this;this.addClass(h.tap),this.settings.powa.trigger(a.t.TAP,{type:a.t.TAP,tap:!0,event:t}),clearTimeout(this.tapTO),this.tapTO=setTimeout(function(){e.removeClass(h.tap),e.settings.powa.trigger(a.t.TAP,{type:a.t.TAP,tap:!1,event:t})},this.settings.interactionTimeout)}}])&&c(n.prototype,p),m&&c(n,m),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(3),o=n(1),r=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var u="PoWaSellAdTag",l={ADTAG_ERROR:"adTagError",ADTAG_NULL:"adTagNull",ADTAG_LOADING:"adTagLoading",ADTAG_LOADED:"adTagLoaded"},d={adTagLocation:"window.PoWaSettings.advertising.adTag"},f=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.bindAll)(this),this.settings=Object(i.extend)(d,n),this.settings.adPreload&&this.settings.powaTrack.once(r.t.POWA_READY,function(){e.getAdTag().then(function(t){return e.settings.powa.loadAd(t,!0)}).then(o.noop).catch(o.noop)})}return c(t,null,[{key:"MODULE",get:function(){return u}},{key:"STATES",get:function(){return l}}]),c(t,[{key:"_adsAreDisabled",value:function(t){var e=this.settings.getAdTag,n=this.settings.powa.getDataset().forceAd,i=this.settings.powa.getDataset().adTag,r=this.settings.powa.getDataset().adZone,a=this.settings.powa.getDataset(),s=Object(o.get)(a,"mediaTailor",!0)&&Object(o.get)(t,"additional_properties.advertising.enableAdInsertion"),c=Object(o.get)(t,"additional_properties.advertising.playVideoAds");return!(e||n||i||r||s||c)}},{key:"_noPrerollWhenStitched",value:function(t){var e=Object(o.get)(t,"additional_properties.advertising.playVideoAds"),n=Object(o.get)(t,"mediaTailor"),i=n&&(Object(o.isEmpty)(n)||Object(o.get)(n,"error"));return!(Object(o.isEmpty)(t)||e||i)}},{key:"_getAdTag",value:function(t,e,n){switch(a(t)){case"function":return t({adInsertion:n,powa:this.settings.powa,videoData:e});case"string":return t.startsWith("window.")?(t=t.replace("window.",""),(t=Object(o.get)(window,t))?this._getAdTag.call(this,t,e,n):""):t;default:return""}}},{key:"_getVideoData",value:function(){return Object(o.get)(this,"settings.powa.getVideoData")?this.settings.powa.getVideoData():null}},{key:"getAdTag",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getVideoData(),n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,a){if(t._adsAreDisabled(e))t.state=l.ADTAG_NULL,t.settings.powaTrack.trigger(r.t.AD_NULL,{eventID:921,errorMessage:"Ads are disabled in videoData.",module:u}),i(null);else{var s=t._noPrerollWhenStitched(e)?null:t.settings.getAdTag&&"function"==typeof t.settings.getAdTag?t.settings.getAdTag():Object(o.has)(t.settings,"getAdTag")?t.settings.getAdTag:t._getAdTag(t.settings.adTagLocation,e,n);s instanceof Promise?(t.state=l.ADTAG_LOADING,s.then(function(e){t.state=l.ADTAG_LOADED,i(e)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[".concat(u,"][getAdTag] Promise rejection");t.state=l.ADTAG_ERROR,t.settings.powaTrack.trigger(r.t.AD_ERROR,{eventID:922,error:e.toString?e.toString():e,errorMessage:Object(o.get)(e,"message","The 'getAdTag' Promise was rejected"),module:u}),a()})):(t.state=s?l.ADTAG_LOADED:l.ADTAG_NULL,i(s))}})}},{key:"getStatus",value:function(){return this.state}}]),t}()},function(t,e,n){"use strict";var i=n(3),o=n(44),r=n(0),a=n(1);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=Object(a.freeze)({debug:!1,debugExclusions:["adTime","progress","time"]}),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(a.bindAll)(this),Object(a.has)(e,"keepHistory")&&Object(a.stashLocal)("powaTrack",e.keepHistory),this.keep=Object(a.fetchLocal)("powaTrack",!1),e.powaTrack.on(r.t.ALL,this.handler),e.powaTrack.on(r.t.END,this.cleanup),this.settings=Object(i.extend)(c,e),this.powaTrack=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"constructed",timestamp:Date.now()}]),this.powaTracked=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),[])}var e,n,o;return e=t,(n=[{key:"handler",value:function(t,e){this.settings.debugExclusions.includes(e)||(this.track(t,e),this.alert(t,e))}},{key:"track",value:function(t,e){var n=Date.now(),i=this.powaTrack[this.powaTrack.length-1].timestamp,o=this.powaTrack[0].timestamp;this.powaTrack.push({data:t,delta:(n-i)/r.g,event:e,time:(n-o)/r.g,timestamp:n})}},{key:"alert",value:function(t,e){e===r.t.ERROR?(t.errorMessage&&console.error(t.errorMessage),console.error(e,t)):this.settings.debug&&console.warn(e,t)}},{key:"cleanup",value:function(){this.keep?this.powaTracked.push(this.powaTrack):Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTracked"),this.powaTrack),this.powaTrack=Object(a.set)(window,"powas[".concat(this.settings.id,"].powaTrack"),[{event:"powaTrackClear",timestamp:Date.now()}])}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t}}])&&s(e.prototype,n),o&&s(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d={endpoint:"https://d1d3jupgwm7m5r.cloudfront.net/prod/cloudfrontVideoTracker.png",events:[r.t.START],eventDataTemplate:function(t,e){return"?org=".concat(e,"&event=").concat(t.type,"&uuid=").concat(Object(a.get)(t,"videoData._id"),"&timestamp=").concat(Date.now())}},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(a.bindAll)(this),this.settings=Object(i.extend)(d,e),this.setupListeners()}var e,n,o;return e=t,(n=[{key:"setupListeners",value:function(){var t=this;this.settings.events.forEach(function(e){return t.settings.powaTrack.on(e,t.track)})}},{key:"track",value:function(t){(new Image).src="".concat(this.settings.endpoint).concat(this.settings.eventDataTemplate(t,this.settings.org))}}])&&l(e.prototype,n),o&&l(e,o),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return S});var y=Object(a.freeze)({debug:!1,debugExclusions:[r.t.AD_TIME,r.t.HOVER,r.t.META,r.t.POWA_BAR_HIDE,r.t.POWA_BAR_SHOW,r.t.PROGRESS,r.t.TIME],reportSkipped:!1,setupError:console.error}),w=[0,25,50,75,100],O=[r.t.POWA_RENDER,r.t.POWA_READY],k=[r.t.POWA_ERROR],S=function(t){function e(){var t,n,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=m(e).call(this),t=!o||"object"!==h(o)&&"function"!=typeof o?g(n):o,Object(a.bindAll)(g(t)),t.playerState={videoStarts:0,isFullscreen:!1},t.settings=Object(i.extend)(y,s),t.extenders=[t.extender],t.settings.extender&&t.extenders.push(t.settings.extender),Object(i.forEach)(r.t,function(e){t[e]&&t.on(e,t[e])});var c=Object(i.extend)({powaTrack:g(t)},Object(i.pick)(t.settings,["id","debug","debugExclusions","keepHistory"]));return t.powaTrackLocal=new u(c),t.powaTrackRemote=new f(Object(i.extend)({powaTrack:g(t),id:t.settings.id,org:t.settings.org},Object(i.pick)(t.settings,["events"]))),t}var n,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o["a"]),n=e,(s=[{key:"extender",value:function(t,e){return Object(i.chain)(this.playerState).rename({isFullscreen:"fullscreen"}).extend(t).value()}},{key:"extend",value:function(t){"function"==typeof t&&this.extenders.push(t)}},{key:"setDebug",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.settings.debug;this.settings.debug=t,this.powaTrackLocal.setDebug(t)}},{key:"getVideoStarts",value:function(){return this.playerState.videoStarts}},{key:"isReady",value:function(){return!!this.ready}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t===r.t.START&&this.videoStart(),n=Object(i.extend)(n,{type:t}),n=this.extenders.reduce(function(e,n){return n(e,t)},n),t=n.type||t,n.powaTrackSnuff||(O.includes(t)&&Object(a.globalEvent)(t,n),k.includes(t)&&Object(a.globalError)(n,t),v(m(e.prototype),"trigger",this).call(this,t,n),t===r.t.POWA_READY&&(this.ready=!0))}},{key:"reportSkipped",value:function(t,e){var n=w.indexOf(t);this.settings.reportSkipped&&n>0&&this.reportPlayback(w[n-1],e)}},{key:"reportPlayback",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="PLAYBACK_".concat(t);"live"===Object(a.get)(e,"videoData.video_type")||!r.r[n]||this.milestones[n]||(this.reportSkipped(t,e),this.milestones[n]=!0,this.trigger(r.r[n]))}},{key:"complete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(100,t)}},{key:"fullscreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.isFullscreen=t.fullscreen}},{key:"hlsInitialLevel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"hlsLevelSwitch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.bitrate=t.bitrate}},{key:"mediaStart",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.reportPlayback(0,t)}},{key:"powaReady",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playerState.autoplay=t.autoplay,this.playerState.autoplayStatus=t.autoplayStatus}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.time&&t.duration){var e=t.time/t.duration;e>.75?this.reportPlayback(75,t):e>.5?this.reportPlayback(50,t):e>.25&&this.reportPlayback(25,t)}}},{key:"videoStart",value:function(){var t=this;this.playerState.videoStarts++,this.milestones={},Object(i.forEach)(r.r,function(e,n){return t.milestones[n]=!1})}}])&&p(n.prototype,s),c&&p(n,c),e}()},function(t,e,n){"use strict";var i=n(43),o=n(45),r=n(56),a=n(98),s=n(86),c=n(79),u=n(97),l=n(48),d=n(53),f=n(107),h=n(80),p=n(182);t.exports=function(t,e,n,g,v,m){var b=i[t],y=b,w=v?"set":"add",O=y&&y.prototype,k={},S=function(t){var e=O[t];r(O,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(m||O.forEach&&!d(function(){(new y).entries().next()}))){var E=new y,j=E[w](m?{}:-0,1)!=E,A=d(function(){E.has(1)}),T=f(function(t){new y(t)}),_=!m&&d(function(){for(var t=new y,e=5;e--;)t[w](e,e);return!t.has(-0)});T||((y=e(function(e,n){u(e,y,t);var i=p(new b,e,y);return null!=n&&c(n,v,i[w],i),i})).prototype=O,O.constructor=y),(A||_)&&(S("delete"),S("has"),v&&S("get")),(_||j)&&S(w),m&&O.clear&&delete O.clear}else y=g.getConstructor(e,t,v,w),a(y.prototype,n),s.NEED=!0;return h(y,t),k[t]=y,o(o.G+o.W+o.F*(y!=b),k),m||g.setStrong(y,t,v),y}},function(t,e,n){"use strict";var i=n(45);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(45),o=n(67),r=n(54),a=n(79);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,c=arguments[1];return o(this),(e=void 0!==c)&&o(c),null==t?new this:(n=[],e?(i=0,s=r(c,arguments[2],2),a(t,!1,function(t){n.push(s(t,i++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var i=n(43).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(50);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(76),o=n(47)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e,n){var i=n(92),o=n(47)("iterator"),r=n(76);t.exports=n(42).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){e.f=n(47)},function(t,e,n){var i=n(89),o=n(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(50),o=n(67),r=n(47)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[r])?e:o(n)}},function(t,e,n){var i,o,r,a=n(54),s=n(159),c=n(119),u=n(74),l=n(43),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={},b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){b.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},h=function(t){delete m[t]},"process"==n(60)(d)?i=function(t){d.nextTick(a(b,t,1))}:g&&g.now?i=function(t){g.now(a(b,t,1))}:p?(r=(o=new p).port2,o.port1.onmessage=y,i=a(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(50),o=n(48),r=n(104);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},,function(t,e,n){var i=n(60);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(70),o=n(63),r=n(58),a=n(75),s=n(52),c=n(88),u=Object.getOwnPropertyDescriptor;e.f=n(49)?u:function(t,e){if(t=r(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(43),o=n(51),r=n(49),a=n(47)("species");t.exports=function(t){var e=i[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(51).f,o=n(106),r=n(98),a=n(54),s=n(97),c=n(79),u=n(105),l=n(132),d=n(133),f=n(49),h=n(86).fastKey,p=n(83),g=f?"_s":"size",v=function(t,e){var n,i=h(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,i){s(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,null!=i&&c(i,n,t[u],t)});return r(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),i=v(n,t);if(i){var o=i.n,r=i.p;delete n._i[i.i],i.r=!0,r&&(r.n=o),o&&(o.p=r),n._f==i&&(n._f=o),n._l==i&&(n._l=r),n[g]--}return!!i},forEach:function(t){p(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),f&&i(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,n){var i,o,r=v(t,e);return r?r.v=n:(t._l=r={i:o=h(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[g]++,"F"!==o&&(t._i[o]=r)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){var i=n(92),o=n(189);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){"use strict";n(166),n(168),n(172),n(138),n(110),n(174),n(145),n(177),n(148),n(150),n(156),n(179),n(186),n(192);!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},function(t,e,n){"use strict";n.r(e);n(136);var i=n(73),o=n(3),r=n(115),a=n(72),s=n(112),c=n(25),u=n(57),l=n(1),d=n(0),f=Object(l.freeze)(Object(o.extend)(d.i,{padding:"powa-bar-padding",powaBar:"powa-bar",powaBarHide:"powa-bar-hide",play:"powa-bar-play",pause:"powa-bar-pause",playPause:"powa-bar-play-pause",skipControls:"powa-bar-prev-next",skipControlsHidden:"powa-bar-prev-next-hidden",prev:"powa-bar-prev",next:"powa-bar-next",back:"powa-bar-back",skip:"powa-bar-skip",timeAndScrubbers:"powa-bar-time-and-scrubbers",timeAndScrubbersHidden:"powa-bar-time-and-scrubbers-hidden",scrubbers:"powa-bar-scrubbers",scrubber:"powa-bar-scrubber",scrubberTime:"powa-bar-scrubber-time",scrubberProgress:"powa-bar-scrubber-progress",audio:"powa-bar-audio",audioDesktop:"powa-bar-audio-desktop",audioIcon:"powa-bar-audio-icon",mute:"powa-bar-mute",unmute:"powa-bar-unmute",time:"powa-bar-time",duration:"powa-bar-duration",volumeLevel:"powa-bar-volume-level",volumeScrubber:"powa-bar-volume-scrubber",subtitles:"powa-bar-subtitles",subtitlesControls:"powa-bar-subtitles-controls",subtitlesTracks:"powa-bar-subtitles-tracks",subtitlesTrack:"powa-bar-subtitles-track",subtitlesTrackShowing:"powa-bar-subtitles-track-showing",subtitlesCustomize:"powa-bar-subtitles-customize",subtitlesIcon:"powa-bar-subtitles-icon",subtitlesEnabled:"powa-bar-subtitles-enabled",compress:"powa-bar-compress",expand:"powa-bar-expand",fullscreen:"powa-bar-fullscreen",audioClick:"".concat(d.i.powaClick,"-audio-click"),fullscreenClick:"".concat(d.i.powaClick,"-fullscreen-click"),scrubberTouch:"".concat(d.i.powaTouch,"-scrubber-touch"),scrubberHover:"".concat(d.i.powaHover,"-scrubber-hover"),subtitlesClick:"".concat(d.i.powaClick,"-subtitles-click"),subtitlesCustomizeClick:"".concat(d.i.powaClick,"-subtitles-customize-click"),subtitlesTouch:"".concat(d.i.powaTouch,"-subtitles-touch"),playPauseClick:"".concat(d.i.powaClick,"-play-pause-click"),prevClick:"".concat(d.i.powaClick,"-prev-click"),nextClick:"".concat(d.i.powaClick,"-next-click"),backClick:"".concat(d.i.powaClick,"-back-click"),skipClick:"".concat(d.i.powaClick,"-skip-click"),volumeTouch:"".concat(d.i.powaTouch,"-volume-touch")})),h=Object(l.freeze)(Object(o.mapObj)(f,function(t){return".".concat(t)})),p=function(){return'<div class="'.concat(f.powaBar," ").concat(f.powaBarHide,'"></div>')};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O="PoWaBar",k={hideTime:.5,slideTime:.2,style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t".concat(h.padding," {\n\t\twidth: 3px;\n\t}\n\n\t").concat(h.powaBar," {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\n\t\twidth: 100%;\n\t\theight: 25px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\tuser-select: none;\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.primary),";\n\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tfont-family: sans-serif;\n\t\ttext-shadow: 0 0 2px ").concat(Object(l.getColor)(t.colors.background,.75),";\n\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.background,.25),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(h.powaBarHide," {\n\t\theight: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\n\t\ttransition: all ").concat(t.hideTime,"s;\n\t}\n\n\t").concat(h.playPause," {\n\t\tcolor: #fff;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\n\t\tmin-width: 14px;\n\t\tmargin: 0 2px;\n\t\tpadding: 0px;\n\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.play," {\n\t\tpadding: 0px 1px 0px 1px;\n\t}\n\n\t").concat(h.play," {\n\t\twidth: 20px !important;\n\t}\n\n\t").concat(h.pause," {\n\t\tpadding: 0px 1px 0px 1px;\n\t}\n\n\t").concat(h.pause," {\n\t\twidth: 20px !important;\n\t}\n\n\t").concat(h.playPause,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControls," {\n\t\tcolor: #fff;\n\t\tpadding: 4px 0px 2px 0px;\n\t\tfont-size: 14px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.skipControls," svg {\n\t\twidth: 1em;\n\t}\n\n\t").concat(h.skipControls,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.skipControlsHidden," {\n\t\tdisplay: none;\n\t\twidth: 0;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t").concat(h.skip," svg {\n\t\twidth: 16px;\n\t}\n\n\t").concat(h.time," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.duration," {\n\t\tmargin: 0 2px;\n\t}\n\n\t").concat(h.timeAndScrubbers," {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t}\n\n\t").concat(h.timeAndScrubbersHidden," {\n\t\tvisibility: hidden;\n\t}\n\n\t").concat(h.scrubbers," {\n\t\tpointer-events: none;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 12px;\n\t\tborder: 1px solid ").concat(Object(l.getColor)(t.colors.primary,.9),";\n\t\tborder-radius: 3px;\n\t\tmargin: 0 2px;\n\t\toverflow: hidden;\n\t}\n\n\t").concat(h.scrubber," {\n\t\tpointer-events: auto;\n\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.primary,.5),";\n\t}\n\n\t").concat(h.scrubberProgress," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.accent,.2),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.scrubberTime," {\n\t\tposition: absolute;\n\n\t\theight: 100%;\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width 0.1s;\n\t}\n\n\t").concat(h.audio," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\n\t\tmargin: 0 2px;\n\n\t\twidth: 15px;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audioDesktop,":hover {\n\t\twidth: 70px;\n\t}\n\n\t").concat(h.audioIcon," {\n\t\tcolor: #fff;\n\t\tpadding: 0px;\n\t}\n\n\t").concat(h.unmute," {\n\t\twidth: 8px;\n\t\tmargin: 0px 4px;\n\t}\n\n\t").concat(h.mute," {\n\t\twidth: 16px;\n\t}\n\n\t").concat(h.audioIcon,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.volumeScrubber," {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\twidth: 0;\n\t\tmargin: 0;\n\t\topacity: 0;\n\t\theight: 12px;\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.audio,":hover ").concat(h.volumeScrubber," {\n\t\tborder: 1px solid ").concat(Object(l.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\topacity: 1;\n\t\twidth: 50px;\n\t\tmargin-right: 2px;\n\t}\n\n\t").concat(h.volumeLevel," {\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.accent,.9),";\n\n\t\ttransition: width ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\n\t\tmargin: 2px;\n\t\tmax-width: 100px;\n\t}\n\n\t").concat(h.subtitlesControls," {\n\t\tmax-width: 0;\n\t\tmargin-bottom: 1px;\n\t\topacity: 0;\n\t\theight: 14px;\n\t\toverflow: hidden;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\tfont-size: 14px;\n\t\ttext-shadow: 0 0 1px ").concat(Object(l.getColor)(t.colors.primary,.5),";\n\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesControls," {\n\t\tborder: 1px solid ").concat(Object(l.getColor)(t.colors.primary,.9),";\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.primary,.5),";\n\t\tborder-radius: 3px;\n\n\t\tmax-width: 150px;\n\t\tmargin-right: 1px;\n\t\tpadding: 0 1px;\n\t\topacity: 1;\n\t}\n\n\t").concat(h.subtitlesControls," button {\n\t\tmargin: 2px 0px 0px 6px !important;\n\t}\n\n\t").concat(h.subtitlesTracks," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t").concat(h.subtitlesTrack," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t}\n\n\t").concat(h.subtitlesTrack,":hover {\n\t\ttext-shadow: 0 0 2px ").concat(Object(l.getColor)(t.colors.primary,.75),";\n\t}\n\n\t").concat(h.subtitlesTrackShowing," {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesTrack," {\n\t\tmax-width: 12px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesCustomize," {\n\t\tmax-width: 0;\n\t\ttransition: all ").concat(t.slideTime,"s;\n\t\tcolor: #fff;\n\t}\n\n\t").concat(h.subtitlesCustomize,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitles,":hover ").concat(h.subtitlesCustomize," {\n\t\tmax-width: 14px;\n\t\tmargin: 0 1px;\n\t}\n\n\t").concat(h.subtitlesCustomize," svg {\n\t\twidth: 14px;\n\t\tmargin: 2px 0px;\n\t}\n\n\t").concat(h.subtitlesIcon," {\n\t\tcolor: #fff;\n\t\tpadding: 0px;\n\t}\n\n\t").concat(h.subtitlesEnabled," ").concat(h.subtitlesIcon," {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitlesIcon,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.subtitlesIcon," svg {\n\t\twidth: 22px;\n\t}\n\n\t").concat(h.fullscreen," {\n\t\tcolor: #fff;\n\t\tpadding: 2px;\n\t\tmargin: 0 2px;\n\t\ttransition: all 0.25s;\n\t}\n\n\t").concat(h.fullscreen,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(h.fullscreen," svg {\n\t\twidth: 12px;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<span class="'.concat(f.padding,'"></span>\n\t<button class="powa-button ').concat(f.skipControls," ").concat(f.skipControlsHidden," ").concat(f.prev," ").concat(f.prevClick,'" aria-label="Back" title="Back">\n\t\t').concat(Object(l.svgIcon)("backward"),'\n\t</button>\n\t<button class="powa-button ').concat(f.skipControls," ").concat(f.skipControlsHidden," ").concat(f.back," ").concat(f.backClick,'" aria-label="Undo" title="Undo">\n\t\t').concat(Object(l.svgIcon)("undo"),'\n\t</button>\n\t<button class="powa-button ').concat(f.playPause," ").concat(f.playPauseClick,'" aria-label="Play/Pause" title="Play/Pause">\n\t\t').concat(Object(l.svgIcon)("play",f.play),"\n\t\t").concat(Object(l.svgIcon)("pause",f.pause),'\n\t</button>\n\t<button class="powa-button ').concat(f.skipControls," ").concat(f.skipControlsHidden," ").concat(f.skip," ").concat(f.skipClick,'" aria-label="Repeat" title="Repeat">\n\t\t').concat(Object(l.svgIcon)("repeat"),'\n\t</button>\n\t<button class="powa-button ').concat(f.skipControls," ").concat(f.skipControlsHidden," ").concat(f.next," ").concat(f.nextClick,'" aria-label="Forward" title="Forward">\n\t\t').concat(Object(l.svgIcon)("forward"),'\n\t</button>\n\t<div class="').concat(f.timeAndScrubbers,'">\n\t\t<div class="').concat(f.time,'"></div>\n\t\t<div class="').concat(f.scrubbers,'">\n\t\t\t<div class="').concat(f.scrubber," ").concat(f.scrubberTouch," ").concat(f.scrubberHover,'"></div>\n\t\t\t<div class="').concat(f.scrubberProgress,'"></div>\n\t\t\t<div class="').concat(f.scrubberTime,'"></div>\n\t\t</div>\n\t\t<div class="').concat(f.duration,'"></div>\n\t</div>\n\t<div class="').concat(t.client.isDesktop?"".concat(f.audio," ").concat(f.audioDesktop):"".concat(f.audio),'">\n\t\t').concat(t.client.isDesktop?'\n\t\t\t<div class="'.concat(f.volumeScrubber," ").concat(f.volumeTouch,'">\n\t\t\t\t<div class="').concat(f.volumeLevel,'"></div>\n\t\t\t</div>\n\t\t'):"",'\n\t\t<button class="powa-button ').concat(f.audioIcon," ").concat(f.audioClick,'" aria-label="Volume" title="Volume">\n\t\t\t').concat(Object(l.svgIcon)("volumeUp",f.mute),"\n\t\t\t").concat(Object(l.svgIcon)("volumeOff",f.unmute),'\n\t\t</button>\n\t</div>\n\t<div class="').concat(f.subtitles," ").concat(f.subtitlesTouch,'">\n\t\t<div class="').concat(f.subtitlesControls,'">\n\t\t\t<div class="').concat(f.subtitlesTracks,'"></div>\n\t\t\t<button class="powa-button ').concat(f.subtitlesCustomize," ").concat(f.subtitlesCustomizeClick,'" aria-label="Settings" title="Settings">\n\t\t\t\t').concat(Object(l.svgIcon)("cog"),'\n\t\t\t</button>\n\t\t</div>\n\t\t<button class="powa-button ').concat(f.subtitlesIcon," ").concat(f.subtitlesClick,'" aria-label="Subtitles/Closed Captions" title="Subtitles/Closed Captions">\n\t\t\t').concat(Object(l.svgIcon)("cc"),'\n\t\t</button>\n\t</div>\n\t<button class="powa-button ').concat(f.fullscreen," ").concat(f.fullscreenClick,'" aria-label="Toggle Full Screen" title="Toggle Full Screen">\n\t\t').concat(Object(l.svgIcon)("expand",f.expand),"\n\t\t").concat(Object(l.svgIcon)("compress",f.compress),'\n\t</button>\n\t<span class="').concat(f.padding,'"></span>\n')},back:-15,skip:15,live:!1},S=function(t){function e(t){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(r=v(e).call(this,p()))||"object"!==g(r)&&"function"!=typeof r?m(i):r).isScrubbing=!1,n.isVolumeSliding=!1,Object(l.bindAll)(m(n)),n.settings=Object(o.extend)(k,t,{client:PoWaSettings.client}),n.settings.$container=n.settings.powa.get$container(),n._setupUI(),n._setupHandlers(),n._resetUI(),n.hide();var a=Object(o.extend)({colors:Object(d.u)()},n.settings),s="function"==typeof n.settings.style?n.settings.style(a):n.settings.style;return Object(l.addCSS)(s,O),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,u["a"]),y(e,null,[{key:"EVENTS",get:function(){return d.h}}]),y(e,[{key:"_setupUI",value:function(){this.html(this.settings.template(this.settings)),this.events=Object(o.extend)(d.h,this.events),this.$timeAndScrubbers=this.find(h.timeAndScrubbers),this.$scrubber=this.find(h.scrubber),this.$scrubberTime=this.find(h.scrubberTime),this.$scrubberProgress=this.find(h.scrubberProgress),this.$play=this.find(h.play),this.$pause=this.find(h.pause),this.$prev=this.find(h.prev),this.$next=this.find(h.next),this.$back=this.find(h.back),this.$skip=this.find(h.skip),this.$mute=this.find(h.mute),this.$unmute=this.find(h.unmute),this.$volumeLevel=this.find(h.volumeLevel),this.$time=this.find(h.time),this.$duration=this.find(h.duration),this.$subtitles=this.find(h.subtitles),this.$tracks=this.find(h.subtitlesTracks),this.$compress=this.find(h.compress),this.$expand=this.find(h.expand),this.$fullscreen=this.find(h.fullscreen)}},{key:"_setupHandlers",value:function(){var t=this;Object(o.forEach)(d.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),Object(o.forEach)(this.events,function(e){t.on(e,function(n){t[e]&&t[e](n),t.settings.powaTrack.trigger(e,n.detail?n.detail:n)})})}},{key:"_resetUI",value:function(){this.shouldShow=!1;this.settings.powa.isFullscreen()?this.$expand&&this.$expand.hide():this.$compress&&this.$compress.hide(),this.$duration&&this.$duration.empty(),this.$unmute&&this.$unmute.hide(),this.$scrubberProgress&&this.$scrubberProgress.css({width:"0%"}),this.$scrubberTime&&this.$scrubberTime.css({width:"0%"}),this.$subtitles&&this.$subtitles.hide(),this.$time&&this.$time.empty()}},{key:"show",value:function(){this.shouldShow&&!this.controlsDisabled&&(this.removeClass(f.powaBarHide),this.trigger(this.events.show,{height:this.height(),width:this.width(),$powaBar:this}))}},{key:"hide",value:function(){this.isScrubbing||(this.addClass(f.powaBarHide),this.trigger(this.events.hide,{height:this.height(),width:this.width(),$powaBar:this}))}},{key:"hideControls",value:function(){this.hide(),this.controlsDisabled=!0}},{key:"showControls",value:function(){this.controlsDisabled=!1,this.settings.$container.hasClass("powa-hover")&&this.show()}},{key:"audioClick",value:function(t){this.settings.powa.mute()}},{key:"fullscreenClick",value:function(){this.settings.powa.fullscreen()}},{key:"hover",value:function(t){var e=Object(l.get)(t,"detail.event");(t=e||t).hover?this.show():this.hide()}},{key:"tap",value:function(t){var e=Object(l.get)(t,"detail.event");(t=e||t).tap?this.show():this.hide()}},{key:"mouse",value:function(t){t.moving?this.show():!this.settings.$container.hasClass("powa-fullscreen")&&this.settings.$container.hasClass("powa-hover")||this.hide()}},{key:"playPauseClick",value:function(t){this.settings.powa.togglePlay()}},{key:"prevClick",value:function(t){this.settings.powa.prev&&this.settings.powa.prev()}},{key:"nextClick",value:function(t){this.settings.powa.next&&this.settings.powa.next()}},{key:"backClick",value:function(t){this.settings.powa.jump(this.settings.back)}},{key:"skipClick",value:function(t){this.settings.powa.jump(this.settings.skip)}},{key:"mobileOffsetX",value:function(t){var e=t.targetTouches[0],n=e.target.parentElement;return e.clientX-n.offsetLeft}},{key:"skipToPosition",value:function(t){var e=Object(l.get)(t,"detail.event");(t=e||t).offsetX||(t.offsetX=this.mobileOffsetX(t)),this.settings.powa.seekPosition(t.offsetX/t.currentTarget.offsetWidth)}},{key:"scrubberTouch",value:function(t){var e=Object(l.get)(t,"detail.event"),n=e.type;if("mousedown"!==n&&"touchstart"!==n||(this.isScrubbing=!0,this.skipToPosition(t),this.settings.powa.pause()),"mouseup"!==n&&"touchend"!==n||(this.isScrubbing=!1,this.settings.powa.play()),"mousemove"===n&&this.isScrubbing&&this.skipToPosition(t),"touchmove"===n){var i=e.touches[0].pageX,o=e.touches[0].pageY;if(!1===document.elementFromPoint(i,o).className.includes("powa-bar-scrubber"))return this.isScrubbing=!1,void this.hide();this.isScrubbing&&this.skipToPosition(t)}}},{key:"scrubberHover",value:function(){"mouseleave"===Object(l.get)(event,"detail.event").type&&(this.isScrubbing=!1)}},{key:"subtitlesClick",value:function(t){this.settings.powa.toggleSubtitles()}},{key:"adjustVolume",value:function(t){var e=Object(l.get)(t,"detail.event"),n=(t=e||t).offsetX/t.currentTarget.offsetWidth;n>0&&n<1&&(this.settings.powa.mute(!1),this.settings.powa.volume(t.offsetX/t.currentTarget.offsetWidth))}},{key:"volumeTouch",value:function(t){var e=Object(l.get)(t,"detail.event").type;"mousedown"===e&&(this.isVolumeSliding=!0,this.adjustVolume(t)),"mouseup"===e&&(this.isVolumeSliding=!1),"mousemove"===e&&1==this.isVolumeSliding&&this.adjustVolume(t)}},{key:"adEnd",value:function(){this.showControls()}},{key:"adFirstFrame",value:function(){this.hideControls()}},{key:"end",value:function(t){this._resetUI()}},{key:"fullscreen",value:function(t){t.fullscreen?(this.$expand&&this.$expand.hide(),this.$compress&&this.$compress.show()):(this.$compress&&this.$compress.hide(),this.$expand&&this.$expand.show())}},{key:"mediaStart",value:function(t){this.shouldShow=!0,this.settings.$container.hasClass("powa-hover")&&this.show(),this.volume(t),this.muted(t)}},{key:"muted",value:function(t){t.muted?(this.$mute.hide(),this.$unmute.show(),this.volume({volume:0})):(this.$mute.show(),this.$unmute.hide(),this.volume(t))}},{key:"pause",value:function(){this.$pause.hide(),this.$play.show()}},{key:"play",value:function(){this.$play.hide(),this.$pause.show()}},{key:"_showHidePrevNext",value:function(t){t.playlist.length>1?(this.$prev.removeClass(f.skipControlsHidden),this.$next.removeClass(f.skipControlsHidden)):(this.$prev.addClass(f.skipControlsHidden),this.$next.addClass(f.skipControlsHidden))}},{key:"playlist",value:function(t){this._showHidePrevNext(t)}},{key:"playlistLoaded",value:function(t){this._showHidePrevNext(t)}},{key:"progress",value:function(t){if(!isNaN(t.progress)&&this.$scrubberProgress){var e="".concat(100*t.progress,"%");this.$scrubberProgress.css({width:e})}}},{key:"promoShow",value:function(t){this.hide()}},{key:"start",value:function(t){"live"===Object(l.get)(t,"videoData.video_type")||this.settings.live?(this.$timeAndScrubbers.addClass(f.timeAndScrubbersHidden),this.$back.removeClass(f.skipControlsHidden),this.$skip.removeClass(f.skipControlsHidden)):(this.$timeAndScrubbers.removeClass(f.timeAndScrubbersHidden),this.$back.addClass(f.skipControlsHidden),this.$skip.addClass(f.skipControlsHidden))}},{key:"_setTracks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$tracks&&(this.$tracks.empty(),Object(o.chain)(e).map(function(t){return Object(c.$)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n\t<div class="'.concat(f.subtitlesTrack).concat(e&&t.label===e?" ".concat(f.subtitlesTrackShowing):"",'" data-label="').concat(t.label,'">\n\t\t').concat(t.language,"\n\t</div>\n")}(t,n))}).forEach(this.$tracks.append).forEach(function(e){return e.on("click",function(n){e.hasClass(f.subtitlesTrackShowing)?t.settings.powa.hideSubtitles():t.settings.powa.showSubtitles(e.attr("data-label"))})}))}},{key:"subsAvailable",value:function(t){this.$subtitles&&(this.$subtitles.show(),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsUnavailable",value:function(t){this.$subtitles&&(this.$subtitles.hide(),this._setTracks())}},{key:"subsEnabled",value:function(t){this.$subtitles&&(this.$subtitles.addClass(f.subtitlesEnabled),this._setTracks(t.subtitles,t.subtitle))}},{key:"subsDisabled",value:function(t){this.$subtitles&&(this.$subtitles.removeClass(f.subtitlesEnabled),this._setTracks(t.subtitles))}},{key:"time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!isNaN(t.time)&&!isNaN(t.duration)&&t.duration){var e="".concat(t.time/t.duration*100,"%");this.$scrubberTime&&this.$scrubberTime.css({width:e}),this.$time&&this.$time.html(Object(l.formatTime)(t.time)),this.$duration&&this.$duration.html(Object(l.formatTime)(t.duration))}}},{key:"volume",value:function(t){var e="".concat(100*t.volume,"%");this.$volumeLevel.css({width:e})}}]),e}(),E=n(113);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x="PoWaSellAdBar",D={powaSellAdBar:"powa-sell-bar",hidden:"powa-sell-bar-hidden",controls:"powa-sell-bar-controls",control:"powa-sell-bar-control",playPause:"powa-sell-bar-play-pause",play:"powa-sell-bar-play",pause:"powa-sell-bar-pause",muteUnmute:"powa-sell-bar-mute-unmute",mute:"powa-sell-bar-mute",unmute:"powa-sell-bar-unmute",countdown:"powa-sell-bar-countdown",skip:"powa-sell-bar-skip",skipContainer:"powa-sell-bar-skip-container",skipCountdown:"powa-sell-bar-skip-countdown",skipClick:"".concat(d.i.powaClick,"-skip-click"),playPauseClick:"".concat(d.i.powaClick,"-play-pause-click"),muteUnmuteClick:"".concat(d.i.powaClick,"-mute-unmute-click")},L=Object(l.freeze)(Object(o.mapObj)(D,function(t){return".".concat(t)})),R={top:0,bottom:0,left:0,right:0,height:"100%",width:"100%"},M=Object(l.freeze)({playControl:!0,muteControl:!0,adCountdown:!0,skipControl:!0,skipOffset:15,skipThreshold:2,style:function(t){return"\n\t".concat(L.powaSellAdBar," {\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\n\t\twidth: 100%;\n\t\theight: 22px;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tpointer-events: auto;\n\t\tfont-family: Helvetica;\n\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.primary),";\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.background,.7),";\n\n\t\tz-index: 2;\n\t}\n\n\t").concat(L.controls," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(L.control," {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\twidth: 20px;\n\t\tpadding: 4px 0px 4px 0px;\n\t\tmargin: 0;\n\t\tcolor: #fff;\n\t}\n\n\t").concat(L.control,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(L.playPauseClick," svg {\n\t\twidth: 16px;\n\t}\n\n\t").concat(L.mute," {\n\t\twidth: 20px;\n\t}\n\n\t").concat(L.unmute," {\n\t\twidth: 10px;\n\t}\n\n\t").concat(L.countdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0 3px 0 3px;\n\t\tpadding: 0;\n\t}\n\n\t").concat(L.skipContainer," {\n\t\tposition: absolute;\n\t\tright: 0px;\n\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\n\t\tpadding: 0 3px 0 3px;\n\t}\n\n\t").concat(L.skipCountdown," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(L.skip," {\n\t\tfont-size: 14px;\n\t\tfont-weight: 400;\n\t\tcursor: pointer;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t").concat(L.skip,":hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t").concat(L.skip,":active {\n\t\tcolor: ").concat(Object(l.getColor)(t.colors.accent),";\n\t}\n\n\t").concat(L.hidden," {\n\t\tdisplay: none;\n\t}\n")},template:function(t){return'\n\t\t<div class="'.concat(D.controls,'">\n\t\t\t<button aria-label="Play/Pause" title="Play/Pause" class="powa-button ').concat(D.control," ").concat(D.playPause," ").concat(D.playPauseClick,'">\n\t\t\t\t').concat(Object(l.svgIcon)("play",D.play),"\n\t\t\t\t").concat(Object(l.svgIcon)("pause",D.pause),'\n\t\t\t</button>\n\t\t\t<button aria-label="Volume" title="Volume" class="powa-button ').concat(D.control," ").concat(D.muteUnmute," ").concat(D.muteUnmuteClick,'">\n\t\t\t\t').concat(Object(l.svgIcon)("volumeUp",D.mute),"\n\t\t\t\t").concat(Object(l.svgIcon)("volumeOff",D.unmute),'\n\t\t\t</button>\n\t\t</div>\n\t\t<span class="').concat(D.countdown," ").concat(D.hidden,'"></span>\n\t\t<div class="').concat(D.skipContainer,'">\n\t\t\t<span class="').concat(D.skipCountdown," ").concat(D.hidden,'"></span>\n\t\t\t<span class="').concat(D.skip," ").concat(D.skipClick," ").concat(D.hidden,'">').concat(t.adSkipText,"</span>\n\t\t</div>\n\t")},adSkipText:"Skip",adCountdownTemplate:function(t){return"This ad will end in ".concat(Math.ceil(t.adRemaining)," seconds")},adSkipCountdownTemplate:function(t){return"You can skip this ad in ".concat(Math.ceil(t.skipOffset-(t.adDuration-t.adRemaining))," seconds")},checkSizing:function(t){var e=t.$controls,n=t.$countdown,i=t.$skipContainer,o=t.$skipCountdown,r=Object(l.get)(e,"elements.length")?e.position().left+e.width():0,a=Object(l.get)(n,"elements.length")?n.position().left+n.width():0,s=Object(l.get)(i,"elements.length")?i.position().left:1/0;n&&a>s&&n.addClass(D.hidden),o&&r>s&&o.addClass(D.hidden)},shrinkAd:function(t,e){var n=t.height*(e.width/e.height)/2;return{top:t.height,bottom:0,left:n,right:n,height:t.height?e.height-t.height:"100%",width:n?e.width-2*n:"100%"}},shrinkAdCSS:function(t){return{top:"".concat(t.top,"px"),left:"".concat(t.left,"px"),width:"".concat(t.width).concat(isNaN(t.width)?"":"px"),height:"".concat(t.height).concat(isNaN(t.height)?"":"px")}}}),I=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=A(e).call(this,'<div class="'.concat(D.powaSellAdBar,'"></div>')),t=!i||"object"!==j(i)&&"function"!=typeof i?T(n):i,Object(l.bindAll)(T(t)),t.settings=Object(o.extend)(M,r);var a=Object(o.extend)({colors:Object(d.u)()},t.settings),s="function"==typeof t.settings.style?t.settings.style(a):t.settings.style;return Object(l.addCSS)(s,x),t.html(t.settings.template(t.settings)),t.addClass(D.hidden),t.$controls=t.find(L.controls),t.$play=t.find(L.play),t.$pause=t.find(L.pause),t.$mute=t.find(L.mute),t.$unmute=t.find(L.unmute),t.$countdown=t.find(L.countdown),t.$skipContainer=t.find(L.skipContainer),t.$skipCountdown=t.find(L.skipCountdown),t.$skip=t.find(L.skip),t.muted=!1,t.paused=!1,t._updateControls(),t.settings.powaTrack.extend(t.extendResize),Object(o.forEach)(t.events,function(e){t[e]&&t.on(e,function(n){return t[e](n)})}),Object(o.forEach)(d.t,function(e){t[e]&&t.settings.powaTrack.on(e,t[e])}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,u["a"]),P(e,null,[{key:"MODULE",get:function(){return x}},{key:"EVENTS",get:function(){return d.n}},{key:"DEFAULTS",get:function(){return M}}]),P(e,[{key:"_updateControls",value:function(){this.paused?(this.$play.removeClass(D.hidden),this.$pause.addClass(D.hidden)):(this.$play.addClass(D.hidden),this.$pause.removeClass(D.hidden)),this.muted?(this.$mute.addClass(D.hidden),this.$unmute.removeClass(D.hidden)):(this.$mute.removeClass(D.hidden),this.$unmute.addClass(D.hidden))}},{key:"_checkSizing",value:function(){this.settings.checkSizing&&this.settings.checkSizing({$adBar:this,$controls:this.$controls,$play:this.$play,$pause:this.$pause,$mute:this.$mute,$unmute:this.$unmute,$countdown:this.$countdown,$skipContainer:this.$skipContainer,$skipCountdown:this.$skipCountdown,$skip:this.$skip})}},{key:"_getShrinkBy",value:function(){var t={height:this.height(),width:this.width()},e={height:this.settings.$container.height(),width:this.settings.$container.width()};return this._shrinkAd(t,e)}},{key:"_getShrinkAdCSS",value:function(t){return this._shrinkAdCSS(t)}},{key:"extendResize",value:function(t){if(t.type!==d.t.RESIZE)return t;var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);return Object(o.extend)(t,{shrinkBy:e,shrinkCSS:n})}return t}},{key:"_shrinkAd",value:function(t,e){return"function"==typeof this.settings.shrinkAd?this.settings.shrinkAd(t,e):R}},{key:"_shrinkAdCSS",value:function(t){return"function"==typeof this.settings.shrinkAdCSS?this.settings.shrinkAdCSS(t):{}}},{key:"playPauseClick",value:function(t){this.paused?this.settings.powaTrack.trigger(d.n.AD_BAR_PLAY):this.settings.powaTrack.trigger(d.n.AD_BAR_PAUSE)}},{key:"muteUnmuteClick",value:function(){this.settings.powaTrack.trigger(d.n.AD_BAR_MUTE,{muted:!this.muted})}},{key:"skipClick",value:function(){this.settings.powaTrack.trigger(d.n.AD_BAR_SKIP)}},{key:"adBarEnableSkip",value:function(){this.settings.skipControl=!0}},{key:"adBarDisableSkip",value:function(){this.settings.skipControl=!1,this.$skipCountdown.addClass(D.hidden),this.$skip.addClass(D.hidden)}},{key:"adBarShowSkip",value:function(){this.$skipCountdown.addClass(D.hidden),this.$skip.removeClass(D.hidden),this.skipDisplayed=!0}},{key:"adStart",value:function(t){t=t.detail?t.detail:t,this.removeClass(D.hidden),this.skipDisplayed=!1,this.paused=!1,this.muted=t.muted,this.$skip.addClass(D.hidden),this._updateControls();var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(d.n.AD_BAR_SHOW,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(d.n.AD_BAR_SHOW)}},{key:"adTime",value:function(t){t=t.detail?t.detail:t;var e=Object(o.extend)(Object(o.pick)(this.settings,["skipOffset","skipThreshold"]),t),n=e.skipOffset+e.skipThreshold;this.settings.adCountdown&&this.$countdown&&(this.$countdown.html(this.settings.adCountdownTemplate(e)),this.$countdown.removeClass(D.hidden)),!this.skipDisplayed&&this.settings.skipControl&&e.adDuration>n&&(e.adDuration-e.adRemaining>e.skipOffset?this.adBarShowSkip():this.$skipCountdown&&(this.$skipCountdown.html(this.settings.adSkipCountdownTemplate(e)),this.$skipCountdown.removeClass(D.hidden))),this._checkSizing()}},{key:"adPause",value:function(t){this.paused=!0,this._updateControls()}},{key:"adPlay",value:function(t){this.paused=!1,this._updateControls()}},{key:"adEnd",value:function(t){this.addClass(D.hidden);var e=this._getShrinkBy();if(e){var n=this._getShrinkAdCSS(e);this.settings.powaTrack.trigger(d.n.AD_BAR_HIDE,{shrinkBy:e,shrinkCSS:n})}else this.settings.powaTrack.trigger(d.n.AD_BAR_HIDE)}},{key:"adMute",value:function(t){t=t.detail?t.detail:t,this.muted=!!t.muted,this._updateControls()}},{key:"resize",value:function(t){this._checkSizing()}},{key:"promoShow",value:function(t){this.adEnd(t)}},{key:"loaded",value:function(t){this.adEnd(t)}}]),e}(),W=n(114),N=n(90);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function F(t,e,n){return e&&V(t.prototype,e),n&&V(t,n),t}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q={AD_LOADED:"adLoaded",AD_PAUSED:"adPaused",AD_PLAYING:"adPlaying",AD_REQUESTED:"adRequested",AD_START_REQUESTED:"adStartRequested",AD_BLOCKED:"adBlocked",AD_ENDED:"adEnded",AD_ERROR:"adError",AD_IDLE:"adIdle",AD_SKIPPED:"adSkipped",AD_TIMEOUT:"adTimeout"},G="https://imasdk.googleapis.com/js/sdkloader/ima3.js",Y={debug:!1,adCompanions:{width:300,height:200,selectionCriteria:{creativeType:"All",resourceType:"All",sizeCriteria:"IgnoreSize"}},locale:"",adEndWait:d.g/4,allowAdTimeout:!0,timeouts:{standard:{vastLoad:5,videoLoad:8,adStart:5},preload:{vastLoad:10,videoLoad:10,adStart:5}},vpaidMode:"enabled",ready:function(){console.debug("[".concat("PoWaSellGoogima","] ready"))},setupError:console.error},K=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=H(e).call(this,Object(o.extend)(Y,r),q),(t=!i||"object"!==$(i)&&"function"!=typeof i?B(n):i).clearStatus(),new Promise(function(t,e){Object(l.isObject)(Object(l.get)(window,"google.ima"))?t():Object(l.loadScript)(G,t,e)}).then(function(){t._setupPoWaSellGoogima(r),t._setupIMA(),r.ready(B(t))}).catch(function(e){t.state=q.AD_BLOCKED,r.setupError({error:e,message:"Probable ad blocker"},B(t))}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,N["a"]),F(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogima"}}]),F(e,[{key:"_setupPoWaSellGoogima",value:function(t){if(!this.settings.powa)throw this.state=q.AD_ERROR,{error:"missing player",message:"Video player element required"};this.powa=this.settings.powa,this.customClickDiv=t.customClickDiv}},{key:"_setupIMA",value:function(){var t=Object(l.get)(this,"settings.vpaidMode","");t=t.toUpperCase(),null!=(t=google.ima.ImaSdkSettings.VpaidMode[t])&&google.ima.settings.setVpaidMode(t),this.settings.locale&&google.ima.settings.setLocale(this.settings.locale),Object(l.has)(this.settings,"maxWrappers")&&google.ima.settings.setNumRedirects(this.settings.maxWrappers),PoWaSettings.client.isIOS&&PoWaSettings.client.version>=10&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.$adContainer.elements[0],this.powa.getVideoElement(),this.customClickDiv),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManager=null,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this)}},{key:"_onAdsManagerLoaded",value:function(t){var e=new google.ima.AdsRenderingSettings;e.loadVideoTimeout=this.timeouts.videoLoad,e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.adsManager=t.getAdsManager(this.powa.getVideoElement(),e),this._processAdsManager()}},{key:"_processAdsManager",value:function(){var t=this;this.adsManager.isCustomClickTrackingUsed()&&(this.customClickDiv.style.display="table"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,!1,this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,!1,this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._errorHandler,!1,this),Object(o.forEach)(google.ima.AdEvent.Type,function(e){return t.adsManager.addEventListener(e,t._eventHandler,!1,t)}),this.adReady=!0,this.trigger(d.o.AD_READY,{type:d.o.AD_READY,adMeta:this.adMeta})}},{key:"_eventHandler",value:function(t){var e=t.getAd();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(t.type),e),this["_".concat(t.type,"Handler")]&&this["_".concat(t.type,"Handler")](e,t)}},{key:"_allAdsCompletedHandler",value:function(t){this.trigger(d.o.AD_PLAYLIST_COMPLETE,{type:d.o.AD_PLAYLIST_COMPLETE,adMeta:this.adMeta})}},{key:"_clickHandler",value:function(t){this.adClicked=!0;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(d.o.AD_CLICK,{type:d.o.AD_CLICK,adMeta:this.adMeta,event:e})}},{key:"_completeHandler",value:function(t){this.state=q.AD_ENDED,this.trigger(d.o.AD_COMPLETE,{type:d.o.AD_COMPLETE,adMeta:this.adMeta})}},{key:"_durationChangeHandler",value:function(t){var e=this.timing.duration;this.timing.duration=t.getDuration(),this.trigger(d.o.AD_DURATION_CHANGE,{type:d.o.AD_DURATION_CHANGE,oldDuration:e,duration:this.timing.duration})}},{key:"_errorHandler",value:function(t){this.state=q.AD_ERROR;var e={error:t.getError().toString(),event:t,type:d.o.AD_ERROR,adMeta:this.adMeta};this.trigger(d.o.AD_ERROR,e)}},{key:"_impressionHandler",value:function(t,e){this.trigger(d.o.AD_IMPRESSION,{type:d.o.AD_IMPRESSION,adMeta:this.adMeta})}},{key:"_loadedHandler",value:function(t,e){this.adsManager.setVolume(this.powa.muted()?0:this.powa.volume()),this.state=q.AD_LOADED,this.adMeta=e.getAdData()||{},this.timing={duration:t.getDuration(),firstFrame:!0,lastRemaining:null,remaining:this.adsManager.getRemainingTime()},this.trigger(d.o.AD_LOADED,{type:d.o.AD_LOADED,adMeta:this.adMeta}),t.isLinear()||this._onContentResumeRequested("adNotLinear")}},{key:"_logHandler",value:function(t,e){var n=e.getAdData();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(d.o.LOG),n),n.adError&&(e.getError=function(){return n.adError},this._errorHandler(e))}},{key:"_muteHandler",value:function(){}},{key:"_pauseHandler",value:function(t){this.state=q.AD_PAUSED,this.trigger(d.o.AD_PAUSE,{type:d.o.AD_PAUSE,adMeta:this.adMeta})}},{key:"_resumeHandler",value:function(t){this.state=q.AD_PLAYING,this.trigger(d.o.AD_PLAY,{type:d.o.AD_PLAY,adMeta:this.adMeta})}},{key:"_skipHandler",value:function(t){this.state=q.AD_SKIPPED;var e={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.trigger(d.o.AD_SKIP,{adMeta:this.adMeta,type:d.o.AD_SKIP,event:e})}},{key:"_startHandler",value:function(t){this.state=q.AD_PLAYING,Object.assign(this.adMeta,{muted:this.isMuted()}),window.clearTimeout(this.adStartTO),this.trigger(d.o.AD_START,{type:d.o.AD_START,adMeta:this.adMeta}),this.trigger(d.o.AD_PLAY,{type:d.o.AD_PLAY,adMeta:this.adMeta}),this._timeCheck(),this._adCompanionCheck(t)}},{key:"_volumeChangeHandler",value:function(t){var e=this.isMuted();this.trigger(d.o.AD_MUTE,{type:d.o.AD_MUTE,muted:e})}},{key:"_adEnded",value:function(t){clearTimeout(this.adEndTO),this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","] ").concat(d.o.AD_END),{status:t}),this.trigger(d.o.AD_END,{adMeta:this.adMeta,status:t})}},{key:"_timeCheck",value:function(){this.timing.lastRemaining=this.timing.remaining,this.timing.remaining=Object(l.toFixed)(this.adsManager.getRemainingTime()),this.timing.elapsed=this.timing.duration-this.timing.remaining,this.timing.elapsed=Object(l.toFixed)(this.timing.elapsed);var t=Object(l.toFixed)(this.timing.remaining%1)*d.g;t=t>100?t:100,this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(d.o.AD_FIRST_FRAME,{adMeta:this.adMeta,type:d.o.AD_FIRST_FRAME})),this.trigger(d.o.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:this.timing.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:d.o.AD_TIME})),this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,t))}},{key:"_adCompanionCheck",value:function(t){var e=new google.ima.CompanionAdSelectionSettings;Object(o.forEach)(this.settings.adCompanions.selectionCriteria,function(t,n){return e[n]=t});var n=t.getCompanionAds(this.settings.adCompanions.width,this.settings.adCompanions.height,e);n&&n.length&&(n=Object(o.map)(n,function(t){return{type:t.getContentType(),width:t.getWidth(),height:t.getHeight(),content:t.getContent()}}),this.trigger(d.o.AD_COMPANIONS,{type:d.o.AD_COMPANIONS,adCompanions:n}))}},{key:"_onContentPauseRequested",value:function(){this.contentPauseRequested=!0,this.trigger(d.o.AD_CONTENT_PAUSE_REQUESTED,{adMeta:this.adMeta})}},{key:"_onContentResumeRequested",value:function(){window.clearTimeout(this.adStartTO),this.contentPauseRequested=!1,this.hide();var t=this.adClicked?d.o.AD_CLICK:this.state===q.AD_SKIPPED?d.o.AD_SKIP:this.state===q.AD_ENDED?d.o.AD_COMPLETE:this.state===q.AD_TIMEOUT?d.o.AD_START_TIMEOUT:d.o.AD_ERROR;this.trigger(d.o.AD_CONTENT_RESUME_REQUESTED,{adMeta:this.adMeta,status:t}),this._adEnded(t)}},{key:"destroy",value:function(){this.mute(!0),this.adsManager&&this.adsManager.destroy(),this.adsLoader=null,this.adsManager=null,this.adDisplayContainer=null,clearTimeout(this.adEndTO),clearTimeout(this.adStartTO),clearTimeout(this.timing._timeCheckTO),U(H(e.prototype),"destroy",this).call(this)}},{key:"_getTimeouts",value:function(t,e){var n=t?this.settings.timeouts.preload:this.settings.timeouts.standard;return Object(o.chain)(n).mapObj(function(t){return"function"==typeof t?t(e):t}).mapObj(function(t){return t*d.g}).value()}},{key:"requestAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][requestAd] ").concat(t)),this.adClicked=!1,this.adTagURL=t,this.contentPauseRequested=!1,this.preload=e,this.state=q.AD_REQUESTED;var n=this.powa.getWidth(),i=this.powa.getHeight();this.timeouts=this._getTimeouts(e,this.powa);var o=new google.ima.AdsRequest;o.adTagUrl=t,o.linearAdSlotWidth=n,o.linearAdSlotHeight=i,o.nonLinearAdSlotWidth=n,o.nonLinearAdSlotHeight=i,o.vastLoadTimeout=this.timeouts.vastLoad,this.powa.muted()&&o.setAdWillPlayMuted(!0),this.adsLoader.requestAds(o),this.trigger(d.o.AD_REQUEST,{adTagURL:t,adMeta:this.adMeta,type:d.o.AD_REQUEST})}},{key:"startAd",value:function(){var t=this;this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd]")),this.state=q.AD_START_REQUESTED,this.show(),this.settings.allowAdTimeout?this.adStartTO=window.setTimeout(function(){t.trigger(d.o.AD_START_TIMEOUT,{adMeta:t.adMeta,type:d.o.AD_START_TIMEOUT}),t.state=q.AD_TIMEOUT,t.adsManager?t.skip():t._onContentResumeRequested()},this.timeouts.adStart):this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][startAd] not allowing ad timeout"));var e=this.powa.getWidth(),n=this.powa.getHeight();this.adsManager.init(e,n,this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),this.adsManager.start(),this.trigger(d.o.AD_START_REQUEST,{type:d.o.AD_START_REQUEST,adMeta:this.adMeta,adsManager:this.adsManager,adContainer:this.$adContainer.elements[0],viewMode:this.settings.powa.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL}),this.adReady=null}},{key:"initialUserAction",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][initialUserAction]")),this.adDisplayContainer.initialize()}},{key:"contentComplete",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][contentEnded]")),this.adsLoader.contentComplete()}},{key:"pause",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][pause]")),this.adsManager&&this.adsManager.pause()}},{key:"play",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][play]")),this.adsManager&&this.adsManager.resume()}},{key:"togglePlay",value:function(){this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][togglePlay]")),this.state===q.AD_PLAYING?this.pause():this.state===q.AD_PAUSED&&this.play()}},{key:"skip",value:function(){if(this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][skip]")),this.adsManager){var t={adDuration:this.timing.duration,duration:this.timing.duration,adRemaining:this.timing.remaining,remaining:this.timing.remaining,skippable:this.adsManager.getAdSkippableState()};this.state=this.state===q.AD_TIMEOUT?q.AD_TIMEOUT:q.AD_SKIPPED,this.state!==q.AD_TIMEOUT&&this.trigger(d.o.AD_SKIP,{adMeta:this.adMeta,type:d.o.AD_SKIP,event:t}),this.adsManager.stop(),this.adEndTO&&clearTimeout(this.adEndTO),this.adEndTO=window.setTimeout(this._onContentResumeRequested,this.settings.adEndWait)}}},{key:"isRunning",value:function(){var t=[q.AD_PLAYING,q.AD_PAUSED,q.AD_START_REQUESTED];return this.preload||t.push(q.AD_REQUESTED),t.includes(this.state)}},{key:"isMuted",value:function(){return this.adsManager?!this.adsManager.getVolume():null}},{key:"mute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isMuted();this.settings.debug&&console.debug("[".concat("PoWaSellGoogima","][mute] ").concat(t)),this.adsManager&&this.adsManager.setVolume(t?0:this.powa.volume())}},{key:"resize",value:function(t){if(U(H(e.prototype),"resize",this).call(this,t),this.adsManager){var n=Object(l.get)(t,"shrinkBy.width",t.width),i=Object(l.get)(t,"shrinkBy.height",t.height);this.adsManager.resize(n,i,t.fullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}}},{key:"clearStatus",value:function(){var t=Object(l.get)(this,"timing._timeCheckTO",null);clearTimeout(t),this.adMeta={},this.adTagURL="",this.preload=!1,this.state=q.AD_IDLE,this.timing={_timeCheckTO:null,duration:null,firstFrame:null,lastRemaining:null,remaining:null}}},{key:"getStatus",value:function(){return{adMeta:this.adMeta,adPreload:this.preload,adReady:!!this.adReady,adTagURL:this.adTagURL,contentPauseRequested:this.contentPauseRequested,muted:this.isMuted(),running:this.isRunning(),state:this.state,timing:this.timing}}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getStatus();U(H(e.prototype),"trigger",this).call(this,t,Object(o.extend)(i,n))}}]),e}();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t,e,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it={adStartTimelimit:3},ot=new WeakMap,rt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,X(e).call(this,Object(o.extend)(it,t)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,K),et(e,null,[{key:"MODULE",get:function(){return"PoWaSellGoogimaHacks"}}]),et(e,[{key:"_loadedHandler",value:function(t,n){J(X(e.prototype),"_loadedHandler",this).call(this,t,n);var i=ot.get(this);i.adStarted=!1;var o=Date.now();i.shadowTimer={lastTime:o,elapsed:0,start:o}}},{key:"_pauseHandler",value:function(t){var n=Date.now(),i=ot.get(this);i.shadowTimer.elapsed+=(n-i.shadowTimer.lastTime)/d.g,i.shadowTimer.elapsed=Object(l.toFixed)(i.shadowTimer.elapsed),i.shadowTimer.lastTime=n,this.timing.remaining=this.timing.duration-i.shadowTimer.elapsed,this.timing.remaining=Object(l.toFixed)(this.timing.remaining),J(X(e.prototype),"_pauseHandler",this).call(this,t)}},{key:"_resumeHandler",value:function(t){ot.get(this).shadowTimer.lastTime=Date.now(),J(X(e.prototype),"_resumeHandler",this).call(this,t)}},{key:"_timeCheck",value:function(){var t=Date.now(),e=ot.get(this);this.timing.lastRemaining=this.timing.remaining;var n=Object(l.toFixed)(this.adsManager.getRemainingTime(),3,-1);if(!e.adStarted){var i=(t-e.shadowTimer.start)/d.g;n>=0&&n!==this.timing.lastRemaining?e.adStarted=!0:i>this.settings.adStartTimelimit&&(e.adStarted=!0,this.trigger(d.o.AD_START_UNREPORTED,{type:d.o.AD_START_UNREPORTED,elapsed:i}))}if(n>this.timing.duration){var o=this.timing.duration;this.timing.duration=n+e.shadowTimer.elapsed,this.trigger(d.o.AD_DURATION_CHANGE,{type:d.o.AD_DURATION_CHANGE,oldDuration:o,duration:this.timing.duration})}e.adStarted&&this.state===K.STATES.AD_PLAYING&&(e.shadowTimer.elapsed+=(t-e.shadowTimer.lastTime)/d.g,e.shadowTimer.elapsed=Object(l.toFixed)(e.shadowTimer.elapsed),e.shadowTimer.lastTime=t,this.timing.remaining=this.timing.duration-e.shadowTimer.elapsed,this.timing.remaining=Object(l.toFixed)(this.timing.remaining));var r=Object(l.toFixed)(this.timing.remaining%1)*d.g;r=r>100?r:100,e.adStarted?this.timing.remaining>=0&&this.timing.remaining!==this.timing.lastRemaining&&(this.timing.firstFrame&&(this.timing.firstFrame=!1,this.trigger(d.o.AD_FIRST_FRAME,{adMeta:this.adMeta,type:d.o.AD_FIRST_FRAME})),this.trigger(d.o.AD_TIME,{adDuration:this.timing.duration,duration:this.timing.duration,elapsed:e.shadowTimer.elapsed,adRemaining:this.timing.remaining,remaining:this.timing.remaining,type:d.o.AD_TIME})):this.state===K.STATES.AD_PLAYING&&(e.shadowTimer.lastTime=t),this.isRunning()&&this.timing.remaining>0&&(this.timing._timeCheckTO=setTimeout(this._timeCheck,r))}},{key:"clearStatus",value:function(){J(X(e.prototype),"clearStatus",this).call(this),ot.set(this,{adStarted:!1,remainingTimeUnchanged:0,shadowTimer:{lastTime:null,elapsed:null,start:null}})}},{key:"destroy",value:function(){clearTimeout(this.timing._timeCheckTO),J(X(e.prototype),"destroy",this).call(this)}}]),e}(),at=n(23),st=n(44);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ft(t,e,n){return e&&dt(t.prototype,e),n&&dt(t,n),t}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt={ready:l.noop,error:l.noop};function gt(t){return'<track src="'.concat(t.src||t.url||"",'" label="').concat(t.label||"English",'" srclang="').concat(t.srclang||"en",'" kind="').concat(t.kind||"captions",'"></track>').trim()}var vt=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=ut(e).call(this,""))||"object"!==ct(i)&&"function"!=typeof i?lt(n):i,Object(l.bindAll)(lt(t)),t.settings=Object(o.extend)(pt,r),t.load(t.createTracks()),t.elements.length?t.settings.ready(lt(t)):t.settings.error(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,c["PoWaPack"]),ft(e,null,[{key:"MODULE",get:function(){return"Crew"}}]),ft(e,[{key:"createTracks",value:function(){return Object(o.chain)(this.settings.tracks).filter(function(t){return"WEB_VTT"===t.format}).map(gt).value()}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(l.isObject)(this.settings.track)?t.push(gt(this.settings.track)):"string"==typeof this.settings.track&&t.push(gt({src:this.settings.track})),Object(o.forEach)(t,this.add)}}]),e}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kt(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),t}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et=0;var jt={style:function(t){return"\n\t.powa-sub {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\tpointer-events: none;\n\t\ttransition: all 0.2s ease-out;\n\n\t\tline-height: normal;\n\t}\n\n\t.powa-sub-torpedo {\n\t\tbackground: ".concat(t.background||Object(l.getColor)(t.colors.background,.25),";\n\t\tcolor: ").concat(t.color||Object(l.getColor)(t.colors.primary),";\n\t\tfont-family: ").concat(t["font-family"]||"sans-serif",";\n\t\tfont-size: ").concat(t["font-size"]||"inherit",";\n\t\ttext-shadow: ").concat(t["text-shadow"]||"none",";\n\n\t\tborder-radius: 3px;\n\t\tpadding: 3px;\n\t\tmargin: 5px;\n\t\ttext-align: center;\n\t}\n")},styleConfig:function(t){return{color:Object(l.getColor)(t.colors.primary),"background-color":Object(l.getColor)(t.colors.background,.25),"font-family":"sans-serif"}},bump:function(t){return".powa-sub {bottom: ".concat(t.height,"px}")}},At=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,t=!(i=yt(e).call(this,'<div class="powa-sub"></div>'))||"object"!==mt(i)&&"function"!=typeof i?wt(n):i,Object(l.bindAll)(wt(t)),t.settings=Object(o.extend)(jt,r),t.updateStyle(),t.video=t.settings.$player.elements[0],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,c["PoWaPack"]),kt(e,null,[{key:"MODULE",get:function(){return"Periscope"}}]),kt(e,[{key:"updateStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(o.extend)({colors:Object(d.u)()},this.settings),n="function"==typeof this.settings.style?this.settings.style(Object(o.extend)(e,t)):this.settings.style;Object(l.addCSS)(n,"Periscope")}},{key:"bump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.addCSS)(this.settings.bump(t),"".concat("Periscope","-bump"))}},{key:"unbump",value:function(){Object(l.addCSS)(null,"".concat("Periscope","-bump"))}},{key:"showing",value:function(){return this.label?this.label:null}},{key:"show",value:function(t){var e=this;this.hide(),this.label=t;var n=this.settings.$player.getStatus(),i=Object(l.getTextTracks)(this.video);Object(o.chain)(i).forEach(function(t){return t.mode="disabled"}).filter(function(e){return e.label===t}).forEach(function(t){t.mode="hidden",(t.cues?bt(t.cues):[]).filter(function(t){return t.startTime<n.time&&t.endTime>n.time}).forEach(function(t){return e._enter({target:t})}),t.powaProcessed||(t.powaProcessed=!0,t.addEventListener("cuechange",e._enCue))})}},{key:"hide",value:function(){this.label=null,this.find(".powa-sub-torpedo").detach()}},{key:"_enCue",value:function(t){var e=this,n=t.target,i=n.cues?bt(n.cues):[],o=this.settings.$player.getStatus();i.filter(function(t){return!t.powaProcessed}).forEach(function(t){t.powaProcessed=!0,t.startTime<o.time&&t.endTime>o.time&&e._enter({target:t}),t.addEventListener("enter",e._enter),t.addEventListener("exit",e._exit)})}},{key:"_enter",value:function(t){var e=t.target;e.track.label===this.label&&0===this.find('[data-powa-id="'.concat(e.powaID,'"]')).elements.length&&this.append(Object(c.$)(function(t){return t.powaID=t.powaID||++Et,'<span class="powa-sub-torpedo" data-powa-id="'.concat(t.powaID,'">').concat(t.text.replace("\n","<br/>"),"</span>")}(e)))}},{key:"_exit",value:function(t){var e=t.target;this.find('[data-powa-id="'.concat(e.powaID,'"]')).detach()}}]),e}(),Tt="YellowSubmarine",_t={small:{name:"Small",rule:"small"},medium:{name:"Medium",rule:"medium"},large:{name:"Large",rule:"large"},xLarge:{name:"X-Large",rule:"x-large"},xxLarge:{name:"XX-Large",rule:"xx-large"}},Pt={black:{name:"Black",rule:"0, 0, 0"},silver:{name:"Silver",rule:"192, 192, 192"},gray:{name:"Gray",rule:"128, 128, 128"},white:{name:"White",rule:"255, 255, 255"},maroon:{name:"Maroon",rule:"128, 0, 0"},red:{name:"Red",rule:"255, 0, 0"},purple:{name:"Purple",rule:"128, 0, 128"},fuchsia:{name:"Fuchsia",rule:"255, 0, 255"},green:{name:"Green",rule:"0, 128, 0"},lime:{name:"Lime",rule:"0, 255, 0"},olive:{name:"Olive",rule:"128, 128, 0"},yellow:{name:"Yellow",rule:"255, 255, 0"},navy:{name:"Navy",rule:"0, 0, 128"},blue:{name:"Blue",rule:"0, 0, 255"},teal:{name:"Teal",rule:"0, 128, 128"},aqua:{name:"Aqua",rule:"0, 255, 255"},orange:{name:"Orange",rule:"255, 165, 0"}},Ct={solid:{name:"100%",rule:"1.0"},seventyFive:{name:"75%",rule:"0.75"},fifty:{name:"50%",rule:"0.5"},twentyFive:{name:"25%",rule:"0.25"},transparent:{name:"0%",rule:"0"}},xt={monoSans:{name:"Mono Sans",rule:"'Andale Mono', 'Lucida Console', monospace"},monoSerif:{name:"Mono Serif",rule:"'Courier New', monospace"},propSans:{name:"Sans",rule:"sans-serif"},propSerif:{name:"Serif",rule:"serif"},comic:{name:"Comic",rule:"'Comic Sans MS', Impact, fantasy"},fancy:{name:"Fancy",rule:"'Monotype Corsiva', cursive"},smallCaps:{name:"Small Caps",rule:"'Andale Mono', 'Lucida Console', monospace, sans-serif"}},Dt={outlineDark:{name:"Outline Dark",rule:"0 0 1px rgba(0, 0, 0, 0.5)"},outlineLight:{name:"Outline Light",rule:"0 0 2px rgba(255, 255, 255, 0.75)"},outlineDarkBold:{name:"Outline Dark Bold",rule:"0 0 1px rgba(0, 0, 0, 1)"},outlineLightBold:{name:"Outline Light Bold",rule:"0 0 2px rgba(255, 255, 255, 1)"},shadowDark:{name:"Shadow Dark",rule:"2px 2px 2px rgba(0, 0, 0, 0.5)"},shadowLight:{name:"Shadow Light",rule:"2px 2px 2px rgba(255, 255, 255, 0.5)"},shadowDarkBold:{name:"Shadow Dark Bold",rule:"2px 2px 2px rgba(0, 0, 0, 1)"},shadowLightBold:{name:"Shadow Light Bold",rule:"2px 2px 2px rgba(255, 255, 255, 1)"}},Lt=Object(l.freeze)({powaPane:"powa-pane",ys:"powa-ys",show:"powa-ys-show",window:"powa-ys-window",windowShow:"powa-ys-window-show",header:"powa-ys-header",title:"powa-ys-title",field:"powa-ys-field",fieldName:"powa-ys-field-name",option:"powa-ys-option",optionSmall:"powa-ys-option-small",optionLarge:"powa-ys-option-large"}),Rt=Object(l.freeze)(Object(o.mapObj)(Lt,function(t){return".".concat(t)})),Mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return'<option value="'.concat(t,'" ').concat(e?"selected":"",">").concat(n,"</option>")},It=function(t,e){return Object(o.reduce)(t,function(t,n){return"".concat(t,"\n").concat(Mt(n.rule,n.rule===e,n.name))},Mt("Default"))},Wt=function(){return'<div class="'.concat(Lt.ys,'"></div>')};function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object(l.hasFontAwesome)()||Object(l.loadCSS)("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css");var Vt=Object(l.freeze)({style:function(t){return"\n\t.powa-ys {\n\t\tcolor: ".concat(Object(l.getColor)(t.colors.primary),';\n\t\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpointer-events: none;\n\t\ttransition: all ').concat("0.25s",";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.powa:hover .powa-ys-show {\n\t\tpointer-events: auto;\n\t\topacity: 1;\n\t\tbackground-color: rgba(0,0,0, 0.1);\n\t}\n\n\t.powa-ys-window {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tjustify-content: space-between;\n\n\t\theight: 0;\n\t\twidth: 0;\n\t\tbox-sizing: border-box;\n\n\t\tborder: solid 2px ").concat("white",";\n\t\tborder-radius: 5px;\n\t\tbox-shadow: rgba(0, 0, 0, 0.2) 0px 0px 9px 1px;\n\n\t\topacity: 0;\n\t\tbackground-color: ").concat(Object(l.getColor)(t.colors.background,.75),";\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-window-show {\n\t\topacity: 1;\n\t\tpadding: 5px;\n\t\theight: 155px;\n\t\twidth: 275px;\n\t}\n\n\t.powa-ys-field {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\toverflow: hidden;\n\t\ttransition: all ").concat("0.25s",";\n\t}\n\n\t.powa-ys-field-name {\n\t\tmargin-right: auto;\n\t}\n\n\t.powa-ys-option {\n\t\tmargin-left: 5px;\n\t}\n\n\t.powa-ys-header {\n\t\tjustify-content: center;\n\t\tpadding-bottom: 2px;\n\t}\n\n\t.powa-ys-option-small {\n\t\twidth: 75px;\n\t}\n\n\t.powa-ys-option-large {\n\t\twidth: 155px;\n\t}\n")},template:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'\n\t<div class="'.concat(Lt.window,'">\n\t\t<div class="').concat(Lt.field," ").concat(Lt.header,'">\n\t\t\t<span class="').concat(Lt.title,'">Subtitle Settings</span>\n\t\t</div>\n\t\t<div class="').concat(Lt.field,'">\n\t\t\t<span class="').concat(Lt.fieldName,'">Font</span>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionLarge,'" data-option="font-family">').concat(It(xt,t["font-family"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Lt.field,'">\n\t\t\t<span class="').concat(Lt.fieldName,'">Font Size</span>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionLarge,'" data-option="font-size">').concat(It(_t,t["font-size"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Lt.field,'">\n\t\t\t<span class="').concat(Lt.fieldName,'">Font Edge</span>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionLarge,'" data-option="text-shadow">').concat(It(Dt,t["text-shadow"]),'</select>\n\t\t</div>\n\t\t<div class="').concat(Lt.field,'">\n\t\t\t<span class="').concat(Lt.fieldName,'">Font Color</span>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionSmall,'" data-option="color">').concat(It(Pt,t.color),'</select>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionSmall,'" data-option="textOpacity">').concat(It(Ct,t.textOpacity),'</select>\n\t\t</div>\n\t\t<div class="').concat(Lt.field,'">\n\t\t\t<span class="').concat(Lt.fieldName,'">Background</span>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionSmall,'" data-option="background">').concat(It(Pt,t.background),'</select>\n\t\t\t<select class="').concat(Lt.option," ").concat(Lt.optionSmall,'" data-option="backgroundOpacity">').concat(It(Ct,t.backgroundOpacity),"</select>\n\t\t</div>\n\t</div>\n")},cueStyle:function(t){return"\n\tvideo::cue {\n\t\t".concat(Object(o.map)(t,function(t,e){return"".concat(e,": ").concat(t,";")}).join("\n\t\t"),"\n\t}\n")},error:console.error});var Ft=function(t){function e(t){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=Bt(e).call(this,Wt()))||"object"!==Nt(r)&&"function"!=typeof r?Ut(i):r,Object(l.bindAll)(Ut(n)),n.settings=Object(o.extend)(Vt,t);var a=Object(l.fetchLocal)("powaCueStyle"),s=Object(c.$)(n.settings.template(a));n.append(s);var u=Object(o.extend)({colors:Object(d.u)()},n.settings),f="function"==typeof n.settings.style?n.settings.style(u):n.settings.style;return Object(l.addCSS)(f,Tt),a&&n.addCSS(a),n.setupElements(),n.setupHandlers(),n.settings.$container.find(Rt.powaPane).append(Ut(n)),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,c["PoWaPack"]),n=e,(i=[{key:"setupElements",value:function(){this.$window=this.find(Rt.window),this.$options=this.find(Rt.option)}},{key:"setupHandlers",value:function(){var t=this;this.settings.powa.on(d.t.SUBS_ENABLED,function(){t.show()}),this.settings.powa.on(d.t.SUBS_DISABLED,function(){t.hide()}),this.settings.powa.on(d.t.SUBTITLES_CUSTOMIZE_CLICK,function(){t.toggleDisplay()}),this.on("click",function(e){e.target===e.currentTarget&&t.toggleDisplay()}),this.$options.on("change",this.updateCaptionStyle)}},{key:"toggleDisplay",value:function(){this.toggleClass(Lt.show),this.$window.toggleClass(Lt.windowShow),this.hasClass(Lt.show)?this.settings.powa.trigger(d.t.SUBTITLES_CUSTOMIZE_OPENED):this.settings.powa.trigger(d.t.SUBTITLES_CUSTOMIZE_CLOSED)}},{key:"addCSS",value:function(t){var e=function(t){var e=function(t,e){return e?"rgba(".concat(t,", ").concat(e,")"):"rgb(".concat(t,")")},n=Object.assign({},t);return(n.color||n.textOpacity)&&(n.color=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"255, 255, 255",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.color,n.textOpacity)),(n.background||n.backgroundOpacity)&&(n.background=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0, 0, 0",n=arguments.length>1?arguments[1]:void 0;return e(t,n)}(n.background,n.backgroundOpacity)),delete n.textOpacity,delete n.backgroundOpacity,n}(t);if(this.settings.updateStyle)this.settings.updateStyle(e);else{var n=this.settings.cueStyle(e);Object(l.addCSS)(n,"".concat(Tt,"-cue"))}}},{key:"harvestOptions",value:function(){return this.$options.reduce(function(t,e){return t[e.dataset.option]=e.value,t},{})}},{key:"updateCaptionStyle",value:function(){var t=Object(o.filter)(this.harvestOptions(),function(t,e){return"Default"!==t}),e=JSON.stringify(t);Object(l.stashLocal)({powaCueStyle:e}),this.addCSS(t)}}])&&$t(n.prototype,i),r&&$t(n,r),e}();function zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qt(t,e,n){return e&&zt(t.prototype,e),n&&zt(t,n),t}var Gt={debug:!1,native:!1,subtitles:null,defaultLabel:"English",ready:function(){console.debug("[".concat("PoWaSub","] ready"))},setupError:console.error},Yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(l.bindAll)(this),this.settings=Object(o.extend)({},Gt,e),this.settings.label=this.settings.subtitles||Object(l.fetchLocal)("powaSubtitles",null),this.onOff=new st.a,this.ignoreSubSwitch=!0;var n=Object(o.chain)(this.settings).pick(["$player","bump","subtitleStyle"]).rename({subtitleStyle:"style"}).value();this.$periscope=this.settings.native?null:new At(n),this.$yellowSubmarine=new Ft({$container:this.settings.$container,powa:this.settings.powa,updateStyle:this.$periscope?this.$periscope.updateStyle:null}),this.settings.ready(this.$periscope)}return qt(t,null,[{key:"MODULE",get:function(){return"PoWaSub"}},{key:"EVENTS",get:function(){return d.q}}]),qt(t,[{key:"firstFrame",value:function(t){var e=this,n=t.videoData;this.initialState=!0,this.mediaStarted=!0,this.settings.live||"live"===Object(l.get)(n,"video_type")?(this.show(this.settings.label),this.checkForCaptions(),this.listenForCaptions()):Object(l.get)(this,"embeddedTracks.length")?(this.show(this.settings.label),this.trigger(d.q.SUBS_AVAILABLE)):this.getTextTracks().length?(this.show(this.settings.label),this.watchSettings(),this.trigger(d.q.SUBS_AVAILABLE)):new vt({track:this.settings.track,tracks:this.settings.tracks,ready:function(t){e.$crew=t,e.settings.$player.append(t),e.trigger(d.q.SUBS_AVAILABLE),requestAnimationFrame(function(){e.show(e.settings.label),e.watchSettings()})},error:function(t){e.trigger(d.q.SUBS_UNAVAILABLE)}})}},{key:"bump",value:function(t){this.$periscope&&this.$periscope.bump(t)}},{key:"unbump",value:function(){this.$periscope&&this.$periscope.unbump()}},{key:"subsEmbedded",value:function(t,e){this.hls=t,this.embeddedTracks=e}},{key:"subsSwitch",value:function(t){var e=this;this.mediaStarted&&requestAnimationFrame(function(){e.stashSettings(Object(l.get)(e,"embeddedTracks[".concat(t,"].name"),null))})}},{key:"subsLoaded",value:function(t){this.mediaStarted||(this.hls.subtitleTrack=-1)}},{key:"stashSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!1;if(t!==this.settings.label){var n=this.getLabels(),i=n.includes(t),o=n.includes(this.settings.label);(i||null===t&&o)&&(Object(l.stashLocal)("powaSubtitles",t),this.settings.label=t,e=!0)}(this.initialState||e)&&(this.initialState=!1,this.settings.label?this.trigger(d.q.SUBS_ENABLED):this.trigger(d.q.SUBS_DISABLED))}},{key:"watchSettings",value:function(){this.settings.stashSubtitles&&(this.stashSettings(this.showing()),this.raf=requestAnimationFrame(this.watchSettings))}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.settings.tracks=t}},{key:"unload",value:function(){this.settings.label=this.showing(),this.$crew&&(this.$crew.destroy(),this.$crew=null)}},{key:"getTextTracks",value:function(){return Object(l.getTextTracks)(this.settings.$player.elements[0])}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLabels()[0]||null;if(this.hls&&Object(l.get)(this,"embeddedTracks.length")){var e=this.embeddedTracks.reduce(function(e,n){return n.name===t?n.id:e},-1);this.hls.subtitleTrack=e}this.$periscope?this.$periscope.show(t):this.getTextTracks().forEach(function(e){return e.mode=e.label===t?"showing":"disabled"})}},{key:"hide",value:function(){this.hls&&Object(l.get)(this,"embeddedTracks.length")&&(this.hls.subtitleTrack=-1),this.$periscope&&this.$periscope.hide(),this.getTextTracks().forEach(function(t){return t.mode="disabled"})}},{key:"getLabels",value:function(){return this.getSubtitles().map(function(t){return t.label})}},{key:"getSubtitles",value:function(){var t=this.getTextTracks();return Object(l.get)(this,"embeddedTracks.length")?this.embeddedTracks.map(function(t){return{language:t.lang,label:t.name}}):t.length?t.map(function(t){return{language:t.language,label:t.label}}):[]}},{key:"showing",value:function(){if(this.$periscope)return this.$periscope.showing();var t=this.getTextTracks();return t.length?t.reduce(function(t,e){return"showing"===e.mode?e.label:t},null):void 0}},{key:"getStatus",value:function(){return{subtitle:this.showing(),subtitles:this.getSubtitles()}}},{key:"on",value:function(t,e,n){this.onOff.on(t,e)}},{key:"off",value:function(t,e){this.onOff.off(t,e)}},{key:"once",value:function(t,e,n){this.onOff.once(t,e)}},{key:"onceIf",value:function(t,e,n,i){this.onOff.onceIf(t,e,n)}},{key:"until",value:function(t,e,n,i){this.onOff.until(t,e,n)}},{key:"trigger",value:function(t,e){this.onOff.trigger(t,e)}},{key:"destroy",value:function(){this.unload(),this.hls=null,this.onOff.destroy()}},{key:"listenForCaptions",value:function(){this.settings.$player.elements[0].textTracks.addEventListener("addtrack",this.checkForCaptions)}},{key:"checkForCaptions",value:function(){this.getTextTracks().length&&this.trigger(d.q.SUBS_AVAILABLE)}}]),t}();function Kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qt(t,e,n){return e&&Kt(t.prototype,e),n&&Kt(t,n),t}n.d(e,"PoWa",function(){return Ee});var Zt="PoWa",Jt=".m3u8",Xt=Object(o.extend)(i.a.STATES),te=Object(l.freeze)(["duration","muted","time","videoHeight","videoWidth","volume"]),ee=Object(l.freeze)(["adBlocked","autoplayStatus","bitrate","height","level","stream","width"]),ne=Object(l.freeze)(["capLevelToPlayerSize","liveBackBufferLength","liveDurationInfinity","liveMaxLatencyDuration","liveMaxLatencyDurationCount","liveSyncDuration","liveSyncDurationCount","maxBufferLength","maxMaxBufferLength","maxBufferSize","startLevel"]),ie=Object(l.freeze)(["INF","PROGRAM-DATE-TIME"]),oe=Object(l.freeze)({height:"videoHeight",width:"videoWidth"}),re=Object(l.freeze)({promo:{size:"medium"},scrubber:{controls:"powa"}}),ae=Object(l.freeze)({id:"",debug:!1,autoShowPromo:d.g/4,hlsjsURL:Object(at.e)(),autoplay:!1,preload:"metadata",stashSubtitles:!0,stashVolume:!0,ready:function(){return console.debug()},error:function(t){return console.error(t)}}),se=new WeakMap,ce=new WeakMap,ue=new WeakMap,le=new WeakMap,de=new WeakMap,fe=new WeakMap,he=new WeakMap,pe=new WeakMap,ge=new WeakMap,ve=new WeakMap,me=new WeakMap,be=new WeakMap,ye=new WeakMap;function we(){var t=fe.get(this),e=de.get(this),n=PoWaSettings.videoSupport;t.stream=t.streamOverride?t.streamOverride:n.hls||n.hlsJS?Object(l.get)(t,"video.streams[0]"):Object(o.reject)(t.video.streams,function(t){return Object(l.hasExtension)(t,Jt)})[0],t.stream=t.stream?t.stream.trim():null,t.streamOverride&&delete t.streamOverride,e.debug&&console.debug("stream",t.stream)}function Oe(){var t=this,e=fe.get(this),n=de.get(this),r=le.get(this),a=he.get(this);if(a){var s=a.attr("id").replace("powa","powa-player"),c=e.stream&&Object(l.hasExtension)(e.stream,Jt)&&!PoWaSettings.videoSupport.hls?"":e.stream,u=new i.a({controls:"native"===n.controls,debug:n.debug,id:s,loop:n.loop,muted:n.muted,preload:n.preload,stashVolume:n.stashVolume,stream:c,style:{backgroundColor:"black",position:"absolute",top:0,left:0,width:"100%",height:"100%"},type:i.a.VIDEO,volume:n.volume});return Object(o.forEach)(i.a.EVENTS,function(t){var e=i.a.powaDown(t);u.on(t,function(t){return r.trigger(e,t.detail?t.detail:t)}),n.on&&n.on[e]&&"function"==typeof n.on[e]&&r.on(e,n.on[e])}),r.on(d.t.MEDIA_CLICK,function(t){t.playing?u.pause():u.play()}),r.on(d.t.START,function(n){var i=ce.get(t),o=ve.get(t),r=ue.get(t),a=r&&"adTagLoading"===r.getStatus()?t.startAd:o&&o.getStatus().adPreload?t.startAd:function(){t.getAdTag().then(t.loadAd).then(t.startAd).catch(u.play)};(function(){se.get(this).forEach(function(t){var e=t.player,n=t.callback;e.addEventListener("loadstart",function t(){e.removeEventListener("loadstart",t),n()}),e.src=Object(at.j)("tiny.mp4")}),se.set(this,[])}).call(t),i?i.loadStream(e.stream,a):a()}),r.on(d.t.SEEK,function(t){var e=u.getStatus(),n=Object(l.get)(e,"duration",0),i=Object(l.has)(t,"seek")?t.seek:Object(l.get)(t,"seekPosition",0)*n;u.seek(i)}),a.append(u),pe.set(this,u),u}}function ke(t){var e=PoWaSettings.videoSupport;return t&&Object(l.hasExtension)(t,Jt)&&!e.hls&&e.hlsJS}function Se(){var t=this;function e(t,e){var i=this,s=Object(l.fetchLocal)("powaLevel",0),c=Object(o.extend)({capLevelToPlayerSize:!0,maxBufferLength:10,maxMaxBufferLength:60,maxBufferSize:10485760,startLevel:s},Object(o.pick)(a,ne)),u=new Hls(c);u.once=u.once||function(t,e){var n=arguments;u.on(t,function i(){u.off(t,i),e(n)})},u.loadStream&&console.warn("[".concat(Zt,"][HLS] ### hls.loadStream ALREADY EXISTS ###")),u.loadStream=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.noop;a.debug&&console.debug("[".concat(Zt,"][HLS] load src: ").concat(t)),r.loaded===t?e():(n.once(d.t.LOADED,function(){r.loaded=t,e()}),u.loadSource(t))},u.on(Hls.Events.FRAG_PARSED,function(t,e){var i=Object(o.chain)(e.frag).pick(["start","relurl","tagList"]).rename({tagList:"tags",start:"tagTime",relurl:"relURL"}).value();i.tags.find(function(t){return ie.reduce(function(e,n){return e&&!t.includes(n)},!0)})&&n.trigger(d.t.HLS_TAGS,i)});var f=!0;u.on("hlsLevelSwitching",function(t,e){e=Object(o.pick)(e,["bitrate","height","level","width"]),Object.assign(r,e),f?(a.debug&&console.debug("[".concat(Zt,"][HLS] initial level"),e),f=!1,n.trigger(d.t.HLS_INITIAL_LEVEL,e)):(a.debug&&console.debug("[".concat(Zt,"][HLS] level switch"),e),Object(l.stashLocal)({powaLevel:e.level}),n.trigger(d.t.HLS_LEVEL_SWITCH,e))}),u.on(Hls.Events.ERROR,function(t,e){if(e.fatal&&"bufferAppendError"!==e.details){var i=Object.assign({},e);i.context=Object(o.extend)(e.context),i.context.loader=null,i.loader=Object(o.extend)(e.loader),i.loader.context=null,n.trigger(d.t.ERROR,i)}}),u.on(Hls.Events.MEDIA_ATTACHED,function(){a.debug&&console.debug("[".concat(Zt,"][HLS] attached")),u.on(Hls.Events.MANIFEST_PARSED,function(t,e){a.debug&&console.debug("[".concat(Zt,"][HLS] manifest loaded, ").concat(e.levels.length," quality levels")),n.trigger(d.t.LOADED,e)}),t()}),u.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(t,e){var n=be.get(i);n&&n.subsEmbedded(u,e.subtitleTracks)}),u.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(t,e){var n=be.get(i);n&&n.subsSwitch(e.id)}),u.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(t,e){var n=be.get(i);n&&n.subsLoaded(e)}),u.attachMedia(this.getVideoElement()),ce.set(this,u)}var n=le.get(this),i=pe.get(this),r=fe.get(this),a=de.get(this);return new Promise(function(o,s){ke(r.stream)?"function"==typeof Hls?e.call(t,o,s):Object(l.promiseScript)(a.hlsjsURL).then(function(){return e.call(t,o,s)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.debug&&console.error("[".concat(Zt,"][setupHLS]"),e),n.trigger(d.t.ERROR,{eventID:912,error:e.toString?e.toString():e,errorMessage:Object(l.get)(e,"message","hls.js is not available"),module:Zt,method:"setupHLS"}),PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1,we.call(t),i.load(r.stream),o()}):o()})}var Ee=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(l.bindAll)(this),function(t){var e=this;return new Promise(function(n,i){switch(window.PoWaSettings=Object(o.extend)(re,window.PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(l.sniffClient)(),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(l.getVideoSupport)(),t.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var a=PoWaSettings.client,s=["stream","track","video"],c=Object(o.pick)(PoWaSettings.scrubber,"controls"),u=Object(o.extend)(ae,c,t),d=Object(o.pick)(u,s);(u=Object(o.omit)(u,s)).id=u.id.replace?u.id.replace(/(^#)/,""):u.id,u.stashSubtitles=Object(l.has)(t,"stashSubtitles")?t.stashSubtitles:!Object(l.has)(t,"subtitles")&&u.stashSubtitles,u.stashVolume=Object(l.has)(t,"stashVolume")?t.stashVolume:!Object(l.has)(t,"muted")&&!Object(l.has)(t,"volume")&&u.stashVolume,Object(l.has)(a,"isDesktop")||(a.isDesktop=!(a.isMobile||a.isTablet)),u.controls=a.isDesktop?u.controls:Object(l.has)(u,"mobileControls")?u.mobileControls:u.controls;var f=u.powaTrack||new r.a(Object(o.extend)({id:u.id,debug:u.debug},PoWaSettings.powaTrack));f.extend(function(t){return Object(o.extend)(e.getStatus(),t)}),e.updaters=[],d.stream&&(d.streamOverride=d.stream,delete d.stream);var h=function(){se.set(e,[]),le.set(e,f),de.set(e,u),fe.set(e,d),n()};u.autoplay?(d.autoplayStatus="autoplay",Object(l.canAutoplay)(u.muted).then(h).catch(function(){u.autoplayMuted?Object(l.canAutoplay)(!0).then(function(){d.autoplayStatus="autoplayMuted",u.muted=!0,h()}).catch(function(){d.autoplayStatus="autoplayMutedBlocked",u.autoplay=!1,h()}):(d.autoplayStatus="autoplayBlocked",u.autoplay=!1,h())})):(d.autoplayStatus="disabled",h())})}.call(this,n).then(function(){return function(){var t=this,e=de.get(this);return new Promise(function(n,i){var r=e.$container||new E.a(Object(o.defined)(Object(o.extend)({powa:t,element:document.getElementById(e.id),aspectRatio:e.aspectRatio,client:PoWaSettings.client},Object(l.get)(PoWaSettings,"container",{}))));he.set(t,r),n(r)})}.call(e)}).then(function(){(function(){var t=fe.get(this),e=de.get(this),n=le.get(this),i=he.get(this);t.$powaOutage=e.powaOutage?e.powaOutage:new s.a({powa:this,powaTrack:n,id:e.elementID,$container:i,style:PoWaSettings.error?PoWaSettings.error.style:void 0,template:PoWaSettings.error?PoWaSettings.error.template:void 0})}).call(e),function(){var t=de.get(this),e=le.get(this),n=he.get(this),i=t.$promo?t.$promo:new a.a({$container:n,data:t.promo,default:!!t.promoDefault,id:t.id,powa:t.powaDrive||this,powaTrack:e,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template});return t.autoplay&&i.hide(),ye.set(this,i),i}.call(e),we.call(e),Oe.call(e)}).then(function(){return function(){var t=this;return new Promise(function(e,n){var i=fe.get(t),r=de.get(t),a=pe.get(t),s=le.get(t),c=he.get(t),u=new Yt(Object(o.extend)({$container:c,$player:a,live:r.live,powa:r.powaDrive||t,ready:function(t){t&&c.append(t),e()},stashSubtitles:r.stashSubtitles,subtitles:"string"==typeof r.subtitles?r.subtitles:null,track:i.track,tracks:Object(l.get)(i,"video.tracks")},PoWaSettings.subtitles));i.track&&delete i.track,Object(o.forEach)(Yt.EVENTS,function(t){u.on(t,function(e){return s.trigger(t,e.detail?e.detail:e)})}),s.on(d.t.FIRST_FRAME,u.firstFrame),s.on(S.EVENTS.show,u.bump),s.on(S.EVENTS.hide,u.unbump),be.set(t,u)})}.call(e)}).then(function(){return function(){var t=this,e=de.get(this),n=le.get(this),i=he.get(this),r=Object(l.get)(PoWaSettings,"scrubber",{});return new Promise(function(a,s){if(i&&!e.loop&&e.controls&&"native"!==e.controls){var c=new S(Object(o.extend)({client:PoWaSettings.client,powa:e.powaDrive||t,powaTrack:n,live:e.live},Object(o.pick)(r,["template","style"])));i.append(c),ge.set(t,c),a()}else a()})}.call(e)}).then(function(){return Se.call(e)}).then(function(){return function(){var t=de.get(this),e=le.get(this);if(t.ads){var n=t.powaSellAdTag||new W.a(Object(o.extend)({powaTrack:e,powa:t.powaDrive||this},Object(o.pick)(t,["adPreload","getAdTag"])));return ue.set(this,n),Promise.resolve(n)}return Promise.resolve(null)}.call(e)}).then(function(){return function(){var t=de.get(this),e=le.get(this),n=he.get(this),i=Object(o.extend)(t.advertising,PoWaSettings.advertising);if(t.ads&&i.adBar){var r=i.adBar?Object(o.extend)(I.DEFAULTS,i.adBar):i.adBar,a=new I(Object(o.extend)({$container:n,powaTrack:e,id:t.id},r));n.append(a),me.set(this,a)}return Promise.resolve(null)}.call(e)}).then(function(){var t=le.get(e),n=de.get(e),i=fe.get(e),r=ye.get(e);t.on(d.t.PROMO_PLAY,e.play),t.on(d.t.AD_PLAY,r.hide),t.on(d.t.PLAY,r.hide),t.on(d.t.END,function(){if(n.autoShowPromo){i.autoShowPromoTimeout=setTimeout(function(){e.getStatus().running||(r.show(),i.autoShowPromoTimeout=null)},n.autoShowPromo)}}),Object(l.set)(window,"powas.".concat(n.id,".powa"),e,!1);var a=Object.assign({powa:e},Object(o.pick)(n,"autoplay"),Object(o.pick)(i,"autoplayStatus"));n.ready(a),a.powa=n.powaDrive||a.powa,t.trigger(d.t.POWA_READY,a),(n.autoplay||n.initplay)&&(n.autoplay&&t.trigger(d.t.AUTOPLAY),e.play())}).catch(function(t){var n=le.get(e);n&&n.trigger(d.t.POWA_ERROR,{error:t})})}return Qt(t,null,[{key:"MODULE",get:function(){return Zt}},{key:"EVENTS",get:function(){return d.t}},{key:"STATES",get:function(){return Xt}},{key:"BUILD",get:function(){return"16569088"}},{key:"VERSION",get:function(){return"3.3.9"}}]),Qt(t,[{key:"get$container",value:function(){return he.get(this)}},{key:"get$video",value:function(){return pe.get(this)}},{key:"getDataset",value:function(){var t=Object(l.ensureDataset)(this.getElement()).dataset;return Object(o.mapObj)(t,l.parseString)}},{key:"getElement",value:function(){return this.get$container().elements[0]}},{key:"getHeight",value:function(){return he.get(this).height()}},{key:"getVideoData",value:function(){return{}}},{key:"getVideoElement",value:function(){return pe.get(this).elements[0]}},{key:"getWidth",value:function(){return he.get(this).width()}},{key:"powaTrackExtend",value:function(t){var e=le.get(this);e&&e.extend(t)}},{key:"loadVideo",value:function(t,e){var n=this,i=arguments,r=ce.get(this),a=le.get(this),s=ye.get(this),c=pe.get(this),u=be.get(this),l=fe.get(this),f=de.get(this),h=ve.get(this),p=function(){var f=ve.get(n),h=c.getStatus();l.video=t,we.call(n);var p=function(){c.clearStarted(),u.load(l.video.tracks),ke(l.stream)?Se.call(n).then(function(){ce.get(n).loadStream(l.stream,e)}).catch(function(t){console.error(t)}):c.load(l.stream,e)};f&&f.destroy(),l.stream?r?(r.once(Hls.Events.MEDIA_DETACHED,function(){ce.set(n,null),p()}),r.destroy()):ke(l.stream)?c.unload(p):p():a.trigger(d.t.ERROR,Object(o.extend)(h,{eventID:930,error:"No viable stream",errorMessage:"No viable streams",module:Zt,method:"loadVideo",parameters:i})),t.promo&&s.update(t.promo)};f.debug&&console.debug("[".concat(Zt,"][loadVideo]"),t),this.getStatus().running&&c.skip(),u&&u.unload(),h&&h.isRunning()?(h.once(d.t.AD_END,p),h.skip()):p()}},{key:"getAdTag",value:function(t,e){var n=ue.get(this);return n?n.getAdTag(t,e):Promise.reject("No powaSellAdTag")}},{key:"loadAd",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,r){de.get(t).debug&&console.debug("[".concat(Zt,"][loadAd] - ").concat(e)),e?function(){var t=this;return new Promise(function(e,n){var i=de.get(t),r=ve.get(t);if(r&&r.destroy(),i.ads){var a=le.get(t),s=ye.get(t),c=pe.get(t),u=i.adHacks?rt:K;if(c){var f=Object(o.extend)({$container:he.get(t),powa:i.powaDrive||t,powaTrack:a,autoplay:i.autoplay&&0===a.getVideoStarts(),adBar:i.adBar,debug:i.debug,id:i.id,ready:function(n){ve.set(t,n),Object.assign(Xt,u.STATES),e(n)},setupError:function(n,i){var o=fe.get(t);ve.set(t,null),a.trigger(d.t.AD_SETUP_ERROR,{eventID:920,error:n.toString?n.toString():n,errorMessage:Object(l.get)(n,"message","The ad module failed to instantiate."),method:"setupAdverting",module:Zt}),o.adBlocked=i.getStatus().state===u.STATES.AD_BLOCKED,e()}},i.advertising,PoWaSettings.advertising),h=new u(f);h.on(d.t.AD_CONTENT_PAUSE_REQUESTED,function(t){c.goInvisible(),c.pause()}),h.on(d.t.AD_CONTENT_RESUME_REQUESTED,function(e){var n=ce.get(t),i=fe.get(t),o=function(){var n=me.get(t);e.detail.status!==d.t.AD_CLICK||n?c.play():(s.showPlayButton(),s.show())};c.goVisible(),n&&Object(l.hasExtension)(i.stream,Jt)?Object(l.onceVisible)(o):o()}),h.on(d.t.AD_MUTE,function(t){return c.mute(t.detail.muted)}),h.on(d.t.AD_CLICK,function(e){var n=me.get(t);!1!==Object(l.get)(PoWaSettings,"advertising.pauseOnClick")&&(h.pause(),!1!==Object(l.get)(PoWaSettings,"advertising.skipOnClick")&&(n?n.adBarShowSkip():h.skip()))}),h.on(d.t.AD_ERROR,function(t){Object(l.get)(t,"detail.contentPauseRequested")||Object(l.nextTick)(function(){c.getStatus().started&&(c.play(),h.destroy())})}),h.on(d.t.AD_PLAYLIST_COMPLETE,function(){h.destroy()}),h.on(d.t.AD_DESTROYED,function(){ve.set(t,null)}),Object(o.forEach)(u.EVENTS,function(t){h.on(t,function(e){return a.trigger(t,e.detail?e.detail:e)}),i.advertising&&i.advertising.on&&i.advertising.on[t]&&"function"==typeof i.advertising.on[t]&&a.on(t,i.advertising.on[t])})}}else e()})}.call(t).then(function(t){t.requestAd(e,n),i({$powaSell:t,adPreload:n,status:"ad requested"})}).catch(function(){return r({adTag:e,adPreload:n,status:"error"})}):r({adTag:e,adPreload:n,status:"no ad tag"})})}},{key:"registerPlayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.noop,n=se.get(this);e="function"==typeof e?e:l.noop,t&&t instanceof HTMLElement&&"VIDEO"===t.nodeName&&n.push({player:t,callback:e})}},{key:"startAd",value:function(){var t=this,e=pe.get(this),n=ve.get(this),i=le.get(this);de.get(this).debug&&console.debug("[".concat(Zt,"][startAd]"));var o=function(n){n.initialUserAction();var o=n.getStatus(),r=o.adTagURL;o.state!==K.STATES.AD_ERROR?(r&&le.get(t).trigger(d.t.AD_WAITING,{type:d.t.AD_WAITING,adMeta:o.adMeta}),o.adReady?n.startAd():r&&i.once(d.t.AD_READY,function(){n.getStatus().adTagURL===r&&n.startAd()})):e.play()};n?o(n):i.once(d.t.AD_READY,function(){return o(ve.get(t))})}},{key:"skipAd",value:function(){var t=de.get(this),e=ve.get(this);t.debug&&console.debug("[".concat(Zt,"][skipAd]")),e&&e.isRunning()&&e.skip()}},{key:"pause",value:function(){var t=de.get(this),e=ve.get(this);t.debug&&console.debug("[".concat(Zt,"][pause]")),e&&e.isRunning()?e.pause():pe.get(this).pause()}},{key:"play",value:function(){var t=fe.get(this),e=de.get(this),n=pe.get(this),i=ve.get(this),o=le.get(this);e.debug&&console.debug("[".concat(Zt,"][play]")),o.isReady()?t.stream?(t.autoShowPromoTimeout&&(clearTimeout(t.autoShowPromoTimeout),t.autoShowPromoTimeout=null),i&&i.isRunning()?i.play():(i&&i.initialUserAction(),n.play())):o.trigger(d.t.ERROR,{eventID:930,module:Zt,method:"play",parameters:arguments,error:"No viable streams",errorMessage:"No viable streams"}):e.initplay=!0}},{key:"togglePlay",value:function(){var t=de.get(this),e=ve.get(this);t.debug&&console.debug("[".concat(Zt,"][togglePlay]")),e&&e.isRunning()?e.togglePlay():pe.get(this).togglePlay()}},{key:"seekTime",value:function(t){this.debug&&console.debug("[".concat(Zt,"][seekTime]")),le.get(this).trigger(d.t.SEEK,{seek:t})}},{key:"seekPosition",value:function(t){this.debug&&console.debug("[".concat(Zt,"][seekPosition]")),le.get(this).trigger(d.t.SEEK,{seekPosition:t})}},{key:"seekLive",value:function(){var t=ce.get(this);return t?this.seekTime(t.liveSyncPosition):null}},{key:"jump",value:function(t){var e=de.get(this),n=ve.get(this);if(e.debug&&console.debug("[".concat(Zt,"][togglePlay]")),!n||!n.isRunning())return pe.get(this).jump(t)}},{key:"mute",value:function(t){return pe.get(this).mute(t)}},{key:"muted",value:function(){return pe.get(this).muted()}},{key:"volume",value:function(t){return pe.get(this).volume(t)}},{key:"showPromo",value:function(){de.get(this).debug&&console.debug("[".concat(Zt,"][showPromo]")),ye.get(this).show()}},{key:"hidePromo",value:function(){de.get(this).debug&&console.debug("[".concat(Zt,"][hidePromo]")),ye.get(this).hide()}},{key:"showControls",value:function(){var t=de.get(this),e=ge.get(this);"native"===t.controls?pe.get(this).setControls(!0):t.controls&&e&&e.showControls()}},{key:"hideControls",value:function(){var t=de.get(this),e=ge.get(this);"native"===t.controls?pe.get(this).setControls(!1):t.controls&&e&&e.hideControls()}},{key:"showSubtitles",value:function(t){var e=be.get(this);e&&e.show(t)}},{key:"hideSubtitles",value:function(){var t=be.get(this);t&&t.hide()}},{key:"toggleSubtitles",value:function(){var t=be.get(this);t&&(t.showing()?t.hide():t.show())}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"getStatus",value:function(){var t=de.get(this),e=fe.get(this),n=pe.get(this),i=ve.get(this),r=be.get(this),a=le.get(this),s=i?i.getStatus():{},c=n?n.getStatus():{},u=r?r.getStatus():{},d={autoplay:t.autoplay,running:!(!c.running&&!s.running),playing:!!(c.state===Xt.PLAYING||Object(l.notEmpty)(s)&&s.state===Xt.AD_PLAYING),state:s.running?s.state:Object(l.notEmpty)(c)?c.state:Object(l.notEmpty)(s)?s.state:null,videoStarts:a?a.getVideoStarts():0};Object.assign(d,Object(o.pick)(c,te));var f=Object(o.chain)(e).pick(ee).rename(oe).compact().value();if(Object.assign(d,f),Object(l.notEmpty)(s)){var h=s.running?s.timing.duration-(s.timing.remaining>=0?s.timing.remaining:s.timing.lastRemaining):null;Object.assign(d,{adDuration:s.timing.duration,adRunning:s.running,adStatus:s,adTime:h})}return d=Object(o.extend)(d,u),this.updaters.reduce(function(t,e){return e(t)},d)}},{key:"statusUpdater",value:function(t){"function"==typeof t&&this.updaters.push(t)}},{key:"on",value:function(t,e,n){var i=he.get(this);!i||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).on(t,e):i.on(t,e,n)}},{key:"off",value:function(t,e){var n=he.get(this);!n||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).off(t,e):n.off(t,e)}},{key:"once",value:function(t,e,n){var i=he.get(this);!i||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).once(t,e,n):i.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=he.get(this);!o||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).onceIf(t,e,n,i):o.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=he.get(this);!o||t!==d.t.VIEWABLE&&t!==d.t.NOT_VIEWABLE?le.get(this).until(t,e,n,i):o.until(t,n,i)}},{key:"trigger",value:function(t,e){le.get(this).trigger(t,e)}},{key:"destroy",value:function(){var t=ce.get(this),e=le.get(this),n=he.get(this),i=pe.get(this),o=ve.get(this),r=be.get(this),a=ye.get(this);e.trigger(d.t.DESTROYED,{type:d.t.DESTROYED}),t&&t.destroy(),o&&o.destroy(),a.destroy(),r.destroy(),i.destroy(),e.destroy(),n.destroy(),delete window.powas[de.get(this).id].powa,ce.set(this,null),le.set(this,null),de.set(this,null),fe.set(this,null),he.set(this,null),pe.set(this,null),ye.set(this,null),ve.set(this,null),be.set(this,null)}}]),t}();window.PoWa=Ee},function(t,e,n){n(93),n(143),t.exports=n(42).Array.from},function(t,e,n){var i=n(69),o=n(66);t.exports=function(t){return function(e,n){var r,a,s=String(o(e)),c=i(n),u=s.length;return c<0||c>=u?t?"":void 0:(r=s.charCodeAt(c))<55296||r>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):r:t?s.slice(c,c+2):a-56320+(r-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(106),o=n(63),r=n(80),a={};n(55)(a,n(47)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(51),o=n(50),r=n(62);t.exports=n(49)?Object.defineProperties:function(t,e){o(t);for(var n,a=r(e),s=a.length,c=0;s>c;)i.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var i=n(52),o=n(68),r=n(77)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var i=n(54),o=n(45),r=n(68),a=n(120),s=n(121),c=n(61),u=n(144),l=n(122);o(o.S+o.F*!n(107)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,f=r(t),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,b=l(f);if(v&&(g=i(g,p>2?arguments[2]:void 0,2)),null==b||h==Array&&s(b))for(n=new h(e=c(f.length));e>m;m++)u(n,m,v?g(f[m],m):f[m]);else for(d=b.call(f),n=new h;!(o=d.next()).done;m++)u(n,m,v?a(d,g,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(51),o=n(63);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){n(146),t.exports=n(42).String.endsWith},function(t,e,n){"use strict";var i=n(45),o=n(61),r=n(108),a="".endsWith;i(i.P+i.F*n(109)("endsWith"),"String",{endsWith:function(t){var e=r(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=o(e.length),s=void 0===n?i:Math.min(o(n),i),c=String(t);return a?a.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,n){var i=n(48),o=n(60),r=n(47)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,n){n(149),t.exports=n(42).String.startsWith},function(t,e,n){"use strict";var i=n(45),o=n(61),r=n(108),a="".startsWith;i(i.P+i.F*n(109)("startsWith"),"String",{startsWith:function(t){var e=r(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){n(151),n(84),n(154),n(155),t.exports=n(42).Symbol},function(t,e,n){"use strict";var i=n(43),o=n(52),r=n(49),a=n(45),s=n(56),c=n(86).KEY,u=n(53),l=n(64),d=n(80),f=n(59),h=n(47),p=n(123),g=n(103),v=n(152),m=n(130),b=n(50),y=n(48),w=n(58),O=n(75),k=n(63),S=n(106),E=n(153),j=n(131),A=n(51),T=n(62),_=j.f,P=A.f,C=E.f,x=i.Symbol,D=i.JSON,L=D&&D.stringify,R=h("_hidden"),M=h("toPrimitive"),I={}.propertyIsEnumerable,W=l("symbol-registry"),N=l("symbols"),$=l("op-symbols"),B=Object.prototype,U="function"==typeof x,H=i.QObject,V=!H||!H.prototype||!H.prototype.findChild,F=r&&u(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=_(B,e);i&&delete B[e],P(t,e,n),i&&t!==B&&P(B,e,i)}:P,z=function(t){var e=N[t]=S(x.prototype);return e._k=t,e},q=U&&"symbol"==typeof x.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof x},G=function(t,e,n){return t===B&&G($,e,n),b(t),e=O(e,!0),b(n),o(N,e)?(n.enumerable?(o(t,R)&&t[R][e]&&(t[R][e]=!1),n=S(n,{enumerable:k(0,!1)})):(o(t,R)||P(t,R,k(1,{})),t[R][e]=!0),F(t,e,n)):P(t,e,n)},Y=function(t,e){b(t);for(var n,i=v(e=w(e)),o=0,r=i.length;r>o;)G(t,n=i[o++],e[n]);return t},K=function(t){var e=I.call(this,t=O(t,!0));return!(this===B&&o(N,t)&&!o($,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=w(t),e=O(e,!0),t!==B||!o(N,e)||o($,e)){var n=_(t,e);return!n||!o(N,e)||o(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=C(w(t)),i=[],r=0;n.length>r;)o(N,e=n[r++])||e==R||e==c||i.push(e);return i},J=function(t){for(var e,n=t===B,i=C(n?$:w(t)),r=[],a=0;i.length>a;)!o(N,e=i[a++])||n&&!o(B,e)||r.push(N[e]);return r};U||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call($,n),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),F(this,t,k(1,n))};return r&&V&&F(B,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",function(){return this._k}),j.f=Q,A.f=G,n(124).f=E.f=Z,n(70).f=K,n(81).f=J,r&&!n(65)&&s(B,"propertyIsEnumerable",K,!0),p.f=function(t){return z(h(t))}),a(a.G+a.W+a.F*!U,{Symbol:x});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)h(X[tt++]);for(var et=T(h.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return o(W,t+="")?W[t]:W[t]=x(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?S(t):Y(S(t),e)},defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),D&&a(a.S+a.F*(!U||u(function(){var t=x();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(y(e)||void 0!==t)&&!q(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,L.apply(D,i)}}),x.prototype[M]||n(55)(x.prototype,M,x.prototype.valueOf),d(x,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(62),o=n(81),r=n(70);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var a,s=n(t),c=r.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var i=n(58),o=n(124).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},function(t,e,n){n(103)("asyncIterator")},function(t,e,n){n(103)("observable")},function(t,e,n){n(84),n(93),n(96),n(158),n(162),n(163),t.exports=n(42).Promise},function(t,e,n){"use strict";var i=n(94),o=n(132),r=n(76),a=n(58);t.exports=n(105)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,o,r,a,s=n(65),c=n(43),u=n(54),l=n(92),d=n(45),f=n(48),h=n(67),p=n(97),g=n(79),v=n(125),m=n(126).set,b=n(160)(),y=n(104),w=n(127),O=n(161),k=n(128),S=c.TypeError,E=c.process,j=E&&E.versions,A=j&&j.v8||"",T=c.Promise,_="process"==l(E),P=function(){},C=o=y.f,x=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(47)("species")]=function(t){t(P,P)};return(_||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==A.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,o=1==t._s,r=0,a=function(e){var n,r,a,s=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(o||(2==t._h&&I(t),t._h=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(r=D(n))?r.call(n,c,u):c(n)):u(i)}catch(t){l&&!a&&l.exit(),u(t)}};n.length>r;)a(n[r++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){m.call(c,function(){var e,n,i,o=t._v,r=M(t);if(r&&(e=w(function(){_?E.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=_||M(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){m.call(c,function(){var e;_?E.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},W=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=D(t))?b(function(){var i={_w:n,_d:!1};try{e.call(t,u(N,i,1),u(W,i,1))}catch(t){W.call(i,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){W.call({_w:n,_d:!1},t)}}};x||(T=function(t){p(this,T,"Promise","_h"),h(t),i.call(this);try{t(u(N,this,1),u(W,this,1))}catch(t){W.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(98)(T.prototype,{then:function(t,e){var n=C(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=_?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=u(N,t,1),this.reject=u(W,t,1)},y.f=C=function(t){return t===T||t===a?new r(t):o(t)}),d(d.G+d.W+d.F*!x,{Promise:T}),n(80)(T,"Promise"),n(133)("Promise"),a=n(42).Promise,d(d.S+d.F*!x,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!x),"Promise",{resolve:function(t){return k(s&&this===a?T:this,t)}}),d(d.S+d.F*!(x&&n(107)(function(t){T.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=C(e),i=n.resolve,o=n.reject,r=w(function(){var n=[],r=0,a=1;g(t,!1,function(t){var s=r++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||i(n))},o)}),--a||i(n)});return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=C(e),i=n.reject,o=w(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(43),o=n(126).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,c="process"==n(60)(a);t.exports=function(){var t,e,n,u=function(){var i,o;for(c&&(i=a.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){a.nextTick(u)};else if(!r||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(i,u)};else{var d=!0,f=document.createTextNode("");new r(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var i=n(43).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(45),o=n(42),r=n(43),a=n(125),s=n(128);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,o.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(45),o=n(104),r=n(127);i(i.S,"Promise",{try:function(t){var e=o.f(this),n=r(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},,,function(t,e,n){n(167),t.exports=n(42).Array.includes},function(t,e,n){"use strict";var i=n(45),o=n(91)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)("includes")},function(t,e,n){n(169),t.exports=n(42).Array.find},function(t,e,n){"use strict";var i=n(45),o=n(102)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)("find")},function(t,e,n){var i=n(171);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(48),o=n(130),r=n(47)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){n(173),t.exports=n(42).Array.findIndex},function(t,e,n){"use strict";var i=n(45),o=n(102)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(94)(r)},function(t,e,n){n(175),t.exports=n(42).Object.keys},function(t,e,n){var i=n(68),o=n(62);n(176)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(45),o=n(42),r=n(53);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){n(178),t.exports=n(42).String.includes},function(t,e,n){"use strict";var i=n(45),o=n(108);i(i.P+i.F*n(109)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(84),n(96),n(180),n(184),n(185),t.exports=n(42).WeakMap},function(t,e,n){"use strict";var i,o=n(43),r=n(102)(0),a=n(56),s=n(86),c=n(95),u=n(181),l=n(48),d=n(83),f=n(83),h=!o.ActiveXObject&&"ActiveXObject"in o,p=s.getWeak,g=Object.isExtensible,v=u.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(l(t)){var e=p(t);return!0===e?v(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(d(this,"WeakMap"),t,e)}},y=t.exports=n(116)("WeakMap",m,b,u,!0,!0);f&&h&&(c((i=u.getConstructor(m,"WeakMap")).prototype,b),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];a(e,t,function(e,o){if(l(e)&&!g(e)){this._f||(this._f=new i);var r=this._f[t](e,o);return"set"==t?this:r}return n.call(this,e,o)})}))},function(t,e,n){"use strict";var i=n(98),o=n(86).getWeak,r=n(50),a=n(48),s=n(97),c=n(79),u=n(102),l=n(52),d=n(83),f=u(5),h=u(6),p=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var u=t(function(t,i){s(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=i&&c(i,n,t[r],t)});return i(u.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return!0===n?g(d(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return!0===n?g(d(this,e)).has(t):n&&l(n,this._i)}}),u},def:function(t,e,n){var i=o(r(e),!0);return!0===i?g(t).set(e,n):i[t._i]=n,t},ufstore:g}},function(t,e,n){var i=n(48),o=n(183).set;t.exports=function(t,e,n){var r,a=e.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&i(r)&&o&&o(t,r),t}},function(t,e,n){var i=n(48),o=n(50),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(54)(Function.call,n(131).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},function(t,e,n){n(117)("WeakMap")},function(t,e,n){n(118)("WeakMap")},function(t,e,n){n(84),n(93),n(96),n(187),n(188),n(190),n(191),t.exports=n(42).Set},function(t,e,n){"use strict";var i=n(134),o=n(83);t.exports=n(116)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(o(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){var i=n(45);i(i.P+i.R,"Set",{toJSON:n(135)("Set")})},function(t,e,n){var i=n(79);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){n(117)("Set")},function(t,e,n){n(118)("Set")},function(t,e,n){n(84),n(93),n(96),n(193),n(194),n(195),n(196),t.exports=n(42).Map},function(t,e,n){"use strict";var i=n(134),o=n(83);t.exports=n(116)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(o(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){var i=n(45);i(i.P+i.R,"Map",{toJSON:n(135)("Map")})},function(t,e,n){n(117)("Map")},function(t,e,n){n(118)("Map")},,function(t,e,n){"use strict";n.r(e),n.d(e,"PoWaDrive",function(){return Q});n(136);var i=n(25),o=n(137),r=n(72),a=n(112),s=n(115),c=n(114),u=n(0),l=n(113),d=n(23),f=n(3),h=n(1);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var m="PoWaDrive",b=Object(h.freeze)({AUTOINIT:{TRUE:!0,FALSE:!1,NATIVE_HLS:"native-hls"},DEBUG:{TRUE:!0,FALSE:!1,FULL:"full"}}),y=Object(h.freeze)({ads:!0,adHacks:!0,autoplay:!1,autoinit:b.AUTOINIT.NATIVE_HLS,debug:b.DEBUG.FALSE});Object(h.set)(window,"PoWaSettings.powaUp.element",[],!1),Object(h.set)(window,"PoWaSettings.powaUp.videoData",[],!1);var w=Object(h.freeze)({advertising:{},imageResizer:function(t){return t.url},maxBitrate:{mobile:300,tablet:600,desktop:2e3},promo:{size:"medium"},streamPreference:["_master.m3u8","_mobile.m3u8",".m3u8",".mp4",".webm"]}),O=Object(h.freeze)({additional_properties:{imageResizerUrls:[]},canonical_url:"",headlines:{},promo_image:{},streams:[],subtitles:{urls:[]}}),k=new WeakMap,S=new WeakMap,E=new WeakMap,j=new WeakMap;function A(t){return Object(h.ensureDataset)(t),function(t){var e=t.getAttribute("id");if(!e){var n=Object(f.mapObj)(t.dataset,h.parseString);e="powa-".concat(n.uuid?n.uuid:Date.now(),"-").concat(n.powaIndex),t.setAttribute("id",e)}}(t),t}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,i=k.get(this);function o(e){var o=Object(f.find)(i.playlist,function(e){return e.uuid===t._id});o&&(o.error=!0),n(Object(f.extend)({error:"incomplete video data",videoData:t},e))}(t=Object(f.extend)(O,t))._id?t.headlines.basic?t.streams.length?t.promo_image.url?"live"===t.video_type&&"ended"===t.status?o({message:"livestream ended",error:"livestream ended"}):e(t):o({message:"video data missing image"}):o({message:"video data missing streams"}):o({message:"video data missing title"}):o({message:"video data missing uuid"})}function _(t){if(!t)return null;var e=PoWaSettings.client.isMobile?"mobile":PoWaSettings.client.isTablet?"tablet":"desktop",n=P(t),i=Object(h.get)(t,"mediaTailor.manifestURL");return{promo:n,streams:i?[i]:Object(h.selectStreams)({streams:t.streams,live:"live"===t.video_type,maxBitrate:PoWaSettings.maxBitrate[e],streamPreference:PoWaSettings.streamPreference}),tracks:function(t){return!t.additional_properties.doNotShowTranscripts&&Object(h.get)(t,"subtitles.urls.length")&&Object(f.some)(t.subtitles.urls,function(t){return"WEB_VTT"===t.format})?t.subtitles.urls:null}(t)}}function P(t){var e=Object(f.find)(t.additional_properties.imageResizerUrls,function(t){return t&&t.size&&t.size===PoWaSettings.promo.size});return{image:Object(h.protocolAgnosticURL)(!1!==PoWaSettings.promo.resized&&e&&e.url?e.url:PoWaSettings.imageResizer?PoWaSettings.imageResizer(t.promo_image):t.promo_image),title:t.headlines.basic,videoData:t}}function C(t){z.call(this),E.get(this).trigger(u.t.POWA_ERROR,{error:t,id:S.get(this).elementID,powa:this})}function x(t){return window.powaData=window.powaData||{},Object(h.isObject)(t)&&t._id&&(powaData[t._id]=powaData[t._id]||t),t}function D(t){var e=t.apiResponse,n=e.uuid||null,i=e.playlistName||null;return e=e.playlistItems||e,e=Array.isArray(e)?e:[e],Promise.resolve(Object(f.extend)(t,{videoDataList:e,playlistUUID:n,playlistName:i}))}function L(t){var e=Object(h.get)(t,"videoDataList[0]");return"geo-restriction"===Object(h.get)(e,"type")?e.until?Promise.reject({eventID:932,error:"time-restriction",geo:e,message:"This video is not currently available."}):Promise.reject({eventID:931,error:"geo-restriction",geo:e,message:"This video is geo-restricted."}):Promise.resolve(t)}function R(t){var e=t.api,n=t.org,i=t.powaTrack,o=t.site,r=t.state,a=t.uuid,s=Object(h.get)(t,"videoDataList[0].content_restrictions.geo.restrictions.length");return clearTimeout(r.geoTO),s&&PoWaSettings.geoAPI({api:e,org:n,site:o,uuid:a}).then(function(t){if(t.until){var e=Date.now(),n=new Date(t.until)-e;r.geoTO=setTimeout(function(){r.powa&&r.powa.pause(),i.trigger(u.t.ERROR,{eventID:933,error:"time-window ended",message:"This video's availability has ended."})},n)}}).catch(function(t){console.error(t)}),Promise.resolve(t)}function M(t){var e=Object(h.get)(t,"videoDataList[0].video_type"),n=Object(h.get)(t,"videoDataList[0].status"),i=Object(h.get)(t,"videoDataList[0].additional_properties.livePlayThroughToVod");return"live"!==e||"ended"!==n||i?Promise.resolve(t):Promise.reject({eventID:934,error:"livestream ended",message:"This live stream has ended.",videoData:Object(h.get)(t,"videoDataList[0]")})}function I(t){var e=Object(h.get)(t,"videoDataList[0]");return e?(t.state.videoData=e,Promise.resolve(t)):Promise.reject({error:"no video data"})}function W(t){return new Promise(function(e,n){var i=t.context,o=t.videoDataList;PoWaSettings.powaUp.videoData.reduce(function(t,e){return t.then(function(t){return e(t,i)})},Promise.resolve(o)).then(function(n){e(Object(f.extend)(t,{videoDataList:n}))}).catch(n)})}function N(t){return t.videoDataList.forEach(x),Promise.resolve(t)}function $(t){var e=t.context,n=t.playlistUUID,i=t.playlistName,o=t.state,r=t.videoDataList,a=o.playlist||[];return a=Object(f.find)(a,function(t){return t.uuid===r[0]._id})?a:r,e.setPlaylist(a),n?o.playlistUUID=n:delete o.playlistUUID,i?o.playlistName=i:delete o.playlistName,Promise.resolve(t)}function B(t){return Promise.resolve(t.videoDataList[0])}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,i=E.get(this),o=S.get(this),r=k.get(this),a=o.api,s=o.org,c=o.site,u=t.uuid;(function(t){return new Promise(function(e,n){window.powaData=window.powaData||{};var i=t.api,o=t.org,r=t.playlist,a=t.site,s=t.uuid;s&&powaData[s]?e(Object(f.extend)(t,{apiResponse:powaData[s]})):PoWaSettings.videoAPI({api:i,org:o,playlist:r,site:a,type:s?"video":"playlist",uuid:s}).then(function(n){e(Object(f.extend)(t,{apiResponse:n}))}).catch(n)})})({api:a,context:this,org:s,playlist:t.playlist,powaTrack:i,settings:o,site:c,state:r,uuid:u}).then(D).then(L).then(R).then(M).then(I).then(W).then(N).then($).then(B).then(e).catch(n)}function H(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=k.get(this);T.call(this,t,function(t){o.powa?(o.videoData=t,z.call(e),o.powa.loadVideo(_(t),n)):Y.call(e,t)},i)}var V=/^93\d$/;function F(t){var e=k.get(this);console.error("[".concat(m,"] error -"),Object(h.get)(t,"message",t)),E.get(this).trigger("error",t),V.test(t.eventID)||e.powa||C.call(this,t)}function z(){var t=S.get(this);Object(h.set)(window,"powas.".concat(t.elementID,".powa"),this,!1)}function q(t){var e=this,n=k.get(this),r=S.get(this),a=E.get(this),s=j.get(this),c=P(n.videoData),l=Object(f.chain)(y).pick(["ads","adHacks","autoplay"]).extend({debug:!1,id:r.elementID,hlsjsURL:Object(d.e)(r.org),video:_(n.videoData),ready:function(t){n.powa=t.powa,e.updaters.forEach(function(t){return n.powa.statusUpdater(t)}),delete e.updaters,e.playersToRegister.forEach(function(t){var e=t.player,i=t.callback;return n.powa.registerPlayer(e,i)}),delete e.playersToRegister,function(){var t=this,e=k.get(this),n={onAdCompanions:function(t){var e=k.get(this);Object(h.get)(e,"state.$adCompanionContainer.elements[0]")&&Object(h.get)(t,"adCompanions.length")&&e.$adCompanionContainer.append(Object(i.$)(t.adCompanions[0].content))},onAdEnd:function(){var t=k.get(this);Object(h.get)(t,"$adCompanionContainer.empty")&&t.$adCompanionContainer.empty()},onComplete:function(){this.next()},onError:function(){var t=k.get(this),e=Object(f.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.error=!0),this.next()},onStart:function(){var t=k.get(this),e=Object(f.find)(t.playlist,function(e){return e.uuid===t.videoData._id});e&&(e.played=!0),this.trigger(u.k.PLAYLIST)}};Object(f.forEach)(u.t,function(i){var o="on".concat(i[0].toUpperCase()+i.slice(1));n[o]&&e.powa.on(i,n[o].bind(t))})}.call(e)},error:function(t){C.call(e,t)},poster:c.image,powaDrive:this,powaTrack:a,powaSellAdTag:s,promo:c}).extend(this.getDataset()).extend(t).value();"default"===l.promo&&(l.promoDefault=!0),!Object(h.has)(l,"muted")&&!Object(h.has)(l,"volume")||Object(h.has)(l,"stashVolume")||(l.stashVolume=!1),l.promo=c,l.id=r.elementID,l.debug=r.element.debug===b.DEBUG.FULL,l.powaOutage=n.$powaOutage,new o.PoWa(l)}function G(){var t=k.get(this);E.get(this).off(r.a.EVENTS.PROMO_PLAY,t.promoPlayCallback),delete t.promoPlayCallback,q.call(this,{initplay:!0,$container:t.$container,$promo:t.$promo})}function Y(t){var e=k.get(this),n=S.get(this);switch(e.videoData=t,z.call(this),function(){var t=k.get(this),e=S.get(this);if(e.element.dataset.adCompanion){var n=e.element.dataset.adCompanion.replace(/^#/,"");t.$adCompanionContainer=Object(i.$)("#".concat(n))}}.call(this),PoWaSettings.videoSupport=PoWaSettings.videoSupport||Object(h.getVideoSupport)(),n.hls){case"native":PoWaSettings.videoSupport.hls=!0;break;case"js":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!0;break;case"none":PoWaSettings.videoSupport.hls=!1,PoWaSettings.videoSupport.hlsJS=!1}var o=Object(h.get)(PoWaSettings,"videoSupport.hls");!!n.autoplay||(!!n.adPreload||"live"!==t.video_type&&(!(n.autoinit!==b.AUTOINIT.NATIVE_HLS||!o)||!0===n.autoinit))?q.call(this,{$container:e.$container}):function(){var t=k.get(this),e=E.get(this),n=S.get(this),i=E.get(this),o=P(t.videoData);if(t.$promo){var a=_(t.videoData).promo;t.$promo.update(a)}else t.$promo=new r.a({powa:this,powaTrack:i,data:o,id:n.elementID,$container:t.$container,style:PoWaSettings.promo.style,template:PoWaSettings.promo.template,default:"default"===n.element.dataset.promo}),t.promoPlayCallback=G.bind(this),e.on(r.a.EVENTS.PROMO_PLAY,t.promoPlayCallback)}.call(this)}function K(t,e){return Object.assign({id:this.getID(),element:this.getElement(),powa:this,playlist:this.getPlaylist(),playlistMeta:this.getPlaylistMeta(),videoData:this.getVideoData()},t)}var Q=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(h.bindAll)(this),!(e=A(e)))return C.call(this,{error:"invalid element",message:"PoWa element is invalid"}),null;var i=Object(f.extend)(y,Object(f.mapObj)(e.dataset,h.parseString),{element:e,elementID:e.id});i.org=i.org||Object(h.get)(PoWaSettings,"org"),i.env=i.env||Object(d.b)(),i.api=i.api?i.api:"sandbox"===i.env?"sandbox":"prod";var o=new s.a(Object(f.extend)({org:i.org,id:i.elementID,debug:!!i.debug,extender:K.bind(this)},PoWaSettings.powaTrack,Object(f.pick)(i,"keepHistory")));E.set(this,o),this.updaters=[],this.playersToRegister=[],S.set(this,i),function(){window.PoWaSettings=window.PoWaSettings||{},PoWaSettings=Object(f.extend)(w,PoWaSettings),PoWaSettings.client=PoWaSettings.client||Object(h.sniffClient)()}.call(this);var r=Object(f.extend)(Object(f.defined)({powa:this,element:i.element,aspectRatio:i.aspectRatio,client:PoWaSettings.client}),Object(h.get)(PoWaSettings,"container",{}));if(k.set(this,{$container:new l.a(r),playlist:[]}),i.ads){var u=new c.a({powaTrack:o,powa:this,adPreload:!!i.adPreload});j.set(this,u)}(function(){var t=k.get(this),e=S.get(this),n=E.get(this);t.$powaOutage=new a.a({powa:this,powaTrack:n,id:e.elementID,$container:t.$container,style:PoWaSettings.error?PoWaSettings.error.style:void 0,template:PoWaSettings.error?PoWaSettings.error.template:void 0,default:"default"===e.element.dataset.error})}).call(this),i.playlist?U.call(this,{playlist:i.playlist},function(t){T.call(n,t,Y.bind(n),F.bind(n))},F.bind(this)):i.uuid?U.call(this,{uuid:i.uuid},function(t){T.call(n,t,Y.bind(n),F.bind(n))},F.bind(this)):F.call(this,{error:"missing stream ID",message:'Neither "data-uuid" nor "data-playlist" provided.'})}return v(t,null,[{key:"BUILD",get:function(){return"16569088"}},{key:"VERSION",get:function(){return"3.3.9"}}]),v(t,[{key:"destroy",value:function(){var t=k.get(this);t.powa&&(t.powa.destroy(),delete t.powa)}},{key:"fullscreen",value:function(t){var e=this.get$container();e&&e.fullscreen(t)}},{key:"get$container",value:function(){return k.get(this).$container}},{key:"get$video",value:function(){var t=k.get(this);return t.powa?t.powa.get$video():null}},{key:"getAdTag",value:function(t,e){var n=j.get(this);return n?n.getAdTag(t,e):Promise.reject("No powaSellAdTag")}},{key:"getAPI",value:function(){return S.get(this).api}},{key:"getDataset",value:function(){var t=Object(h.ensureDataset)(this.getElement()).dataset;return Object(f.mapObj)(t,h.parseString)}},{key:"getElement",value:function(){return S.get(this).element}},{key:"getEnv",value:function(){return S.get(this).env}},{key:"getHeight",value:function(){return k.get(this).$container.height()}},{key:"getID",value:function(){return S.get(this).elementID}},{key:"getOrg",value:function(){return S.get(this).org}},{key:"getPlaylist",value:function(){return k.get(this).playlist.map(function(t){return powaData[t.uuid]||t.uuid})}},{key:"getPlaylistMeta",value:function(){var t=k.get(this),e=this.getVideoData()._id,n={currentIndex:e?t.playlist.findIndex(function(t){return t.uuid===e}):null,playlistStatus:t.playlist};return t.playlistName&&(n.name=t.playlistName),t.playlistUUID&&(n.uuid=t.playlistUUID),n}},{key:"getStatus",value:function(){var t=k.get(this);return t.powa?t.powa.getStatus():{}}},{key:"getVideoData",value:function(){return k.get(this).videoData||{}}},{key:"getVideoElement",value:function(){var t=k.get(this);return t.powa?t.powa.getVideoElement():null}},{key:"getWidth",value:function(){return k.get(this).$container.width()}},{key:"hideControls",value:function(){var t=k.get(this);t.powa&&t.powa.hideControls()}},{key:"hidePromo",value:function(){var t=k.get(this);t.powa&&t.powa.hidePromo()}},{key:"hideSubtitles",value:function(){var t=k.get(this);t.powa&&t.powa.hideSubtitles()}},{key:"isFullscreen",value:function(){var t=this.get$container();return t?t.isFullscreen():null}},{key:"jump",value:function(t){var e=k.get(this);return e.powa?e.powa.jump(t):null}},{key:"loadAd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=k.get(this);return n.powa?n.powa.loadAd(t,e):Promise.reject({adTag:t,adPreload:e,status:"No PoWa"})}},{key:"loadVideo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.noop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop,o=k.get(this),r=function(t){F.call(e,t),i(t)};switch(p(t)){case"string":o.videoData&&t===o.videoData._id?n():U.call(this,{uuid:t},function(t){H.call(e,t,n,r)},r);break;case"object":o.videoData&&t._id===o.videoData._id?n():H.call(this,t,n,r)}}},{key:"mute",value:function(t){var e=k.get(this);return e.powa?e.powa.mute(t):null}},{key:"muted",value:function(){var t=k.get(this);return t.powa?t.powa.muted():null}},{key:"next",value:function(){var t=k.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>=0){var i=n+1;if(i<e.length)return this.loadVideo(e[i].uuid,t.powa.play),!0;this.trigger(u.k.PLAYLIST_COMPLETE)}return!1}},{key:"pause",value:function(){var t=k.get(this);t.powa&&t.powa.pause()}},{key:"play",value:function(){var t=k.get(this);t.powa?t.powa.play():G.call(this)}},{key:"powaTrackExtend",value:function(t){var e=E.get(this);e&&e.extend(t)}},{key:"prev",value:function(){var t=k.get(this),e=t.playlist||[],n=e.findIndex(function(e){return e.uuid===t.videoData._id});if(n>0){var i=n-1;return this.loadVideo(e[i].uuid,t.powa.play),!0}return!1}},{key:"registerPlayer",value:function(t,e){var n=k.get(this);n.powa?n.powa.registerPlayer(t,e):this.playersToRegister.push({player:t,callback:e})}},{key:"seekLive",value:function(){var t=k.get(this);return t.powa?t.powa.seekLive():null}},{key:"seekPosition",value:function(t){var e=k.get(this);return e.powa?e.powa.seekPosition(t):null}},{key:"seekTime",value:function(t){var e=k.get(this);return e.powa?e.powa.seekTime(t):null}},{key:"setPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=k.get(this);if(t!==e.playlist&&Array.isArray(t)){var n=e.playlist;e.playlist=Object(f.chain)(t).forEach(x).map(function(t){var e="string"==typeof t?t:t.uuid?t.uuid:t._id?t._id:null;if(e){var i=Object(f.find)(n,function(t){return t.uuid===e}),o=i?i.played:Object(h.get)(t,"played",!1),r=i?i.error:Object(h.get)(t,"error",!1);return{uuid:e,played:o,error:r}}}).compact().value(),this.trigger(u.k.PLAYLIST_LOADED)}}},{key:"showControls",value:function(){var t=k.get(this);t.powa&&t.powa.showControls()}},{key:"showPromo",value:function(){var t=k.get(this);t.powa&&t.powa.showPromo()}},{key:"showSubtitles",value:function(t){var e=k.get(this);e.powa&&e.powa.showSubtitles(t)}},{key:"skipAd",value:function(){var t=k.get(this);t.powa&&t.powa.skipAd()}},{key:"startAd",value:function(){var t=k.get(this);t.powa&&t.powa.startAd()}},{key:"statusUpdater",value:function(t){var e=k.get(this);e.powa?e.powa.statusUpdater(t):this.updaters.push(t)}},{key:"togglePlay",value:function(){var t=k.get(this);t.powa?t.powa.togglePlay():G.call(this)}},{key:"toggleSubtitles",value:function(){var t=k.get(this);t.powa&&t.powa.toggleSubtitles()}},{key:"volume",value:function(t){var e=k.get(this);return e.powa?e.powa.volume(t):null}},{key:"on",value:function(t,e,n){var i=k.get(this);!i.$container||t!==u.t.VIEWABLE&&t!==u.t.NOT_VIEWABLE?E.get(this).on(t,e):i.$container.on(t,e,n)}},{key:"off",value:function(t,e){var n=k.get(this);!n.$container||t!==u.t.VIEWABLE&&t!==u.t.NOT_VIEWABLE?E.get(this).off(t,e):n.$container.off(t,e)}},{key:"once",value:function(t,e,n){var i=k.get(this);!i.$container||t!==u.t.VIEWABLE&&t!==u.t.NOT_VIEWABLE?E.get(this).once(t,e,n):i.$container.once(t,e,n)}},{key:"onceIf",value:function(t,e,n,i){var o=k.get(this);!o.$container||t!==u.t.VIEWABLE&&t!==u.t.NOT_VIEWABLE?E.get(this).onceIf(t,e,n,i):o.$container.onceIf(t,n,i)}},{key:"until",value:function(t,e,n,i){var o=k.get(this);!o.$container||t!==u.t.VIEWABLE&&t!==u.t.NOT_VIEWABLE?E.get(this).until(t,e,n,i):o.$container.until(t,n,i)}},{key:"trigger",value:function(t,e){E.get(this).trigger(t,e)}}]),t}();window.PoWaDrive=Q},,,,,,,,function(t,e,n){t.exports=n(198)}]));